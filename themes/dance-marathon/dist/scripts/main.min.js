!function(w){var i=!0;w.flexslider=function(p,t){var f=w(p);void 0===t.rtl&&"rtl"==w("html").attr("dir")&&(t.rtl=!0),f.vars=w.extend({},w.flexslider.defaults,t);var e,d=f.vars.namespace,g=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,u=("ontouchstart"in window||g||window.DocumentTouch&&document instanceof DocumentTouch)&&f.vars.touch,r="click touchend MSPointerUp keyup",l="",m="vertical"===f.vars.direction,v=f.vars.reverse,y=0<f.vars.itemWidth,b="fade"===f.vars.animation,h=""!==f.vars.asNavFor,x={};w.data(p,"flexslider",f),x={init:function(){f.animating=!1,f.currentSlide=parseInt(f.vars.startAt?f.vars.startAt:0,10),isNaN(f.currentSlide)&&(f.currentSlide=0),f.animatingTo=f.currentSlide,f.atEnd=0===f.currentSlide||f.currentSlide===f.last,f.containerSelector=f.vars.selector.substr(0,f.vars.selector.search(" ")),f.slides=w(f.vars.selector,f),f.container=w(f.containerSelector,f),f.count=f.slides.length,f.syncExists=0<w(f.vars.sync).length,"slide"===f.vars.animation&&(f.vars.animation="swing"),f.prop=m?"top":f.vars.rtl?"marginRight":"marginLeft",f.args={},f.manualPause=!1,f.stopped=!1,f.started=!1,f.startTimeout=null,f.transitions=!f.vars.video&&!b&&f.vars.useCSS&&function(){var t=document.createElement("div"),e=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in e)if(void 0!==t.style[e[i]])return f.pfx=e[i].replace("Perspective","").toLowerCase(),f.prop="-"+f.pfx+"-transform",!0;return!1}(),f.isFirefox=-1<navigator.userAgent.toLowerCase().indexOf("firefox"),(f.ensureAnimationEnd="")!==f.vars.controlsContainer&&(f.controlsContainer=0<w(f.vars.controlsContainer).length&&w(f.vars.controlsContainer)),""!==f.vars.manualControls&&(f.manualControls=0<w(f.vars.manualControls).length&&w(f.vars.manualControls)),""!==f.vars.customDirectionNav&&(f.customDirectionNav=2===w(f.vars.customDirectionNav).length&&w(f.vars.customDirectionNav)),f.vars.randomize&&(f.slides.sort(function(){return Math.round(Math.random())-.5}),f.container.empty().append(f.slides)),f.doMath(),f.setup("init"),f.vars.controlNav&&x.controlNav.setup(),f.vars.directionNav&&x.directionNav.setup(),f.vars.keyboard&&(1===w(f.containerSelector).length||f.vars.multipleKeyboard)&&w(document).bind("keyup",function(t){var e,i=t.keyCode;f.animating||39!==i&&37!==i||(e=f.vars.rtl?37===i?f.getTarget("next"):39===i&&f.getTarget("prev"):39===i?f.getTarget("next"):37===i&&f.getTarget("prev"),f.flexAnimate(e,f.vars.pauseOnAction))}),f.vars.mousewheel&&f.bind("mousewheel",function(t,e,i,n){t.preventDefault();var s=e<0?f.getTarget("next"):f.getTarget("prev");f.flexAnimate(s,f.vars.pauseOnAction)}),f.vars.pausePlay&&x.pausePlay.setup(),f.vars.slideshow&&f.vars.pauseInvisible&&x.pauseInvisible.init(),f.vars.slideshow&&(f.vars.pauseOnHover&&f.hover(function(){f.manualPlay||f.manualPause||f.pause()},function(){f.manualPause||f.manualPlay||f.stopped||f.play()}),f.vars.pauseInvisible&&x.pauseInvisible.isHidden()||(0<f.vars.initDelay?f.startTimeout=setTimeout(f.play,f.vars.initDelay):f.play())),h&&x.asNav.setup(),u&&f.vars.touch&&x.touch(),(!b||b&&f.vars.smoothHeight)&&w(window).bind("resize orientationchange focus",x.resize),f.find("img").attr("draggable","false"),setTimeout(function(){f.vars.start(f)},200)},asNav:{setup:function(){f.asNav=!0,f.animatingTo=Math.floor(f.currentSlide/f.move),f.currentItem=f.currentSlide,f.slides.removeClass(d+"active-slide").eq(f.currentItem).addClass(d+"active-slide"),g?(p._slider=f).slides.each(function(){var t=this;t._gesture=new MSGesture,(t._gesture.target=t).addEventListener("MSPointerDown",function(t){t.preventDefault(),t.currentTarget._gesture&&t.currentTarget._gesture.addPointer(t.pointerId)},!1),t.addEventListener("MSGestureTap",function(t){t.preventDefault();var e=w(this),i=e.index();w(f.vars.asNavFor).data("flexslider").animating||e.hasClass("active")||(f.direction=f.currentItem<i?"next":"prev",f.flexAnimate(i,f.vars.pauseOnAction,!1,!0,!0))})}):f.slides.on(r,function(t){t.preventDefault();var e=w(this),i=e.index(),n=f.vars.rtl?-1*(e.offset().right-w(f).scrollLeft()):e.offset().left-w(f).scrollLeft();n<=0&&e.hasClass(d+"active-slide")?f.flexAnimate(f.getTarget("prev"),!0):w(f.vars.asNavFor).data("flexslider").animating||e.hasClass(d+"active-slide")||(f.direction=f.currentItem<i?"next":"prev",f.flexAnimate(i,f.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){f.manualControls?x.controlNav.setupManual():x.controlNav.setupPaging()},setupPaging:function(){var t,e="thumbnails"===f.vars.controlNav?"control-thumbs":"control-paging",i=1;if(f.controlNavScaffold=w('<ol class="'+d+"control-nav "+d+e+'"></ol>'),1<f.pagingCount)for(var n=0;n<f.pagingCount;n++){void 0===(t=f.slides.eq(n)).attr("data-thumb-alt")&&t.attr("data-thumb-alt","");var s,o=""!==t.attr("data-thumb-alt")?o=' alt="'+t.attr("data-thumb-alt")+'"':"",a="thumbnails"===f.vars.controlNav?'<img src="'+t.attr("data-thumb")+'"'+o+"/>":'<a href="#">'+i+"</a>";"thumbnails"!==f.vars.controlNav||!0!==f.vars.thumbCaptions||""!==(s=t.attr("data-thumbcaption"))&&void 0!==s&&(a+='<span class="'+d+'caption">'+s+"</span>"),f.controlNavScaffold.append("<li>"+a+"</li>"),i++}f.controlsContainer?w(f.controlsContainer).append(f.controlNavScaffold):f.append(f.controlNavScaffold),x.controlNav.set(),x.controlNav.active(),f.controlNavScaffold.delegate("a, img",r,function(t){var e,i;t.preventDefault(),""!==l&&l!==t.type||(e=w(this),i=f.controlNav.index(e),e.hasClass(d+"active")||(f.direction=i>f.currentSlide?"next":"prev",f.flexAnimate(i,f.vars.pauseOnAction))),""===l&&(l=t.type),x.setToClearWatchedEvent()})},setupManual:function(){f.controlNav=f.manualControls,x.controlNav.active(),f.controlNav.bind(r,function(t){var e,i;t.preventDefault(),""!==l&&l!==t.type||(e=w(this),i=f.controlNav.index(e),e.hasClass(d+"active")||(i>f.currentSlide?f.direction="next":f.direction="prev",f.flexAnimate(i,f.vars.pauseOnAction))),""===l&&(l=t.type),x.setToClearWatchedEvent()})},set:function(){var t="thumbnails"===f.vars.controlNav?"img":"a";f.controlNav=w("."+d+"control-nav li "+t,f.controlsContainer?f.controlsContainer:f)},active:function(){f.controlNav.removeClass(d+"active").eq(f.animatingTo).addClass(d+"active")},update:function(t,e){1<f.pagingCount&&"add"===t?f.controlNavScaffold.append(w('<li><a href="#">'+f.count+"</a></li>")):1===f.pagingCount?f.controlNavScaffold.find("li").remove():f.controlNav.eq(e).closest("li").remove(),x.controlNav.set(),1<f.pagingCount&&f.pagingCount!==f.controlNav.length?f.update(e,t):x.controlNav.active()}},directionNav:{setup:function(){var t=w('<ul class="'+d+'direction-nav"><li class="'+d+'nav-prev"><a class="'+d+'prev" href="#">'+f.vars.prevText+'</a></li><li class="'+d+'nav-next"><a class="'+d+'next" href="#">'+f.vars.nextText+"</a></li></ul>");f.customDirectionNav?f.directionNav=f.customDirectionNav:f.controlsContainer?(w(f.controlsContainer).append(t),f.directionNav=w("."+d+"direction-nav li a",f.controlsContainer)):(f.append(t),f.directionNav=w("."+d+"direction-nav li a",f)),x.directionNav.update(),f.directionNav.bind(r,function(t){var e;t.preventDefault(),""!==l&&l!==t.type||(e=w(this).hasClass(d+"next")?f.getTarget("next"):f.getTarget("prev"),f.flexAnimate(e,f.vars.pauseOnAction)),""===l&&(l=t.type),x.setToClearWatchedEvent()})},update:function(){var t=d+"disabled";1===f.pagingCount?f.directionNav.addClass(t).attr("tabindex","-1"):f.vars.animationLoop?f.directionNav.removeClass(t).removeAttr("tabindex"):0===f.animatingTo?f.directionNav.removeClass(t).filter("."+d+"prev").addClass(t).attr("tabindex","-1"):f.animatingTo===f.last?f.directionNav.removeClass(t).filter("."+d+"next").addClass(t).attr("tabindex","-1"):f.directionNav.removeClass(t).removeAttr("tabindex")}},pausePlay:{setup:function(){var t=w('<div class="'+d+'pauseplay"><a href="#"></a></div>');f.controlsContainer?(f.controlsContainer.append(t),f.pausePlay=w("."+d+"pauseplay a",f.controlsContainer)):(f.append(t),f.pausePlay=w("."+d+"pauseplay a",f)),x.pausePlay.update(f.vars.slideshow?d+"pause":d+"play"),f.pausePlay.bind(r,function(t){t.preventDefault(),""!==l&&l!==t.type||(w(this).hasClass(d+"pause")?(f.manualPause=!0,f.manualPlay=!1,f.pause()):(f.manualPause=!1,f.manualPlay=!0,f.play())),""===l&&(l=t.type),x.setToClearWatchedEvent()})},update:function(t){"play"===t?f.pausePlay.removeClass(d+"pause").addClass(d+"play").html(f.vars.playText):f.pausePlay.removeClass(d+"play").addClass(d+"pause").html(f.vars.pauseText)}},touch:function(){var s,o,a,r,l,c,t,n,d,u=!1,e=0,i=0,h=0;g?(p.style.msTouchAction="none",p._gesture=new MSGesture,(p._gesture.target=p).addEventListener("MSPointerDown",function(t){t.stopPropagation(),f.animating?t.preventDefault():(f.pause(),p._gesture.addPointer(t.pointerId),h=0,r=m?f.h:f.w,c=Number(new Date),a=y&&v&&f.animatingTo===f.last?0:y&&v?f.limit-(f.itemW+f.vars.itemMargin)*f.move*f.animatingTo:y&&f.currentSlide===f.last?f.limit:y?(f.itemW+f.vars.itemMargin)*f.move*f.currentSlide:v?(f.last-f.currentSlide+f.cloneOffset)*r:(f.currentSlide+f.cloneOffset)*r)},!1),p._slider=f,p.addEventListener("MSGestureChange",function(t){t.stopPropagation();var e=t.target._slider;if(!e)return;var i=-t.translationX,n=-t.translationY;if(h+=m?n:i,l=(e.vars.rtl?-1:1)*h,u=m?Math.abs(h)<Math.abs(-i):Math.abs(h)<Math.abs(-n),t.detail===t.MSGESTURE_FLAG_INERTIA)return void setImmediate(function(){p._gesture.stop()});(!u||500<Number(new Date)-c)&&(t.preventDefault(),!b&&e.transitions&&(e.vars.animationLoop||(l=h/(0===e.currentSlide&&h<0||e.currentSlide===e.last&&0<h?Math.abs(h)/r+2:1)),e.setProps(a+l,"setTouch")))},!1),p.addEventListener("MSGestureEnd",function(t){t.stopPropagation();var e=t.target._slider;if(!e)return;{var i,n;e.animatingTo!==e.currentSlide||u||null===l||(n=0<(i=v?-l:l)?e.getTarget("next"):e.getTarget("prev"),e.canAdvance(n)&&(Number(new Date)-c<550&&50<Math.abs(i)||Math.abs(i)>r/2)?e.flexAnimate(n,e.vars.pauseOnAction):b||e.flexAnimate(e.currentSlide,e.vars.pauseOnAction,!0))}a=l=o=s=null,h=0},!1)):(t=function(t){f.animating?t.preventDefault():!window.navigator.msPointerEnabled&&1!==t.touches.length||(f.pause(),r=m?f.h:f.w,c=Number(new Date),e=t.touches[0].pageX,i=t.touches[0].pageY,a=y&&v&&f.animatingTo===f.last?0:y&&v?f.limit-(f.itemW+f.vars.itemMargin)*f.move*f.animatingTo:y&&f.currentSlide===f.last?f.limit:y?(f.itemW+f.vars.itemMargin)*f.move*f.currentSlide:v?(f.last-f.currentSlide+f.cloneOffset)*r:(f.currentSlide+f.cloneOffset)*r,s=m?i:e,o=m?e:i,p.addEventListener("touchmove",n,!1),p.addEventListener("touchend",d,!1))},n=function(t){e=t.touches[0].pageX,i=t.touches[0].pageY,l=m?s-i:(f.vars.rtl?-1:1)*(s-e);(!(u=m?Math.abs(l)<Math.abs(e-o):Math.abs(l)<Math.abs(i-o))||500<Number(new Date)-c)&&(t.preventDefault(),!b&&f.transitions&&(f.vars.animationLoop||(l/=0===f.currentSlide&&l<0||f.currentSlide===f.last&&0<l?Math.abs(l)/r+2:1),f.setProps(a+l,"setTouch")))},d=function(t){var e,i;p.removeEventListener("touchmove",n,!1),f.animatingTo!==f.currentSlide||u||null===l||(i=0<(e=v?-l:l)?f.getTarget("next"):f.getTarget("prev"),f.canAdvance(i)&&(Number(new Date)-c<550&&50<Math.abs(e)||Math.abs(e)>r/2)?f.flexAnimate(i,f.vars.pauseOnAction):b||f.flexAnimate(f.currentSlide,f.vars.pauseOnAction,!0)),p.removeEventListener("touchend",d,!1),a=l=o=s=null},p.addEventListener("touchstart",t,!1))},resize:function(){!f.animating&&f.is(":visible")&&(y||f.doMath(),b?x.smoothHeight():y?(f.slides.width(f.computedW),f.update(f.pagingCount),f.setProps()):m?(f.viewport.height(f.h),f.setProps(f.h,"setTotal")):(f.vars.smoothHeight&&x.smoothHeight(),f.newSlides.width(f.computedW),f.setProps(f.computedW,"setTotal")))},smoothHeight:function(t){var e;m&&!b||(e=b?f:f.viewport,t?e.animate({height:f.slides.eq(f.animatingTo).innerHeight()},t):e.innerHeight(f.slides.eq(f.animatingTo).innerHeight()))},sync:function(t){var e=w(f.vars.sync).data("flexslider"),i=f.animatingTo;switch(t){case"animate":e.flexAnimate(i,f.vars.pauseOnAction,!1,!0);break;case"play":e.playing||e.asNav||e.play();break;case"pause":e.pause()}},uniqueID:function(t){return t.filter("[id]").add(t.find("[id]")).each(function(){var t=w(this);t.attr("id",t.attr("id")+"_clone")}),t},pauseInvisible:{visProp:null,init:function(){var t,e=x.pauseInvisible.getHiddenProp();e&&(t=e.replace(/[H|h]idden/,"")+"visibilitychange",document.addEventListener(t,function(){x.pauseInvisible.isHidden()?f.startTimeout?clearTimeout(f.startTimeout):f.pause():!f.started&&0<f.vars.initDelay?setTimeout(f.play,f.vars.initDelay):f.play()}))},isHidden:function(){var t=x.pauseInvisible.getHiddenProp();return!!t&&document[t]},getHiddenProp:function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(e),e=setTimeout(function(){l=""},3e3)}},f.flexAnimate=function(t,e,i,n,s){if(f.vars.animationLoop||t===f.currentSlide||(f.direction=t>f.currentSlide?"next":"prev"),h&&1===f.pagingCount&&(f.direction=f.currentItem<t?"next":"prev"),!f.animating&&(f.canAdvance(t,s)||i)&&f.is(":visible")){if(h&&n){var o=w(f.vars.asNavFor).data("flexslider");if(f.atEnd=0===t||t===f.count-1,o.flexAnimate(t,!0,!1,!0,s),f.direction=f.currentItem<t?"next":"prev",o.direction=f.direction,Math.ceil((t+1)/f.visible)-1===f.currentSlide||0===t)return f.currentItem=t,f.slides.removeClass(d+"active-slide").eq(t).addClass(d+"active-slide"),!1;f.currentItem=t,f.slides.removeClass(d+"active-slide").eq(t).addClass(d+"active-slide"),t=Math.floor(t/f.visible)}var a,r,l,c;f.animating=!0,f.animatingTo=t,e&&f.pause(),f.vars.before(f),f.syncExists&&!s&&x.sync("animate"),f.vars.controlNav&&x.controlNav.active(),y||f.slides.removeClass(d+"active-slide").eq(t).addClass(d+"active-slide"),f.atEnd=0===t||t===f.last,f.vars.directionNav&&x.directionNav.update(),t===f.last&&(f.vars.end(f),f.vars.animationLoop||f.pause()),b?u?(f.slides.eq(f.currentSlide).css({opacity:0,zIndex:1}),f.slides.eq(t).css({opacity:1,zIndex:2}),f.wrapup(a)):(f.slides.eq(f.currentSlide).css({zIndex:1}).animate({opacity:0},f.vars.animationSpeed,f.vars.easing),f.slides.eq(t).css({zIndex:2}).animate({opacity:1},f.vars.animationSpeed,f.vars.easing,f.wrapup)):(a=m?f.slides.filter(":first").height():f.computedW,c=y?(r=f.vars.itemMargin,(l=(f.itemW+r)*f.move*f.animatingTo)>f.limit&&1!==f.visible?f.limit:l):0===f.currentSlide&&t===f.count-1&&f.vars.animationLoop&&"next"!==f.direction?v?(f.count+f.cloneOffset)*a:0:f.currentSlide===f.last&&0===t&&f.vars.animationLoop&&"prev"!==f.direction?v?0:(f.count+1)*a:v?(f.count-1-t+f.cloneOffset)*a:(t+f.cloneOffset)*a,f.setProps(c,"",f.vars.animationSpeed),f.transitions?(f.vars.animationLoop&&f.atEnd||(f.animating=!1,f.currentSlide=f.animatingTo),f.container.unbind("webkitTransitionEnd transitionend"),f.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(f.ensureAnimationEnd),f.wrapup(a)}),clearTimeout(f.ensureAnimationEnd),f.ensureAnimationEnd=setTimeout(function(){f.wrapup(a)},f.vars.animationSpeed+100)):f.container.animate(f.args,f.vars.animationSpeed,f.vars.easing,function(){f.wrapup(a)})),f.vars.smoothHeight&&x.smoothHeight(f.vars.animationSpeed)}},f.wrapup=function(t){b||y||(0===f.currentSlide&&f.animatingTo===f.last&&f.vars.animationLoop?f.setProps(t,"jumpEnd"):f.currentSlide===f.last&&0===f.animatingTo&&f.vars.animationLoop&&f.setProps(t,"jumpStart")),f.animating=!1,f.currentSlide=f.animatingTo,f.vars.after(f)},f.animateSlides=function(){!f.animating&&i&&f.flexAnimate(f.getTarget("next"))},f.pause=function(){clearInterval(f.animatedSlides),f.animatedSlides=null,f.playing=!1,f.vars.pausePlay&&x.pausePlay.update("play"),f.syncExists&&x.sync("pause")},f.play=function(){f.playing&&clearInterval(f.animatedSlides),f.animatedSlides=f.animatedSlides||setInterval(f.animateSlides,f.vars.slideshowSpeed),f.started=f.playing=!0,f.vars.pausePlay&&x.pausePlay.update("pause"),f.syncExists&&x.sync("play")},f.stop=function(){f.pause(),f.stopped=!0},f.canAdvance=function(t,e){var i=h?f.pagingCount-1:f.last;return!!e||(h&&f.currentItem===f.count-1&&0===t&&"prev"===f.direction||(!h||0!==f.currentItem||t!==f.pagingCount-1||"next"===f.direction)&&((t!==f.currentSlide||h)&&(!!f.vars.animationLoop||(!f.atEnd||0!==f.currentSlide||t!==i||"next"===f.direction)&&(!f.atEnd||f.currentSlide!==i||0!==t||"next"!==f.direction))))},f.getTarget=function(t){return"next"===(f.direction=t)?f.currentSlide===f.last?0:f.currentSlide+1:0===f.currentSlide?f.last:f.currentSlide-1},f.setProps=function(t,e,i){var n,s=(n=t||(f.itemW+f.vars.itemMargin)*f.move*f.animatingTo,function(){if(y)return"setTouch"===e?t:v&&f.animatingTo===f.last?0:v?f.limit-(f.itemW+f.vars.itemMargin)*f.move*f.animatingTo:f.animatingTo===f.last?f.limit:n;switch(e){case"setTotal":return v?(f.count-1-f.currentSlide+f.cloneOffset)*t:(f.currentSlide+f.cloneOffset)*t;case"setTouch":return t;case"jumpEnd":return v?t:f.count*t;case"jumpStart":return v?f.count*t:t;default:return t}}()*(f.vars.rtl?1:-1)+"px");f.transitions&&(s=f.isFirefox?m?"translate3d(0,"+s+",0)":"translate3d("+parseInt(s)+"px,0,0)":m?"translate3d(0,"+s+",0)":"translate3d("+(f.vars.rtl?-1:1)*parseInt(s)+"px,0,0)",i=void 0!==i?i/1e3+"s":"0s",f.container.css("-"+f.pfx+"-transition-duration",i),f.container.css("transition-duration",i)),f.args[f.prop]=s,!f.transitions&&void 0!==i||f.container.css(f.args),f.container.css("transform",s)},f.setup=function(t){var e,i;b?(f.vars.rtl?f.slides.css({width:"100%",float:"right",marginLeft:"-100%",position:"relative"}):f.slides.css({width:"100%",float:"left",marginRight:"-100%",position:"relative"}),"init"===t&&(u?f.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+f.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(f.currentSlide).css({opacity:1,zIndex:2}):0==f.vars.fadeFirstSlide?f.slides.css({opacity:0,display:"block",zIndex:1}).eq(f.currentSlide).css({zIndex:2}).css({opacity:1}):f.slides.css({opacity:0,display:"block",zIndex:1}).eq(f.currentSlide).css({zIndex:2}).animate({opacity:1},f.vars.animationSpeed,f.vars.easing)),f.vars.smoothHeight&&x.smoothHeight()):("init"===t&&(f.viewport=w('<div class="'+d+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(f).append(f.container),f.cloneCount=0,f.cloneOffset=0,v&&(i=w.makeArray(f.slides).reverse(),f.slides=w(i),f.container.empty().append(f.slides))),f.vars.animationLoop&&!y&&(f.cloneCount=2,f.cloneOffset=1,"init"!==t&&f.container.find(".clone").remove(),f.container.append(x.uniqueID(f.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(x.uniqueID(f.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),f.newSlides=w(f.vars.selector,f),e=v?f.count-1-f.currentSlide+f.cloneOffset:f.currentSlide+f.cloneOffset,m&&!y?(f.container.height(200*(f.count+f.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){f.newSlides.css({display:"block"}),f.doMath(),f.viewport.height(f.h),f.setProps(e*f.h,"init")},"init"===t?100:0)):(f.container.width(200*(f.count+f.cloneCount)+"%"),f.setProps(e*f.computedW,"init"),setTimeout(function(){f.doMath(),f.vars.rtl&&f.isFirefox?f.newSlides.css({width:f.computedW,marginRight:f.computedM,float:"right",display:"block"}):f.newSlides.css({width:f.computedW,marginRight:f.computedM,float:"left",display:"block"}),f.vars.smoothHeight&&x.smoothHeight()},"init"===t?100:0))),y||f.slides.removeClass(d+"active-slide").eq(f.currentSlide).addClass(d+"active-slide"),f.vars.init(f)},f.doMath=function(){var t=f.slides.first(),e=f.vars.itemMargin,i=f.vars.minItems,n=f.vars.maxItems;f.w=void 0===f.viewport?f.width():f.viewport.width(),f.isFirefox&&(f.w=f.width()),f.h=t.height(),f.boxPadding=t.outerWidth()-t.width(),y?(f.itemT=f.vars.itemWidth+e,f.itemM=e,f.minW=i?i*f.itemT:f.w,f.maxW=n?n*f.itemT-e:f.w,f.itemW=f.minW>f.w?(f.w-e*(i-1))/i:f.maxW<f.w?(f.w-e*(n-1))/n:f.vars.itemWidth>f.w?f.w:f.vars.itemWidth,f.visible=Math.floor(f.w/f.itemW),f.move=0<f.vars.move&&f.vars.move<f.visible?f.vars.move:f.visible,f.pagingCount=Math.ceil((f.count-f.visible)/f.move+1),f.last=f.pagingCount-1,f.limit=1===f.pagingCount?0:f.vars.itemWidth>f.w?f.itemW*(f.count-1)+e*(f.count-1):(f.itemW+e)*f.count-f.w-e):(f.itemW=f.w,f.itemM=e,f.pagingCount=f.count,f.last=f.count-1),f.computedW=f.itemW-f.boxPadding,f.computedM=f.itemM},f.update=function(t,e){f.doMath(),y||(t<f.currentSlide?f.currentSlide+=1:t<=f.currentSlide&&0!==t&&--f.currentSlide,f.animatingTo=f.currentSlide),f.vars.controlNav&&!f.manualControls&&("add"===e&&!y||f.pagingCount>f.controlNav.length?x.controlNav.update("add"):("remove"===e&&!y||f.pagingCount<f.controlNav.length)&&(y&&f.currentSlide>f.last&&(--f.currentSlide,--f.animatingTo),x.controlNav.update("remove",f.last))),f.vars.directionNav&&x.directionNav.update()},f.addSlide=function(t,e){var i=w(t);f.count+=1,f.last=f.count-1,m&&v?void 0!==e?f.slides.eq(f.count-e).after(i):f.container.prepend(i):void 0!==e?f.slides.eq(e).before(i):f.container.append(i),f.update(e,"add"),f.slides=w(f.vars.selector+":not(.clone)",f),f.setup(),f.vars.added(f)},f.removeSlide=function(t){var e=isNaN(t)?f.slides.index(w(t)):t;--f.count,f.last=f.count-1,isNaN(t)?w(t,f.slides).remove():m&&v?f.slides.eq(f.last).remove():f.slides.eq(t).remove(),f.doMath(),f.update(e,"remove"),f.slides=w(f.vars.selector+":not(.clone)",f),f.setup(),f.vars.removed(f)},x.init()},w(window).blur(function(t){i=!1}).focus(function(t){i=!0}),w.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,isFirefox:!1,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){},rtl:!1},w.fn.flexslider=function(n){if(void 0===n&&(n={}),"object"==typeof n)return this.each(function(){var t=w(this),e=n.selector?n.selector:".slides > li",i=t.find(e);1===i.length&&!1===n.allowOneSlide||0===i.length?(i.fadeIn(400),n.start&&n.start(t)):void 0===t.data("flexslider")&&new w.flexslider(this,n)});var t=w(this).data("flexslider");switch(n){case"play":t.play();break;case"pause":t.pause();break;case"stop":t.stop();break;case"next":t.flexAnimate(t.getTarget("next"),!0);break;case"prev":case"previous":t.flexAnimate(t.getTarget("prev"),!0);break;default:"number"==typeof n&&t.flexAnimate(n,!0)}}}(jQuery);var Formstone=this.Formstone=function(p,n,l){"use strict";function t(){this.Version="@version",this.Plugins={},this.DontConflict=!1,this.Conflicts={fn:{}},this.ResizeHandlers=[],this.window=n,this.$window=p(n),this.document=l,this.$document=p(l),this.$body=null,this.windowWidth=0,this.windowHeight=0,this.userAgent=n.navigator.userAgent||n.navigator.vendor||n.opera,this.isFirefox=/Firefox/i.test(this.userAgent),this.isChrome=/Chrome/i.test(this.userAgent),this.isSafari=/Safari/i.test(this.userAgent)&&!this.isChrome,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent),this.isFirefoxMobile=this.isFirefox&&this.isMobile,this.transform=null,this.transition=null,this.support={file:!!(n.File&&n.FileList&&n.FileReader),history:!!(n.history&&n.history.pushState&&n.history.replaceState),matchMedia:!(!n.matchMedia&&!n.msMatchMedia),raf:!(!n.requestAnimationFrame||!n.cancelAnimationFrame),touch:!!("ontouchstart"in n||n.DocumentTouch&&l instanceof n.DocumentTouch),transition:!1,transform:!1}}var s={killEvent:function(t,e){try{t.preventDefault(),t.stopPropagation(),e&&t.stopImmediatePropagation()}catch(t){}},startTimer:function(t,e,i,n){return s.clearTimer(t),(n?setInterval:setTimeout)(i,e)},clearTimer:function(t,e){t&&((e?clearInterval:clearTimeout)(t),t=null)},sortAsc:function(t,e){return parseInt(e)-parseInt(t)},sortDesc:function(t,e){return parseInt(e)-parseInt(t)}},f=new t,o=p.Deferred(),a={base:"{ns}",element:"{ns}-element"},g={namespace:".{ns}",blur:"blur.{ns}",change:"change.{ns}",click:"click.{ns}",dblClick:"dblclick.{ns}",drag:"drag.{ns}",dragEnd:"dragend.{ns}",dragEnter:"dragenter.{ns}",dragLeave:"dragleave.{ns}",dragOver:"dragover.{ns}",dragStart:"dragstart.{ns}",drop:"drop.{ns}",error:"error.{ns}",focus:"focus.{ns}",focusIn:"focusin.{ns}",focusOut:"focusout.{ns}",input:"input.{ns}",keyDown:"keydown.{ns}",keyPress:"keypress.{ns}",keyUp:"keyup.{ns}",load:"load.{ns}",mouseDown:"mousedown.{ns}",mouseEnter:"mouseenter.{ns}",mouseLeave:"mouseleave.{ns}",mouseMove:"mousemove.{ns}",mouseOut:"mouseout.{ns}",mouseOver:"mouseover.{ns}",mouseUp:"mouseup.{ns}",resize:"resize.{ns}",scroll:"scroll.{ns}",select:"select.{ns}",touchCancel:"touchcancel.{ns}",touchEnd:"touchend.{ns}",touchLeave:"touchleave.{ns}",touchMove:"touchmove.{ns}",touchStart:"touchstart.{ns}"};function r(t,e,i,n){var s,o={raw:{}};for(s in n=n||{})n.hasOwnProperty(s)&&("classes"===t?(o.raw[n[s]]=e+"-"+n[s],o[n[s]]="."+e+"-"+n[s]):(o.raw[s]=n[s],o[s]=n[s]+"."+e));for(s in i)i.hasOwnProperty(s)&&("classes"===t?(o.raw[s]=i[s].replace(/{ns}/g,e),o[s]=i[s].replace(/{ns}/g,"."+e)):(o.raw[s]=i[s].replace(/.{ns}/g,""),o[s]=i[s].replace(/{ns}/g,e)));return o}t.prototype.NoConflict=function(){for(var t in f.DontConflict=!0,f.Plugins)f.Plugins.hasOwnProperty(t)&&(p[t]=f.Conflicts[t],p.fn[t]=f.Conflicts.fn[t])},t.prototype.Plugin=function(e,t){function c(t){return t.data(h)}var d,u,i,h;return f.Plugins[e]=(u=t,i="fs-"+(d=e),h="fs"+d.replace(/(^|\s)([a-z])/g,function(t,e,i){return e+i.toUpperCase()}),u.initialized=!1,u.priority=u.priority||10,u.classes=r("classes",i,a,u.classes),u.events=r("events",d,g,u.events),u.functions=p.extend({getData:c,iterate:function(t){for(var e=0,i=this.length;e<i;e++){var n=this.eq(e),s=c(n)||{};"undefined"!==p.type(s.$el)&&t.apply(n,[s].concat(Array.prototype.slice.call(arguments,1)))}return this}},s,u.functions),u.methods=p.extend(!0,{_setup:p.noop,_construct:p.noop,_destruct:p.noop,_resize:!1,destroy:function(t){u.functions.iterate.apply(this,[u.methods._destruct].concat(Array.prototype.slice.call(arguments,1))),this.removeClass(u.classes.raw.element).removeData(h)}},u.methods),u.utilities=p.extend(!0,{_initialize:!1,_delegate:!1,defaults:function(t){u.defaults=p.extend(!0,u.defaults,t||{})}},u.utilities),u.widget&&(f.Conflicts.fn[d]=p.fn[d],p.fn[h]=function(t){if(this instanceof p){var e=u.methods[t];return"object"!==p.type(t)&&t?e&&0!==t.indexOf("_")?u.functions.iterate.apply(this,[e].concat(Array.prototype.slice.call(arguments,1))):this:function(t){var e="object"===p.type(t);t=p.extend(!0,{},u.defaults||{},e?t:{});for(var i=0,n=this.length;i<n;i++){var s,o,a,r,l=this.eq(i);c(l)||(s="__"+u.guid++,o=u.classes.raw.base+s,a=l.data(d+"-options"),r=p.extend(!0,{$el:l,guid:s,rawGuid:o,dotGuid:"."+o},t,"object"===p.type(a)?a:{}),l.addClass(u.classes.raw.element).data(h,r),u.methods._construct.apply(l,[r].concat(Array.prototype.slice.call(arguments,e?1:0))))}return this}.apply(this,arguments)}},f.DontConflict||(p.fn[d]=p.fn[h])),f.Conflicts[d]=p[d],p[h]=u.utilities._delegate||function(t){var e=u.utilities[t]||u.utilities._initialize||!1;if(e)return e.apply(n,Array.prototype.slice.call(arguments,"object"===p.type(t)?0:1))},f.DontConflict||(p[d]=p[h]),u.namespace=d,u.namespaceClean=h,u.guid=0,u.methods._resize&&(f.ResizeHandlers.push({namespace:d,priority:u.priority,callback:u.methods._resize}),f.ResizeHandlers.sort(m)),u),o.then(function(){var t;t=e,f.Plugins[t].initialized||(f.Plugins[t].methods._setup.call(l),f.Plugins[t].initialized=!0)}),f.Plugins[e]};var e=null;function i(){f.windowWidth=f.$window.width(),f.windowHeight=f.$window.height(),e=s.startTimer(e,20,c)}function c(){for(var t in f.ResizeHandlers)f.ResizeHandlers.hasOwnProperty(t)&&f.ResizeHandlers[t].callback.call(n,f.windowWidth,f.windowHeight)}function m(t,e){return parseInt(t.priority)-parseInt(e.priority)}return f.$window.on("resize.fs",i),i(),p(function(){f.$body=p("body"),o.resolve()}),g.clickTouchStart=g.click+" "+g.touchStart,function(){var t,e={transition:"transitionend",MozTransition:"transitionend",OTransition:"otransitionend",WebkitTransition:"webkitTransitionEnd"},i=["transition","-webkit-transition"],n={transform:"transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",webkitTransform:"-webkit-transform"},s="transitionend",o="",a="",r=l.createElement("div");for(t in e)if(e.hasOwnProperty(t)&&t in r.style){s=e[t],f.support.transition=!0;break}for(t in g.transitionEnd=s+".{ns}",i)if(i.hasOwnProperty(t)&&i[t]in r.style){o=i[t];break}for(t in f.transition=o,n)if(n.hasOwnProperty(t)&&n[t]in r.style){f.support.transform=!0,a=n[t];break}f.transform=a}(),f}(jQuery,this,document);!function(r,s){"use strict";function o(t){t.stopPropagation(),t.preventDefault();var e=t.data,i=t.originalEvent,n=e.target?e.$target:e.$el;e.property&&i.propertyName!==e.property||!r(i.target).is(n)||a(e)}function a(t){t.always||t.$el[e.namespaceClean]("destroy"),t.callback.apply(t.$el)}function l(t){var e,i,n,s={};if(t instanceof r&&(t=t[0]),u.getComputedStyle)for(var o=0,a=(e=u.getComputedStyle(t,null)).length;o<a;o++)i=e[o],n=e.getPropertyValue(i),s[i]=n;else if(t.currentStyle)for(i in e=t.currentStyle)e[i]&&(s[i]=e[i]);return s}var e=s.Plugin("transition",{widget:!0,defaults:{always:!1,property:null,target:null},methods:{_construct:function(t,e){var i,n;e&&(t.$target=this.find(t.target),t.$check=t.target?t.$target:this,t.callback=e,t.styles=l(t.$check),t.timer=null,i=t.$check.css(s.transition+"-duration"),n=parseFloat(i),s.support.transition&&i&&n?this.on(c.transitionEnd,t,o):t.timer=d.startTimer(t.timer,50,function(){!function(t){var e=l(t.$check);!function(t,e){if(r.type(t)!==r.type(e))return!1;for(var i in t)if(!t.hasOwnProperty(i)||!e.hasOwnProperty(i)||t[i]!==e[i])return!1;return!0}(t.styles,e)&&a(t);t.styles=e}(t)},!0))},_destruct:function(t){d.clearTimer(t.timer,!0),this.off(c.namespace)},resolve:a}}),c=e.events,d=e.functions,u=s.window}(jQuery,Formstone),function(e,i){"use strict";var t="shifter",n=!1,s=!1,o={},a={handle:"shifter-handle",page:"shifter-page",header:"shifter-header",navigation:"shifter-navigation",isEnabled:"shifter-enabled",isOpen:"shifter-open"},r={click:"touchstart."+t+" click."+t},l={maxWidth:"980px"},c={close:function(){n&&(o.$html.removeClass(a.isOpen),o.$body.removeClass(a.isOpen),o.$shifts.off(p(t)),o.$nav.find("input").trigger("blur"))},enable:function(){n&&o.$body.addClass(a.isEnabled)},destroy:function(){n&&(o.$html.removeClass(a.isOpen),o.$body.removeClass([a.isEnabled,a.isOpen].join(" ")).off(r.click),void 0!==i.matchMedia&&o.mediaQuery.removeListener(d),n=!(o={}))},disable:function(){n&&(c.close(),o.$body.removeClass(a.isEnabled))},open:function(){n&&(o.$html.addClass(a.isOpen),o.$body.addClass(a.isOpen),o.$shifts.one(r.click,u))}};function d(){o.mediaQuery.matches?c.enable():c.disable()}function u(t){t.preventDefault(),t.stopPropagation(),s||(o.$body.hasClass(a.isOpen)?c.close():c.open()),"touchstart"===t.type&&(s=!0,setTimeout(h,500))}function h(){s=!1}function p(t){return"."+t}e[t]=function(t){return c[t]?c[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?this:function(t){n||((o=e.extend({},l,t||{})).$html=e("html"),o.$body=e("body"),o.$shifts=e([p(a.page),p(a.header)].join(", ")),o.$nav=e(p(a.navigation)),0<o.$shifts.length&&0<o.$nav.length&&(n=!0,o.$body.on(r.click,p(a.handle),u),void 0!==i.matchMedia&&(o.mediaQuery=i.matchMedia("(max-width:"+(o.maxWidth===1/0?"100000px":o.maxWidth)+")"),o.mediaQuery.addListener(d),d())))}.apply(this,arguments)}}(jQuery,window),function(d,a,g,m){"use strict";var t,s,r,o,h,p,f,l,n,e;function i(t,e){var i,n,s=[],o=0;t&&t.isDefaultPrevented()||(t.preventDefault(),(n=(i=(e=t&&t.data?t.data.options:e||{}).$target||g(t.currentTarget)).attr("data-fancybox")||"")?(o=(s=(s=e.selector?g(e.selector):t.data?t.data.items:[]).length?s.filter('[data-fancybox="'+n+'"]'):g('[data-fancybox="'+n+'"]')).index(i))<0&&(o=0):s=[i],g.fancybox.open(s,e,o))}d.console=d.console||{info:function(t){}},g&&(g.fn.fancybox?console.info("fancyBox already initialized"):(t={loop:!1,gutter:50,keyboard:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class="fancybox-toolbar">{{buttons}}</div><div class="fancybox-navigation">{{arrows}}</div><div class="fancybox-stage"></div><div class="fancybox-caption"></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg viewBox="0 0 40 40"><path d="M13,16 L20,23 L27,16 M20,7 L20,23 M10,24 L10,28 L30,28 L30,24" /></svg></a>',zoom:'<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><svg viewBox="0 0 40 40"><path d="M18,17 m-8,0 a8,8 0 1,0 16,0 a8,8 0 1,0 -16,0 M24,22 L31,29" /></svg></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><svg viewBox="0 0 40 40"><path d="M10,10 L30,30 M30,10 L10,30" /></svg></button>',smallBtn:'<button data-fancybox-close class="fancybox-close-small" title="{{CLOSE}}"><svg viewBox="0 0 32 32"><path d="M10,10 L22,22 M22,10 L10,22"></path></svg></button>',arrowLeft:'<a data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}" href="javascript:;"><svg viewBox="0 0 40 40"><path d="M18,12 L10,20 L18,28 M10,20 L30,20"></path></svg></a>',arrowRight:'<a data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}" href="javascript:;"><svg viewBox="0 0 40 40"><path d="M10,20 L30,20 M22,12 L30,20 L22,28"></path></svg></a>'},parentEl:"body",autoFocus:!1,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:4e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},wheel:"auto",onInit:g.noop,beforeLoad:g.noop,afterLoad:g.noop,beforeShow:g.noop,afterShow:g.noop,beforeClose:g.noop,afterClose:g.noop,onActivate:g.noop,onDeactivate:g.noop,clickContent:function(t,e){return"image"===t.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{idleTime:!1,clickContent:function(t,e){return"image"===t.type&&"toggleControls"},clickSlide:function(t,e){return"image"===t.type?"toggleControls":"close"},dblclickContent:function(t,e){return"image"===t.type&&"zoom"},dblclickSlide:function(t,e){return"image"===t.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"Zurück",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es später nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Maßstab"}}},s=g(d),r=g(a),o=0,h=d.requestAnimationFrame||d.webkitRequestAnimationFrame||d.mozRequestAnimationFrame||d.oRequestAnimationFrame||function(t){return d.setTimeout(t,1e3/60)},p=function(){var t,e=a.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(e.style[t]!==m)return i[t];return"transitionend"}(),f=function(t){return t&&t.length&&t[0].offsetHeight},l=function(t,e){var i=g.extend(!0,{},t,e);return g.each(e,function(t,e){g.isArray(e)&&(i[t]=e)}),i},n=function(t,e,i){var n=this;n.opts=l({index:i},g.fancybox.defaults),g.isPlainObject(e)&&(n.opts=l(n.opts,e)),g.fancybox.isMobile&&(n.opts=l(n.opts,n.opts.mobile)),n.id=n.opts.id||++o,n.currIndex=parseInt(n.opts.index,10)||0,n.prevIndex=null,n.prevPos=null,n.currPos=0,n.firstRun=!0,n.group=[],n.slides={},n.addContent(t),n.group.length&&(n.$lastFocus=g(a.activeElement).trigger("blur"),n.init())},g.extend(n.prototype,{init:function(){var t,e,i,n=this,s=n.group[n.currIndex].opts,o=g.fancybox.scrollbarWidth;g.fancybox.getInstance()||!1===s.hideScrollbar||(g("body").addClass("fancybox-active"),!g.fancybox.isMobile&&a.body.scrollHeight>d.innerHeight&&(o===m&&(t=g('<div style="width:100px;height:100px;overflow:scroll;" />').appendTo("body"),o=g.fancybox.scrollbarWidth=t[0].offsetWidth-t[0].clientWidth,t.remove()),g("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar { margin-right: '+o+"px; }</style>"),g("body").addClass("compensate-for-scrollbar"))),i="",g.each(s.buttons,function(t,e){i+=s.btnTpl[e]||""}),e=g(n.translate(n,s.baseTpl.replace("{{buttons}}",i).replace("{{arrows}}",s.btnTpl.arrowLeft+s.btnTpl.arrowRight))).attr("id","fancybox-container-"+n.id).addClass("fancybox-is-hidden").addClass(s.baseClass).data("FancyBox",n).appendTo(s.parentEl),n.$refs={container:e},["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(t){n.$refs[t]=e.find(".fancybox-"+t)}),n.trigger("onInit"),n.activate(),n.jumpTo(n.currIndex)},translate:function(t,e){var n=t.opts.i18n[t.opts.lang];return e.replace(/\{\{(\w+)\}\}/g,function(t,e){var i=n[e];return i===m?t:i})},addContent:function(t){var e,c=this,i=g.makeArray(t);g.each(i,function(t,e){var i,n,s,o,a,r={},l={};g.isPlainObject(e)?l=(r=e).opts||e:"object"===g.type(e)&&g(e).length?(l=(i=g(e)).data()||{},(l=g.extend(!0,{},l,l.options)).$orig=i,r.src=c.opts.src||l.src||i.attr("href"),r.type||r.src||(r.type="inline",r.src=e)):r={type:"html",src:e+""},r.opts=g.extend(!0,{},c.opts,l),g.isArray(l.buttons)&&(r.opts.buttons=l.buttons),n=r.type||r.opts.type,o=r.src||"",!n&&o&&((s=o.match(/\.(mp4|mov|ogv)((\?|#).*)?$/i))?(n="video",r.opts.videoFormat||(r.opts.videoFormat="video/"+("ogv"===s[1]?"ogg":s[1]))):o.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?n="image":o.match(/\.(pdf)((\?|#).*)?$/i)?n="iframe":"#"===o.charAt(0)&&(n="inline")),n?r.type=n:c.trigger("objectNeedsType",r),r.contentType||(r.contentType=-1<g.inArray(r.type,["html","inline","ajax"])?"html":r.type),r.index=c.group.length,"auto"==r.opts.smallBtn&&(r.opts.smallBtn=-1<g.inArray(r.type,["html","inline","ajax"])),"auto"===r.opts.toolbar&&(r.opts.toolbar=!r.opts.smallBtn),r.opts.$trigger&&r.index===c.opts.index&&(r.opts.$thumb=r.opts.$trigger.find("img:first")),r.opts.$thumb&&r.opts.$thumb.length||!r.opts.$orig||(r.opts.$thumb=r.opts.$orig.find("img:first")),"function"===g.type(r.opts.caption)&&(r.opts.caption=r.opts.caption.apply(e,[c,r])),"function"===g.type(c.opts.caption)&&(r.opts.caption=c.opts.caption.apply(e,[c,r])),r.opts.caption instanceof g||(r.opts.caption=r.opts.caption===m?"":r.opts.caption+""),"ajax"===r.type&&1<(a=o.split(/\s+/,2)).length&&(r.src=a.shift(),r.opts.filter=a.shift()),r.opts.modal&&(r.opts=g.extend(!0,r.opts,{infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),c.group.push(r)}),Object.keys(c.slides).length&&(c.updateControls(),(e=c.Thumbs)&&e.isActive&&(e.create(),e.focus()))},addEvents:function(){var n=this;n.removeEvents(),n.$refs.container.on("click.fb-close","[data-fancybox-close]",function(t){t.stopPropagation(),t.preventDefault(),n.close(t)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(t){t.stopPropagation(),t.preventDefault(),n.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(t){t.stopPropagation(),t.preventDefault(),n.next()}).on("click.fb","[data-fancybox-zoom]",function(t){n[n.isScaledDown()?"scaleToActual":"scaleToFit"]()}),s.on("orientationchange.fb resize.fb",function(t){t&&t.originalEvent&&"resize"===t.originalEvent.type?h(function(){n.update()}):(n.$refs.stage.hide(),setTimeout(function(){n.$refs.stage.show(),n.update()},g.fancybox.isMobile?600:250))}),r.on("focusin.fb",function(t){var e=g.fancybox?g.fancybox.getInstance():null;e.isClosing||!e.current||!e.current.opts.trapFocus||g(t.target).hasClass("fancybox-container")||g(t.target).is(a)||e&&"fixed"!==g(t.target).css("position")&&!e.$refs.container.has(t.target).length&&(t.stopPropagation(),e.focus())}),r.on("keydown.fb",function(t){var e=n.current,i=t.keyCode||t.which;if(e&&e.opts.keyboard&&!(t.ctrlKey||t.altKey||t.shiftKey||g(t.target).is("input")||g(t.target).is("textarea")))return 8===i||27===i?(t.preventDefault(),void n.close(t)):37===i||38===i?(t.preventDefault(),void n.previous()):39===i||40===i?(t.preventDefault(),void n.next()):void n.trigger("afterKeydown",t,i)}),n.group[n.currIndex].opts.idleTime&&(n.idleSecondsCounter=0,r.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(t){n.idleSecondsCounter=0,n.isIdle&&n.showControls(),n.isIdle=!1}),n.idleInterval=d.setInterval(function(){n.idleSecondsCounter++,n.idleSecondsCounter>=n.group[n.currIndex].opts.idleTime&&!n.isDragging&&(n.isIdle=!0,n.idleSecondsCounter=0,n.hideControls())},1e3))},removeEvents:function(){s.off("orientationchange.fb resize.fb"),r.off("focusin.fb keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),this.idleInterval&&(d.clearInterval(this.idleInterval),this.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,n){var e,i,s,o,a,r,l,c=this,d=c.group.length;if(!(c.isDragging||c.isClosing||c.isAnimating&&c.firstRun)){if(t=parseInt(t,10),!(i=c.current?c.current.opts.loop:c.opts.loop)&&(t<0||d<=t))return!1;if(e=c.firstRun=!Object.keys(c.slides).length,!(d<2&&!e&&c.isDragging)){if(o=c.current,c.prevIndex=c.currIndex,c.prevPos=c.currPos,s=c.createSlide(t),1<d&&((i||0<s.index)&&c.createSlide(t-1),(i||s.index<d-1)&&c.createSlide(t+1)),c.current=s,c.currIndex=s.index,c.currPos=s.pos,c.trigger("beforeShow",e),c.updateControls(),r=g.fancybox.getTranslate(s.$slide),s.isMoved=(0!==r.left||0!==r.top)&&!s.$slide.hasClass("fancybox-animated"),s.forcedDuration=m,g.isNumeric(n)?s.forcedDuration=n:n=s.opts[e?"animationDuration":"transitionDuration"],n=parseInt(n,10),e)return s.opts.animationEffect&&n&&c.$refs.container.css("transition-duration",n+"ms"),c.$refs.container.removeClass("fancybox-is-hidden"),f(c.$refs.container),c.$refs.container.addClass("fancybox-is-open"),f(c.$refs.container),s.$slide.addClass("fancybox-slide--previous"),c.loadSlide(s),s.$slide.removeClass("fancybox-slide--previous").addClass("fancybox-slide--current"),void c.preload("image");g.each(c.slides,function(t,e){g.fancybox.stop(e.$slide)}),s.$slide.removeClass("fancybox-slide--next fancybox-slide--previous").addClass("fancybox-slide--current"),s.isMoved?(a=Math.round(s.$slide.width()),g.each(c.slides,function(t,e){var i=e.pos-s.pos;g.fancybox.animate(e.$slide,{top:0,left:i*a+i*e.opts.gutter},n,function(){e.$slide.removeAttr("style").removeClass("fancybox-slide--next fancybox-slide--previous"),e.pos===c.currPos&&(s.isMoved=!1,c.complete())})})):c.$refs.stage.children().removeAttr("style"),s.isLoaded?c.revealContent(s):c.loadSlide(s),c.preload("image"),o.pos!==s.pos&&(l="fancybox-slide--"+(o.pos>s.pos?"next":"previous"),o.$slide.removeClass("fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous"),o.isComplete=!1,n&&(s.isMoved||s.opts.transitionEffect)&&(s.isMoved?o.$slide.addClass(l):(l="fancybox-animated "+l+" fancybox-fx-"+s.opts.transitionEffect,g.fancybox.animate(o.$slide,l,n,function(){o.$slide.removeClass(l).removeAttr("style")}))))}}},createSlide:function(t){var e,i=this,n=t%i.group.length;return n=n<0?i.group.length+n:n,!i.slides[t]&&i.group[n]&&(e=g('<div class="fancybox-slide"></div>').appendTo(i.$refs.stage),i.slides[t]=g.extend(!0,{},i.group[n],{pos:t,$slide:e,isLoaded:!1}),i.updateSlide(i.slides[t])),i.slides[t]},scaleToActual:function(t,e,i){var n,s,o,a,r,l=this,c=l.current,d=c.$content,u=g.fancybox.getTranslate(c.$slide).width,h=g.fancybox.getTranslate(c.$slide).height,p=c.width,f=c.height;!l.isAnimating&&d&&"image"==c.type&&c.isLoaded&&!c.hasError&&(g.fancybox.stop(d),l.isAnimating=!0,t=t===m?.5*u:t,e=e===m?.5*h:e,(n=g.fancybox.getTranslate(d)).top-=g.fancybox.getTranslate(c.$slide).top,n.left-=g.fancybox.getTranslate(c.$slide).left,a=p/n.width,r=f/n.height,s=.5*u-.5*p,o=.5*h-.5*f,u<p&&(0<(s=n.left*a-(t*a-t))&&(s=0),s<u-p&&(s=u-p)),h<f&&(0<(o=n.top*r-(e*r-e))&&(o=0),o<h-f&&(o=h-f)),l.updateCursor(p,f),g.fancybox.animate(d,{top:o,left:s,scaleX:a,scaleY:r},i||330,function(){l.isAnimating=!1}),l.SlideShow&&l.SlideShow.isActive&&l.SlideShow.stop())},scaleToFit:function(t){var e,i=this,n=i.current,s=n.$content;!i.isAnimating&&s&&"image"==n.type&&n.isLoaded&&!n.hasError&&(g.fancybox.stop(s),i.isAnimating=!0,e=i.getFitPos(n),i.updateCursor(e.width,e.height),g.fancybox.animate(s,{top:e.top,left:e.left,scaleX:e.width/s.width(),scaleY:e.height/s.height()},t||330,function(){i.isAnimating=!1}))},getFitPos:function(t){var e,i,n,s,o,a=t.$content,r=t.width||t.opts.width,l=t.height||t.opts.height,c={};return!!(t.isLoaded&&a&&a.length)&&(s={top:parseInt(t.$slide.css("paddingTop"),10),right:parseInt(t.$slide.css("paddingRight"),10),bottom:parseInt(t.$slide.css("paddingBottom"),10),left:parseInt(t.$slide.css("paddingLeft"),10)},e=parseInt(this.$refs.stage.width(),10)-(s.left+s.right),i=parseInt(this.$refs.stage.height(),10)-(s.top+s.bottom),r&&l||(r=e,l=i),n=Math.min(1,e/r,i/l),r=Math.floor(n*r),l=Math.floor(n*l),"image"===t.type?(c.top=Math.floor(.5*(i-l))+s.top,c.left=Math.floor(.5*(e-r))+s.left):"video"===t.contentType&&(r/(o=t.opts.width&&t.opts.height?r/l:t.opts.ratio||16/9)<l?l=r/o:l*o<r&&(r=l*o)),c.width=r,c.height=l,c)},update:function(){var i=this;g.each(i.slides,function(t,e){i.updateSlide(e)})},updateSlide:function(t,e){var i=this,n=t&&t.$content,s=t.width||t.opts.width,o=t.height||t.opts.height;n&&(s||o||"video"===t.contentType)&&!t.hasError&&(g.fancybox.stop(n),g.fancybox.setTranslate(n,i.getFitPos(t)),t.pos===i.currPos&&(i.isAnimating=!1,i.updateCursor())),t.$slide.trigger("refresh"),i.$refs.toolbar.toggleClass("compensate-for-scrollbar",t.$slide.get(0).scrollHeight>t.$slide.get(0).clientHeight),i.trigger("onUpdate",t)},centerSlide:function(t,e){var i,n;this.current&&(i=Math.round(t.$slide.width()),n=t.pos-this.current.pos,g.fancybox.animate(t.$slide,{top:0,left:n*i+n*t.opts.gutter,opacity:1},e===m?0:e,null,!1))},updateCursor:function(t,e){var i,n=this,s=n.current,o=n.$refs.container.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut");s&&!n.isClosing&&(i=n.isZoomable(),o.toggleClass("fancybox-is-zoomable",i),g("[data-fancybox-zoom]").prop("disabled",!i),i&&("zoom"===s.opts.clickContent||g.isFunction(s.opts.clickContent)&&"zoom"===s.opts.clickContent(s))?n.isScaledDown(t,e)?o.addClass("fancybox-can-zoomIn"):s.opts.touch?o.addClass("fancybox-can-drag"):o.addClass("fancybox-can-zoomOut"):s.opts.touch&&"video"!==s.contentType&&o.addClass("fancybox-can-drag"))},isZoomable:function(){var t,e=this.current;if(e&&!this.isClosing&&"image"===e.type&&!e.hasError){if(!e.isLoaded)return!0;if(t=this.getFitPos(e),e.width>t.width||e.height>t.height)return!0}return!1},isScaledDown:function(t,e){var i=!1,n=this.current,s=n.$content;return t!==m&&e!==m?i=t<n.width&&e<n.height:s&&(i=(i=g.fancybox.getTranslate(s)).width<n.width&&i.height<n.height),i},canPan:function(){var t,e=!1,i=this.current;return"image"===i.type&&(t=i.$content)&&!i.hasError&&(e=this.getFitPos(i),e=1<Math.abs(t.width()-e.width)||1<Math.abs(t.height()-e.height)),e},loadSlide:function(i){var t,e,n,s=this;if(!i.isLoading&&!i.isLoaded){switch(i.isLoading=!0,s.trigger("beforeLoad",i),t=i.type,(e=i.$slide).off("refresh").trigger("onReset").addClass(i.opts.slideClass),t){case"image":s.setImage(i);break;case"iframe":s.setIframe(i);break;case"html":s.setContent(i,i.src||i.content);break;case"video":s.setContent(i,'<video class="fancybox-video" controls controlsList="nodownload"><source src="'+i.src+'" type="'+i.opts.videoFormat+"\">Your browser doesn't support HTML5 video</video");break;case"inline":g(i.src).length?s.setContent(i,g(i.src)):s.setError(i);break;case"ajax":s.showLoading(i),n=g.ajax(g.extend({},i.opts.ajax.settings,{url:i.src,success:function(t,e){"success"===e&&s.setContent(i,t)},error:function(t,e){t&&"abort"!==e&&s.setError(i)}})),e.one("onReset",function(){n.abort()});break;default:s.setError(i)}return!0}},setImage:function(e){var t,i,n,s,o,a=this,r=e.opts.srcset||e.opts.image.srcset;if(e.timouts=setTimeout(function(){var t=e.$image;!e.isLoading||t&&t[0].complete||e.hasError||a.showLoading(e)},350),r){s=d.devicePixelRatio||1,o=d.innerWidth*s,(n=r.split(",").map(function(t){var n={};return t.trim().split(/\s+/).forEach(function(t,e){var i=parseInt(t.substring(0,t.length-1),10);if(0===e)return n.url=t;i&&(n.value=i,n.postfix=t[t.length-1])}),n})).sort(function(t,e){return t.value-e.value});for(var l=0;l<n.length;l++){var c=n[l];if("w"===c.postfix&&c.value>=o||"x"===c.postfix&&c.value>=s){i=c;break}}!i&&n.length&&(i=n[n.length-1]),i&&(e.src=i.url,e.width&&e.height&&"w"==i.postfix&&(e.height=e.width/e.height*i.value,e.width=i.value),e.opts.srcset=r)}e.$content=g('<div class="fancybox-content"></div>').addClass("fancybox-is-hidden").appendTo(e.$slide.addClass("fancybox-slide--image")),t=e.opts.thumb||!(!e.opts.$thumb||!e.opts.$thumb.length)&&e.opts.$thumb.attr("src"),!1!==e.opts.preload&&e.opts.width&&e.opts.height&&t&&(e.width=e.opts.width,e.height=e.opts.height,e.$ghost=g("<img />").one("error",function(){g(this).remove(),e.$ghost=null}).one("load",function(){a.afterLoad(e)}).addClass("fancybox-image").appendTo(e.$content).attr("src",t)),a.setBigImage(e)},setBigImage:function(e){var i=this,n=g("<img />");e.$image=n.one("error",function(){i.setError(e)}).one("load",function(){var t;e.$ghost||(i.resolveImageSlideSize(e,this.naturalWidth,this.naturalHeight),i.afterLoad(e)),e.timouts&&(clearTimeout(e.timouts),e.timouts=null),i.isClosing||(e.opts.srcset&&((t=e.opts.sizes)&&"auto"!==t||(t=(1<e.width/e.height&&1<s.width()/s.height()?"100":Math.round(e.width/e.height*100))+"vw"),n.attr("sizes",t).attr("srcset",e.opts.srcset)),e.$ghost&&setTimeout(function(){e.$ghost&&!i.isClosing&&e.$ghost.hide()},Math.min(300,Math.max(1e3,e.height/1600))),i.hideLoading(e))}).addClass("fancybox-image").attr("src",e.src).appendTo(e.$content),(n[0].complete||"complete"==n[0].readyState)&&n[0].naturalWidth&&n[0].naturalHeight?n.trigger("load"):n[0].error&&n.trigger("error")},resolveImageSlideSize:function(t,e,i){var n=parseInt(t.opts.width,10),s=parseInt(t.opts.height,10);t.width=e,t.height=i,0<n&&(t.width=n,t.height=Math.floor(n*i/e)),0<s&&(t.width=Math.floor(s*e/i),t.height=s)},setIframe:function(s){var o,e=this,a=s.opts.iframe,t=s.$slide;s.$content=g('<div class="fancybox-content'+(a.preload?" fancybox-is-hidden":"")+'"></div>').css(a.css).appendTo(t),t.addClass("fancybox-slide--"+s.contentType),s.$iframe=o=g(a.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(a.attr).appendTo(s.$content),a.preload?(e.showLoading(s),o.on("load.fb error.fb",function(t){this.isReady=1,s.$slide.trigger("refresh"),e.afterLoad(s)}),t.on("refresh.fb",function(){var t,e=s.$content,i=a.css.width,n=a.css.height;if(1===o[0].isReady){try{t=o.contents().find("body")}catch(t){}t&&t.length&&t.children().length&&(e.css({width:"",height:""}),i===m&&(i=Math.ceil(Math.max(t[0].clientWidth,t.outerWidth(!0)))),i&&e.width(i),n===m&&(n=Math.ceil(Math.max(t[0].clientHeight,t.outerHeight(!0)))),n&&e.height(n)),e.removeClass("fancybox-is-hidden")}})):this.afterLoad(s),o.attr("src",s.src),t.one("onReset",function(){try{g(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(t){}g(this).off("refresh.fb").empty(),s.isLoaded=!1})},setContent:function(t,e){var i;this.isClosing||(this.hideLoading(t),t.$content&&g.fancybox.stop(t.$content),t.$slide.empty(),(i=e)&&i.hasOwnProperty&&i instanceof g&&e.parent().length?(e.parent().parent(".fancybox-slide--inline").trigger("onReset"),t.$placeholder=g("<div>").hide().insertAfter(e),e.css("display","inline-block")):t.hasError||("string"===g.type(e)&&3===(e=g("<div>").append(g.trim(e)).contents())[0].nodeType&&(e=g("<div>").html(e)),t.opts.filter&&(e=g("<div>").html(e).find(t.opts.filter))),t.$slide.one("onReset",function(){g(this).find("video,audio").trigger("pause"),t.$placeholder&&(t.$placeholder.after(e.hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(g(this).empty(),t.isLoaded=!1)}),g(e).appendTo(t.$slide),g(e).is("video,audio")&&(g(e).addClass("fancybox-video"),g(e).wrap("<div></div>"),t.contentType="video",t.opts.width=t.opts.width||g(e).attr("width"),t.opts.height=t.opts.height||g(e).attr("height")),t.$content=t.$slide.children().filter("div,form,main,video,audio").first().addClass("fancybox-content"),t.$slide.addClass("fancybox-slide--"+t.contentType),this.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.trigger("onReset").removeClass("fancybox-slide--"+t.contentType).addClass("fancybox-slide--error"),t.contentType="html",this.setContent(t,this.translate(t,t.opts.errorTpl)),t.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(t){(t=t||this.current)&&!t.$spinner&&(t.$spinner=g(this.translate(this,this.opts.spinnerTpl)).appendTo(t.$slide))},hideLoading:function(t){(t=t||this.current)&&t.$spinner&&(t.$spinner.remove(),delete t.$spinner)},afterLoad:function(t){var e=this;e.isClosing||(t.isLoading=!1,t.isLoaded=!0,e.trigger("afterLoad",t),e.hideLoading(t),t.pos===e.currPos&&e.updateCursor(),!t.opts.smallBtn||t.$smallBtn&&t.$smallBtn.length||(t.$smallBtn=g(e.translate(t,t.opts.btnTpl.smallBtn)).prependTo(t.$content)),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on("contextmenu.fb",function(t){return 2==t.button&&t.preventDefault(),!0}),"image"===t.type&&g('<div class="fancybox-spaceball"></div>').appendTo(t.$content)),e.revealContent(t))},revealContent:function(e){var i,t,n=this,s=e.$slide,o=!1,a=!1,r=e.opts[n.firstRun?"animationEffect":"transitionEffect"],l=e.opts[n.firstRun?"animationDuration":"transitionDuration"];return l=parseInt(e.forcedDuration===m?l:e.forcedDuration,10),e.pos===n.currPos&&(e.isComplete?r=!1:n.isAnimating=!0),!e.isMoved&&e.pos===n.currPos&&l||(r=!1),"zoom"===r&&(e.pos===n.currPos&&l&&"image"===e.type&&!e.hasError&&(a=n.getThumbPos(e))?o=n.getFitPos(e):r="fade"),"zoom"===r?(o.scaleX=o.width/a.width,o.scaleY=o.height/a.height,"auto"==(t=e.opts.zoomOpacity)&&(t=.1<Math.abs(e.width/e.height-a.width/a.height)),t&&(a.opacity=.1,o.opacity=1),g.fancybox.setTranslate(e.$content.removeClass("fancybox-is-hidden"),a),f(e.$content),void g.fancybox.animate(e.$content,o,l,function(){n.isAnimating=!1,n.complete()})):(n.updateSlide(e),r?(g.fancybox.stop(s),i="fancybox-animated fancybox-slide--"+(e.pos>=n.prevPos?"next":"previous")+" fancybox-fx-"+r,s.removeAttr("style").removeClass("fancybox-slide--current fancybox-slide--next fancybox-slide--previous").addClass(i),e.$content.removeClass("fancybox-is-hidden"),f(s),void g.fancybox.animate(s,"fancybox-slide--current",l,function(t){s.removeClass(i).removeAttr("style"),e.pos===n.currPos&&n.complete()},!0)):(f(s),e.$content.removeClass("fancybox-is-hidden"),void(e.pos===n.currPos&&n.complete())))},getThumbPos:function(t){var e,i=!1,n=t.opts.$thumb,s=n&&n.length&&n[0].ownerDocument===a?n.offset():0;return s&&function(t){for(var e=t[0],n=e.getBoundingClientRect(),i=[];null!==e.parentElement;)"hidden"!==g(e.parentElement).css("overflow")&&"auto"!==g(e.parentElement).css("overflow")||i.push(e.parentElement.getBoundingClientRect()),e=e.parentElement;return i.every(function(t){var e=Math.min(n.right,t.right)-Math.max(n.left,t.left),i=Math.min(n.bottom,t.bottom)-Math.max(n.top,t.top);return 0<e&&0<i})&&0<n.bottom&&0<n.right&&n.left<g(d).width()&&n.top<g(d).height()}(n)&&(e=this.$refs.stage.offset(),i={top:s.top-e.top+parseFloat(n.css("border-top-width")||0),left:s.left-e.left+parseFloat(n.css("border-left-width")||0),width:n.width(),height:n.height(),scaleX:1,scaleY:1}),i},complete:function(){var i=this,t=i.current,n={};!t.isMoved&&t.isLoaded&&(t.isComplete||(t.isComplete=!0,t.$slide.siblings().trigger("onReset"),i.preload("inline"),f(t.$slide),t.$slide.addClass("fancybox-slide--complete"),g.each(i.slides,function(t,e){e.pos>=i.currPos-1&&e.pos<=i.currPos+1?n[e.pos]=e:e&&(g.fancybox.stop(e.$slide),e.$slide.off().remove())}),i.slides=n),i.isAnimating=!1,i.updateCursor(),i.trigger("afterShow"),t.$slide.find("video,audio").filter(":visible:first").trigger("play"),(g(a.activeElement).is("[disabled]")||t.opts.autoFocus&&"image"!=t.type&&"iframe"!==t.type)&&i.focus())},preload:function(t){var e=this,i=e.slides[e.currPos+1],n=e.slides[e.currPos-1];i&&i.type===t&&e.loadSlide(i),n&&n.type===t&&e.loadSlide(n)},focus:function(){var t,e=this.current;this.isClosing||e&&e.isComplete&&e.$content&&((t=e.$content.find("input[autofocus]:enabled:visible:first")).length||(t=e.$content.find("button,:input,[tabindex],a").filter(":enabled:visible:first")),(t=t&&t.length?t:e.$content).trigger("focus"))},activate:function(){var e=this;g(".fancybox-container").each(function(){var t=g(this).data("FancyBox");t&&t.id!==e.id&&!t.isClosing&&(t.trigger("onDeactivate"),t.removeEvents(),t.isVisible=!1)}),e.isVisible=!0,(e.current||e.isIdle)&&(e.update(),e.updateControls()),e.trigger("onActivate"),e.addEvents()},close:function(t,e){function i(){d.cleanUp(t)}var n,s,o,a,r,l,c,d=this,u=d.current;return!d.isClosing&&(!(d.isClosing=!0)===d.trigger("beforeClose",t)?(d.isClosing=!1,h(function(){d.update()}),!1):(d.removeEvents(),u.timouts&&clearTimeout(u.timouts),o=u.$content,n=u.opts.animationEffect,s=g.isNumeric(e)?e:n?u.opts.animationDuration:0,u.$slide.off(p).removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),u.$slide.siblings().trigger("onReset").remove(),s&&d.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing"),d.hideLoading(u),d.hideControls(),d.updateCursor(),"zoom"!==n||!0!==t&&o&&s&&"image"===u.type&&!u.hasError&&(c=d.getThumbPos(u))||(n="fade"),"zoom"===n?(g.fancybox.stop(o),l={top:(a=g.fancybox.getTranslate(o)).top,left:a.left,scaleX:a.width/c.width,scaleY:a.height/c.height,width:c.width,height:c.height},"auto"==(r=u.opts.zoomOpacity)&&(r=.1<Math.abs(u.width/u.height-c.width/c.height)),r&&(c.opacity=0),g.fancybox.setTranslate(o,l),f(o),g.fancybox.animate(o,c,s,i)):n&&s?!0===t?setTimeout(i,s):g.fancybox.animate(u.$slide.removeClass("fancybox-slide--current"),"fancybox-animated fancybox-slide--previous fancybox-fx-"+n,s,i):i(),!0))},cleanUp:function(t){var e,i=this,n=g("body");i.current.$slide.trigger("onReset"),i.$refs.container.empty().remove(),i.trigger("afterClose",t),i.$lastFocus&&i.current.opts.backFocus&&i.$lastFocus.trigger("focus"),i.current=null,(e=g.fancybox.getInstance())?e.activate():(n.removeClass("fancybox-active compensate-for-scrollbar"),g("#fancybox-style-noscroll").remove())},trigger:function(t,e){var i,n=Array.prototype.slice.call(arguments,1),s=this,o=e&&e.opts?e:s.current;if(o?n.unshift(o):o=s,n.unshift(s),g.isFunction(o.opts[t])&&(i=o.opts[t].apply(o,n)),!1===i)return i;"afterClose"!==t&&s.$refs?s.$refs.container.trigger(t+".fb",n):r.trigger(t+".fb",n)},updateControls:function(t){var e=this,i=e.current,n=i.index,s=i.opts.caption,o=e.$refs.container,a=e.$refs.caption;i.$slide.trigger("refresh"),e.$caption=s&&s.length?a.html(s):null,e.isHiddenControls||e.isIdle||e.showControls(),o.find("[data-fancybox-count]").html(e.group.length),o.find("[data-fancybox-index]").html(n+1),o.find("[data-fancybox-prev]").toggleClass("disabled",!i.opts.loop&&n<=0),o.find("[data-fancybox-next]").toggleClass("disabled",!i.opts.loop&&n>=e.group.length-1),"image"===i.type?o.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",i.opts.image.src||i.src).show():i.opts.toolbar&&o.find("[data-fancybox-download],[data-fancybox-zoom]").hide()},hideControls:function(){this.isHiddenControls=!0,this.$refs.container.removeClass("fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav")},showControls:function(){var t=this,e=t.current?t.current.opts:t.opts,i=t.$refs.container;t.isHiddenControls=!1,t.idleSecondsCounter=0,i.toggleClass("fancybox-show-toolbar",!(!e.toolbar||!e.buttons)).toggleClass("fancybox-show-infobar",!!(e.infobar&&1<t.group.length)).toggleClass("fancybox-show-nav",!!(e.arrows&&1<t.group.length)).toggleClass("fancybox-is-modal",!!e.modal),t.$caption?i.addClass("fancybox-show-caption "):i.removeClass("fancybox-show-caption")},toggleControls:function(){this.isHiddenControls?this.showControls():this.hideControls()}}),g.fancybox={version:"3.3.5",defaults:t,getInstance:function(t){var e=g('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),i=Array.prototype.slice.call(arguments,1);return e instanceof n&&("string"===g.type(t)?e[t].apply(e,i):"function"===g.type(t)&&t.apply(e,i),e)},open:function(t,e,i){return new n(t,e,i)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close())},destroy:function(){this.close(!0),r.add("body").off("click.fb-start","**")},isMobile:a.createTouch!==m&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:(e=a.createElement("div"),d.getComputedStyle&&d.getComputedStyle(e)&&d.getComputedStyle(e).getPropertyValue("transform")&&!(a.documentMode&&a.documentMode<11)),getTranslate:function(t){var e;return!(!t||!t.length)&&{top:(e=t[0].getBoundingClientRect()).top||0,left:e.left||0,width:e.width,height:e.height,opacity:parseFloat(t.css("opacity"))}},setTranslate:function(t,e){var i="",n={};if(t&&e)return e.left===m&&e.top===m||(i=(e.left===m?t.position().left:e.left)+"px, "+(e.top===m?t.position().top:e.top)+"px",i=this.use3d?"translate3d("+i+", 0px)":"translate("+i+")"),e.scaleX!==m&&e.scaleY!==m&&(i=(i.length?i+" ":"")+"scale("+e.scaleX+", "+e.scaleY+")"),i.length&&(n.transform=i),e.opacity!==m&&(n.opacity=e.opacity),e.width!==m&&(n.width=e.width),e.height!==m&&(n.height=e.height),t.css(n)},animate:function(e,i,t,n,s){var o=!1;g.isFunction(t)&&(n=t,t=null),g.isPlainObject(i)||e.removeAttr("style"),g.fancybox.stop(e),e.on(p,function(t){t&&t.originalEvent&&(!e.is(t.originalEvent.target)||"z-index"==t.originalEvent.propertyName)||(g.fancybox.stop(e),o&&g.fancybox.setTranslate(e,o),g.isPlainObject(i)?!1===s&&e.removeAttr("style"):!0!==s&&e.removeClass(i),g.isFunction(n)&&n(t))}),g.isNumeric(t)&&e.css("transition-duration",t+"ms"),g.isPlainObject(i)?(i.scaleX!==m&&i.scaleY!==m&&(o=g.extend({},i,{width:e.width()*i.scaleX,height:e.height()*i.scaleY,scaleX:1,scaleY:1}),delete i.width,delete i.height,e.parent().hasClass("fancybox-slide--image")&&e.parent().addClass("fancybox-is-scaling")),g.fancybox.setTranslate(e,i)):e.addClass(i),e.data("timer",setTimeout(function(){e.trigger("transitionend")},t+16))},stop:function(t){t&&t.length&&(clearTimeout(t.data("timer")),t.off("transitionend").css("transition-duration",""),t.parent().removeClass("fancybox-is-scaling"))}},g.fn.fancybox=function(t){var e;return(e=(t=t||{}).selector||!1)?g("body").off("click.fb-start",e).on("click.fb-start",e,{options:t},i):this.off("click.fb-start").on("click.fb-start",{items:this,options:t},i),this},r.on("click.fb-start","[data-fancybox]",i),r.on("click.fb-start","[data-trigger]",function(t){i(t,{$target:g('[data-fancybox="'+g(t.currentTarget).attr("data-trigger")+'"]').eq(g(t.currentTarget).attr("data-index")||0),$trigger:g(this)})})))}(window,document,window.jQuery||jQuery),function(p){"use strict";function f(i,t,e){if(i)return e=e||"","object"===p.type(e)&&(e=p.param(e,!0)),p.each(t,function(t,e){i=i.replace("$"+t,e||"")}),e.length&&(i+=(0<i.indexOf("?")?"&":"?")+e),i}var n={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12]+"").replace(/\?/,"&")+"&output="+(t[12]&&0<t[12].indexOf("layer=c")?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/maps?q="+t[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}};p(document).on("objectNeedsType.fb",function(t,e,s){var o,a,r,l,c,d,u=s.src||"",h=!1,i=p.extend(!0,{},n,s.opts.media);p.each(i,function(t,e){if(a=u.match(e.matcher)){if(h=e.type,d=t,c={},e.paramPlace&&a[e.paramPlace]){"?"==(l=a[e.paramPlace])[0]&&(l=l.substring(1)),l=l.split("&");for(var i=0;i<l.length;++i){var n=l[i].split("=",2);2==n.length&&(c[n[0]]=decodeURIComponent(n[1].replace(/\+/g," ")))}}return r=p.extend(!0,{},e.params,s.opts[t],c),u="function"===p.type(e.url)?e.url.call(this,a,r,s):f(e.url,a,r),o="function"===p.type(e.thumb)?e.thumb.call(this,a,r,s):f(e.thumb,a),"youtube"===t?u=u.replace(/&t=((\d+)m)?(\d+)s/,function(t,e,i,n){return"&start="+((i?60*parseInt(i,10):0)+parseInt(n,10))}):"vimeo"===t&&(u=u.replace("&%23","#")),!1}}),h?(s.opts.thumb||s.opts.$thumb&&s.opts.$thumb.length||(s.opts.thumb=o),"iframe"===h&&(s.opts=p.extend(!0,s.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),p.extend(s,{type:h,src:u,origSrc:s.src,contentSource:d,contentType:"image"===h?"image":"gmap_place"==d||"gmap_search"==d?"map":"video"})):u&&(s.type=s.opts.defaultType)})}(window.jQuery||jQuery),function(g,r,m){"use strict";function d(t){var e=[];for(var i in t=(t=t.originalEvent||t||g.e).touches&&t.touches.length?t.touches:t.changedTouches&&t.changedTouches.length?t.changedTouches:[t])t[i].pageX?e.push({x:t[i].pageX,y:t[i].pageY}):t[i].clientX&&e.push({x:t[i].clientX,y:t[i].clientY});return e}function v(t,e,i){return e&&t?"x"===i?t.x-e.x:"y"===i?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0}function l(t){if(t.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio')||m.isFunction(t.get(0).onclick)||t.data("selectable"))return 1;for(var e=0,i=t[0].attributes,n=i.length;e<n;e++)if("data-fancybox-"===i[e].nodeName.substr(0,14))return 1}function c(t){for(var e,i,n,s,o,a=!1;e=t.get(0),0,i=g.getComputedStyle(e)["overflow-y"],n=g.getComputedStyle(e)["overflow-x"],s=("scroll"===i||"auto"===i)&&e.scrollHeight>e.clientHeight,o=("scroll"===n||"auto"===n)&&e.scrollWidth>e.clientWidth,!(a=s||o)&&(t=t.parent()).length&&!t.hasClass("fancybox-stage")&&!t.is("body"););return a}function i(t){var e=this;e.instance=t,e.$bg=t.$refs.bg,e.$stage=t.$refs.stage,e.$container=t.$refs.container,e.destroy(),e.$container.on("touchstart.fb.touch mousedown.fb.touch",m.proxy(e,"ontouchstart"))}var y=g.requestAnimationFrame||g.webkitRequestAnimationFrame||g.mozRequestAnimationFrame||g.oRequestAnimationFrame||function(t){return g.setTimeout(t,1e3/60)},b=g.cancelAnimationFrame||g.webkitCancelAnimationFrame||g.mozCancelAnimationFrame||g.oCancelAnimationFrame||function(t){g.clearTimeout(t)};i.prototype.destroy=function(){this.$container.off(".fb.touch")},i.prototype.ontouchstart=function(t){var e=this,i=m(t.target),n=e.instance,s=n.current,o=s.$content,a="touchstart"==t.type;if(a&&e.$container.off("mousedown.fb.touch"),(!t.originalEvent||2!=t.originalEvent.button)&&i.length&&!l(i)&&!l(i.parent())&&(i.is("img")||!(t.originalEvent.clientX>i[0].clientWidth+i.offset().left))){if(!s||n.isAnimating||n.isClosing)return t.stopPropagation(),void t.preventDefault();e.realPoints=e.startPoints=d(t),e.startPoints.length&&(t.stopPropagation(),e.startEvent=t,e.canTap=!0,e.$target=i,e.$content=o,e.opts=s.opts.touch,e.isPanning=!1,e.isSwiping=!1,e.isZooming=!1,e.isScrolling=!1,e.startTime=(new Date).getTime(),e.distanceX=e.distanceY=e.distance=0,e.canvasWidth=Math.round(s.$slide[0].clientWidth),e.canvasHeight=Math.round(s.$slide[0].clientHeight),e.contentLastPos=null,e.contentStartPos=m.fancybox.getTranslate(e.$content)||{top:0,left:0},e.sliderStartPos=e.sliderLastPos||m.fancybox.getTranslate(s.$slide),e.stagePos=m.fancybox.getTranslate(n.$refs.stage),e.sliderStartPos.top-=e.stagePos.top,e.sliderStartPos.left-=e.stagePos.left,e.contentStartPos.top-=e.stagePos.top,e.contentStartPos.left-=e.stagePos.left,m(r).off(".fb.touch").on(a?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",m.proxy(e,"ontouchend")).on(a?"touchmove.fb.touch":"mousemove.fb.touch",m.proxy(e,"ontouchmove")),m.fancybox.isMobile&&r.addEventListener("scroll",e.onscroll,!0),(e.opts||n.canPan())&&(i.is(e.$stage)||e.$stage.find(i).length)?(m.fancybox.isMobile&&(c(i)||c(i.parent()))||t.preventDefault(),1!==e.startPoints.length&&!s.hasError||(e.instance.canPan()?(m.fancybox.stop(e.$content),e.$content.css("transition-duration",""),e.isPanning=!0):e.isSwiping=!0,e.$container.addClass("fancybox-controls--isGrabbing")),2===e.startPoints.length&&"image"===s.type&&(s.isLoaded||s.$ghost)&&(e.canTap=!1,e.isSwiping=!1,e.isPanning=!1,e.isZooming=!0,m.fancybox.stop(e.$content),e.$content.css("transition-duration",""),e.centerPointStartX=.5*(e.startPoints[0].x+e.startPoints[1].x)-m(g).scrollLeft(),e.centerPointStartY=.5*(e.startPoints[0].y+e.startPoints[1].y)-m(g).scrollTop(),e.percentageOfImageAtPinchPointX=(e.centerPointStartX-e.contentStartPos.left)/e.contentStartPos.width,e.percentageOfImageAtPinchPointY=(e.centerPointStartY-e.contentStartPos.top)/e.contentStartPos.height,e.startDistanceBetweenFingers=v(e.startPoints[0],e.startPoints[1]))):i.is(".fancybox-image")&&t.preventDefault())}},i.prototype.onscroll=function(t){this.isScrolling=!0,r.removeEventListener("scroll",this.onscroll,!0)},i.prototype.ontouchmove=function(t){var e=this,i=m(t.target);void 0===t.originalEvent.buttons||0!==t.originalEvent.buttons?e.isScrolling||!i.is(e.$stage)&&!e.$stage.find(i).length?e.canTap=!1:(e.newPoints=d(t),(e.opts||e.instance.canPan())&&e.newPoints.length&&e.newPoints.length&&(e.isSwiping&&!0===e.isSwiping||t.preventDefault(),e.distanceX=v(e.newPoints[0],e.startPoints[0],"x"),e.distanceY=v(e.newPoints[0],e.startPoints[0],"y"),e.distance=v(e.newPoints[0],e.startPoints[0]),0<e.distance&&(e.isSwiping?e.onSwipe(t):e.isPanning?e.onPan():e.isZooming&&e.onZoom()))):e.ontouchend(t)},i.prototype.onSwipe=function(t){var e,n=this,i=n.isSwiping,s=n.sliderStartPos.left||0;if(!0!==i)"x"==i&&(0<n.distanceX&&(n.instance.group.length<2||0===n.instance.current.index&&!n.instance.current.opts.loop)?s+=Math.pow(n.distanceX,.8):n.distanceX<0&&(n.instance.group.length<2||n.instance.current.index===n.instance.group.length-1&&!n.instance.current.opts.loop)?s-=Math.pow(-n.distanceX,.8):s+=n.distanceX),n.sliderLastPos={top:"x"==i?0:n.sliderStartPos.top+n.distanceY,left:s},n.requestId&&(b(n.requestId),n.requestId=null),n.requestId=y(function(){n.sliderLastPos&&(m.each(n.instance.slides,function(t,e){var i=e.pos-n.instance.currPos;m.fancybox.setTranslate(e.$slide,{top:n.sliderLastPos.top,left:n.sliderLastPos.left+i*n.canvasWidth+i*e.opts.gutter})}),n.$container.addClass("fancybox-is-sliding"))});else if(10<Math.abs(n.distance)){if(n.canTap=!1,n.instance.group.length<2&&n.opts.vertical?n.isSwiping="y":n.instance.isDragging||!1===n.opts.vertical||"auto"===n.opts.vertical&&800<m(g).width()?n.isSwiping="x":(e=Math.abs(180*Math.atan2(n.distanceY,n.distanceX)/Math.PI),n.isSwiping=45<e&&e<135?"y":"x"),n.canTap=!1,"y"===n.isSwiping&&m.fancybox.isMobile&&(c(n.$target)||c(n.$target.parent())))return void(n.isScrolling=!0);n.instance.isDragging=n.isSwiping,n.startPoints=n.newPoints,m.each(n.instance.slides,function(t,e){m.fancybox.stop(e.$slide),e.$slide.css("transition-duration",""),e.inTransition=!1,e.pos===n.instance.current.pos&&(n.sliderStartPos.left=m.fancybox.getTranslate(e.$slide).left-m.fancybox.getTranslate(n.instance.$refs.stage).left)}),n.instance.SlideShow&&n.instance.SlideShow.isActive&&n.instance.SlideShow.stop()}},i.prototype.onPan=function(){var t=this;v(t.newPoints[0],t.realPoints[0])<(m.fancybox.isMobile?10:5)?t.startPoints=t.newPoints:(t.canTap=!1,t.contentLastPos=t.limitMovement(),t.requestId&&(b(t.requestId),t.requestId=null),t.requestId=y(function(){m.fancybox.setTranslate(t.$content,t.contentLastPos)}))},i.prototype.limitMovement=function(){var t=this,e=t.canvasWidth,i=t.canvasHeight,n=t.distanceX,s=t.distanceY,o=t.contentStartPos,a=o.left,r=o.top,l=o.width,c=o.height,d=e<l?a+n:a,u=r+s,h=Math.max(0,.5*e-.5*l),p=Math.max(0,.5*i-.5*c),f=Math.min(e-l,.5*e-.5*l),g=Math.min(i-c,.5*i-.5*c);return 0<n&&h<d&&(d=h-1+Math.pow(-h+a+n,.8)||0),n<0&&d<f&&(d=f+1-Math.pow(f-a-n,.8)||0),0<s&&p<u&&(u=p-1+Math.pow(-p+r+s,.8)||0),s<0&&u<g&&(u=g+1-Math.pow(g-r-s,.8)||0),{top:u,left:d}},i.prototype.limitPosition=function(t,e,i,n){var s=this.canvasWidth,o=this.canvasHeight;return t=s<i?(t=0<t?0:t)<s-i?s-i:t:Math.max(0,s/2-i/2),{top:e=o<n?(e=0<e?0:e)<o-n?o-n:e:Math.max(0,o/2-n/2),left:t}},i.prototype.onZoom=function(){var t=this,e=t.contentStartPos,i=e.width,n=e.height,s=e.left,o=e.top,a=v(t.newPoints[0],t.newPoints[1])/t.startDistanceBetweenFingers,r=Math.floor(i*a),l=Math.floor(n*a),c=(i-r)*t.percentageOfImageAtPinchPointX,d=(n-l)*t.percentageOfImageAtPinchPointY,u=(t.newPoints[0].x+t.newPoints[1].x)/2-m(g).scrollLeft(),h=(t.newPoints[0].y+t.newPoints[1].y)/2-m(g).scrollTop(),p=u-t.centerPointStartX,f={top:o+(d+(h-t.centerPointStartY)),left:s+(c+p),scaleX:a,scaleY:a};t.canTap=!1,t.newWidth=r,t.newHeight=l,t.contentLastPos=f,t.requestId&&(b(t.requestId),t.requestId=null),t.requestId=y(function(){m.fancybox.setTranslate(t.$content,t.contentLastPos)})},i.prototype.ontouchend=function(t){var e=this,i=Math.max((new Date).getTime()-e.startTime,1),n=e.isSwiping,s=e.isPanning,o=e.isZooming,a=e.isScrolling;if(e.endPoints=d(t),e.$container.removeClass("fancybox-controls--isGrabbing"),m(r).off(".fb.touch"),r.removeEventListener("scroll",e.onscroll,!0),e.requestId&&(b(e.requestId),e.requestId=null),e.isSwiping=!1,e.isPanning=!1,e.isZooming=!1,e.isScrolling=!1,e.instance.isDragging=!1,e.canTap)return e.onTap(t);e.speed=366,e.velocityX=e.distanceX/i*.5,e.velocityY=e.distanceY/i*.5,e.speedX=Math.max(.5*e.speed,Math.min(1.5*e.speed,1/Math.abs(e.velocityX)*e.speed)),s?e.endPanning():o?e.endZooming():e.endSwiping(n,a)},i.prototype.endSwiping=function(t,e){var i=this,n=!1,s=i.instance.group.length;i.sliderLastPos=null,"y"==t&&!e&&50<Math.abs(i.distanceY)?(m.fancybox.animate(i.instance.current.$slide,{top:i.sliderStartPos.top+i.distanceY+150*i.velocityY,opacity:0},200),n=i.instance.close(!0,200)):"x"==t&&50<i.distanceX&&1<s?n=i.instance.previous(i.speedX):"x"==t&&i.distanceX<-50&&1<s&&(n=i.instance.next(i.speedX)),!1!==n||"x"!=t&&"y"!=t||(e||s<2?i.instance.centerSlide(i.instance.current,150):i.instance.jumpTo(i.instance.current.index)),i.$container.removeClass("fancybox-is-sliding")},i.prototype.endPanning=function(){var t,e,i,n=this;n.contentLastPos&&(e=!1===n.opts.momentum?(t=n.contentLastPos.left,n.contentLastPos.top):(t=n.contentLastPos.left+n.velocityX*n.speed,n.contentLastPos.top+n.velocityY*n.speed),(i=n.limitPosition(t,e,n.contentStartPos.width,n.contentStartPos.height)).width=n.contentStartPos.width,i.height=n.contentStartPos.height,m.fancybox.animate(n.$content,i,330))},i.prototype.endZooming=function(){var t,e,i,n,s=this,o=s.instance.current,a=s.newWidth,r=s.newHeight;s.contentLastPos&&(t=s.contentLastPos.left,n={top:e=s.contentLastPos.top,left:t,width:a,height:r,scaleX:1,scaleY:1},m.fancybox.setTranslate(s.$content,n),a<s.canvasWidth&&r<s.canvasHeight?s.instance.scaleToFit(150):a>o.width||r>o.height?s.instance.scaleToActual(s.centerPointStartX,s.centerPointStartY,150):(i=s.limitPosition(t,e,a,r),m.fancybox.setTranslate(s.$content,m.fancybox.getTranslate(s.$content)),m.fancybox.animate(s.$content,i,150)))},i.prototype.onTap=function(i){function t(t){var e=a.opts[t];if(m.isFunction(e)&&(e=e.apply(o,[a,i])),e)switch(e){case"close":o.close(n.startEvent);break;case"toggleControls":o.toggleControls(!0);break;case"next":o.next();break;case"nextOrClose":1<o.group.length?o.next():o.close(n.startEvent);break;case"zoom":"image"==a.type&&(a.isLoaded||a.$ghost)&&(o.canPan()?o.scaleToFit():o.isScaledDown()?o.scaleToActual(l,c):o.group.length<2&&o.close(n.startEvent))}}var e,n=this,s=m(i.target),o=n.instance,a=o.current,r=i&&d(i)||n.startPoints,l=r[0]?r[0].x-m(g).scrollLeft()-n.stagePos.left:0,c=r[0]?r[0].y-m(g).scrollTop()-n.stagePos.top:0;if((!i.originalEvent||2!=i.originalEvent.button)&&(s.is("img")||!(l>s[0].clientWidth+s.offset().left))){if(s.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))e="Outside";else if(s.is(".fancybox-slide"))e="Slide";else{if(!o.current.$content||!o.current.$content.find(s).addBack().filter(s).length)return;e="Content"}if(n.tapped){if(clearTimeout(n.tapped),n.tapped=null,50<Math.abs(l-n.tapX)||50<Math.abs(c-n.tapY))return this;t("dblclick"+e)}else n.tapX=l,n.tapY=c,a.opts["dblclick"+e]&&a.opts["dblclick"+e]!==a.opts["click"+e]?n.tapped=setTimeout(function(){n.tapped=null,t("click"+e)},500):t("click"+e);return this}},m(r).on("onActivate.fb",function(t,e){e&&!e.Guestures&&(e.Guestures=new i(e))})}(window,document,window.jQuery||jQuery),function(a,r){"use strict";r.extend(!0,r.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><svg viewBox="0 0 40 40"><path d="M13,12 L27,20 L13,27 Z" /><path d="M15,10 v19 M23,10 v19" /></svg></button>'},slideShow:{autoStart:!1,speed:3e3}});function i(t){this.instance=t,this.init()}r.extend(i.prototype,{timer:null,isActive:!1,$button:null,init:function(){var t=this;t.$button=t.instance.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){t.toggle()}),(t.instance.group.length<2||!t.instance.group[t.instance.currIndex].opts.slideShow)&&t.$button.hide()},set:function(t){var e=this;e.instance&&e.instance.current&&(!0===t||e.instance.current.opts.loop||e.instance.currIndex<e.instance.group.length-1)?e.timer=setTimeout(function(){e.isActive&&e.instance.jumpTo((e.instance.currIndex+1)%e.instance.group.length)},e.instance.current.opts.slideShow.speed):(e.stop(),e.instance.idleSecondsCounter=0,e.instance.showControls())},clear:function(){clearTimeout(this.timer),this.timer=null},start:function(){var t=this.instance.current;t&&(this.isActive=!0,this.$button.attr("title",t.opts.i18n[t.opts.lang].PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),this.set(!0))},stop:function(){var t=this.instance.current;this.clear(),this.$button.attr("title",t.opts.i18n[t.opts.lang].PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play"),this.isActive=!1},toggle:function(){this.isActive?this.stop():this.start()}}),r(a).on({"onInit.fb":function(t,e){e&&!e.SlideShow&&(e.SlideShow=new i(e))},"beforeShow.fb":function(t,e,i,n){var s=e&&e.SlideShow;n?s&&i.opts.slideShow.autoStart&&s.start():s&&s.isActive&&s.clear()},"afterShow.fb":function(t,e,i){var n=e&&e.SlideShow;n&&n.isActive&&n.set()},"afterKeydown.fb":function(t,e,i,n,s){var o=e&&e.SlideShow;!o||!i.opts.slideShow||80!==s&&32!==s||r(a.activeElement).is("button,a,input")||(n.preventDefault(),o.toggle())},"beforeClose.fb onDeactivate.fb":function(t,e){var i=e&&e.SlideShow;i&&i.stop()}}),r(a).on("visibilitychange",function(){var t=r.fancybox.getInstance(),e=t&&t.SlideShow;e&&e.isActive&&(a.hidden?e.clear():e.set())})}(document,window.jQuery||jQuery),function(o,i){"use strict";var n,e=function(){for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],e={},i=0;i<t.length;i++){var n=t[i];if(n&&n[1]in o){for(var s=0;s<n.length;s++)e[t[0][s]]=n[s];return e}}return!1}();e?(n={request:function(t){(t=t||o.documentElement)[e.requestFullscreen](t.ALLOW_KEYBOARD_INPUT)},exit:function(){o[e.exitFullscreen]()},toggle:function(t){t=t||o.documentElement,this.isFullscreen()?this.exit():this.request(t)},isFullscreen:function(){return Boolean(o[e.fullscreenElement])},enabled:function(){return Boolean(o[e.fullscreenEnabled])}},i.extend(!0,i.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fullscreen" title="{{FULL_SCREEN}}"><svg viewBox="0 0 40 40"><path d="M9,12 v16 h22 v-16 h-22 v8" /></svg></button>'},fullScreen:{autoStart:!1}}),i(o).on({"onInit.fb":function(t,e){e&&e.group[e.currIndex].opts.fullScreen?(e.$refs.container.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(t){t.stopPropagation(),t.preventDefault(),n.toggle()}),e.opts.fullScreen&&!0===e.opts.fullScreen.autoStart&&n.request(),e.FullScreen=n):e&&e.$refs.toolbar.find("[data-fancybox-fullscreen]").hide()},"afterKeydown.fb":function(t,e,i,n,s){e&&e.FullScreen&&70===s&&(n.preventDefault(),e.FullScreen.toggle())},"beforeClose.fb":function(t,e){e&&e.FullScreen&&e.$refs.container.hasClass("fancybox-is-fullscreen")&&n.exit()}}),i(o).on(e.fullscreenchange,function(){var t=n.isFullscreen(),e=i.fancybox.getInstance();e&&(e.current&&"image"===e.current.type&&e.isAnimating&&(e.current.$content.css("transition","none"),e.isAnimating=!1,e.update(!0,!0,0)),e.trigger("onFullscreenChange",t),e.$refs.container.toggleClass("fancybox-is-fullscreen",t))})):i&&i.fancybox&&(i.fancybox.defaults.btnTpl.fullScreen=!1)}(document,window.jQuery||jQuery),function(t,o){"use strict";var a="fancybox-thumbs",r=a+"-active";o.fancybox.defaults=o.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg viewBox="0 0 120 120"><path d="M30,30 h14 v14 h-14 Z M50,30 h14 v14 h-14 Z M70,30 h14 v14 h-14 Z M30,50 h14 v14 h-14 Z M50,50 h14 v14 h-14 Z M70,50 h14 v14 h-14 Z M30,70 h14 v14 h-14 Z M50,70 h14 v14 h-14 Z M70,70 h14 v14 h-14 Z" /></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},o.fancybox.defaults);function n(t){this.init(t)}o.extend(n.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(t){var e,i,n=this;((n.instance=t).Thumbs=n).opts=t.group[t.currIndex].opts.thumbs,e=(e=t.group[0]).opts.thumb||!(!e.opts.$thumb||!e.opts.$thumb.length)&&e.opts.$thumb.attr("src"),1<t.group.length&&(i=(i=t.group[1]).opts.thumb||!(!i.opts.$thumb||!i.opts.$thumb.length)&&i.opts.$thumb.attr("src")),n.$button=t.$refs.toolbar.find("[data-fancybox-thumbs]"),n.opts&&e&&i&&e&&i?(n.$button.show().on("click",function(){n.toggle()}),n.isActive=!0):n.$button.hide()},create:function(){var i,t=this,e=t.instance,n=t.opts.parentEl,s=[];t.$grid||(t.$grid=o('<div class="'+a+" "+a+"-"+t.opts.axis+'"></div>').appendTo(e.$refs.container.find(n).addBack().filter(n)),t.$grid.on("click","li",function(){e.jumpTo(o(this).attr("data-index"))})),t.$list||(t.$list=o("<ul>").appendTo(t.$grid)),o.each(e.group,function(t,e){(i=e.opts.thumb||(e.opts.$thumb?e.opts.$thumb.attr("src"):null))||"image"!==e.type||(i=e.src),s.push('<li data-index="'+t+'" tabindex="0" class="fancybox-thumbs-loading"'+(i&&i.length?' style="background-image:url('+i+')" />':"")+"></li>")}),t.$list[0].innerHTML=s.join(""),"x"===t.opts.axis&&t.$list.width(parseInt(t.$grid.css("padding-right"),10)+e.group.length*t.$list.children().eq(0).outerWidth(!0))},focus:function(t){var e,i,n=this,s=n.$list,o=n.$grid;n.instance.current&&(i=(e=s.children().removeClass(r).filter('[data-index="'+n.instance.current.index+'"]').addClass(r)).position(),"y"===n.opts.axis&&(i.top<0||i.top>s.height()-e.outerHeight())?s.stop().animate({scrollTop:s.scrollTop()+i.top},t):"x"===n.opts.axis&&(i.left<o.scrollLeft()||i.left>o.scrollLeft()+(o.width()-e.outerWidth()))&&s.parent().stop().animate({scrollLeft:i.left},t))},update:function(){var t=this;t.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),t.isVisible?(t.$grid||t.create(),t.instance.trigger("onThumbsShow"),t.focus(0)):t.$grid&&t.instance.trigger("onThumbsHide"),t.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),o(t).on({"onInit.fb":function(t,e){var i;e&&!e.Thumbs&&(i=new n(e)).isActive&&!0===i.opts.autoStart&&i.show()},"beforeShow.fb":function(t,e,i,n){var s=e&&e.Thumbs;s&&s.isVisible&&s.focus(n?0:250)},"afterKeydown.fb":function(t,e,i,n,s){var o=e&&e.Thumbs;o&&o.isActive&&71===s&&(n.preventDefault(),o.toggle())},"beforeClose.fb":function(t,e){var i=e&&e.Thumbs;i&&i.isVisible&&!1!==i.opts.hideOnClose&&i.$grid.hide()}})}(document,window.jQuery||jQuery),function(t,o){"use strict";o.extend(!0,o.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class="fancybox-button fancybox-button--share" title="{{SHARE}}"><svg viewBox="0 0 40 40"><path d="M6,30 C8,18 19,16 23,16 L23,16 L23,10 L33,20 L23,29 L23,24 C19,24 8,27 6,30 Z"></svg></button>'},share:{url:function(t,e){return!t.currentHash&&"inline"!==e.type&&"html"!==e.type&&(e.origSrc||e.src)||window.location},tpl:'<div class="fancybox-share"><h1>{{SHARE}}</h1><p><a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg><span>Facebook</span></a><a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg><span>Twitter</span></a><a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg><span>Pinterest</span></a></p><p><input class="fancybox-share__input" type="text" value="{{url_raw}}" /></p></div>'}}),o(t).on("click","[data-fancybox-share]",function(){var t,e,i,n=o.fancybox.getInstance(),s=n.current||null;s&&("function"===o.type(s.opts.share.url)&&(t=s.opts.share.url.apply(s,[n,s])),e=s.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===s.type?encodeURIComponent(s.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(t)).replace(/\{\{url_raw\}\}/g,(i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},String(t).replace(/[&<>"'`=\/]/g,function(t){return i[t]}))).replace(/\{\{descr\}\}/g,n.$caption?encodeURIComponent(n.$caption.text()):""),o.fancybox.open({src:n.translate(n,e),type:"html",opts:{animationEffect:!1,afterLoad:function(t,e){n.$refs.container.one("beforeClose.fb",function(){t.close(null,0)}),e.$content.find(".fancybox-share__links a").click(function(){return window.open(this.href,"Share","width=550, height=450"),!1})}}}))})}(document,window.jQuery||jQuery),function(o,a,s){"use strict";function r(){var t=a.location.hash.substr(1),e=t.split("-"),i=1<e.length&&/^\+?\d+$/.test(e[e.length-1])&&parseInt(e.pop(-1),10)||1;return{hash:t,index:i<1?1:i,gallery:e.join("-")}}function e(t){""!==t.gallery&&s("[data-fancybox='"+s.escapeSelector(t.gallery)+"']").eq(t.index-1).trigger("click.fb-start")}function l(t){var e,i;return!!t&&(""!==(i=(e=t.current?t.current.opts:t.opts).hash||(e.$orig?e.$orig.data("fancybox"):""))&&i)}s.escapeSelector||(s.escapeSelector=function(t){return(t+"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t})}),s(function(){!1!==s.fancybox.defaults.hash&&(s(o).on({"onInit.fb":function(t,e){var i,n;!1!==e.group[e.currIndex].opts.hash&&(i=r(),(n=l(e))&&i.gallery&&n==i.gallery&&(e.currIndex=i.index-1))},"beforeShow.fb":function(t,e,i,n){var s;i&&!1!==i.opts.hash&&(s=l(e))&&(e.currentHash=s+(1<e.group.length?"-"+(i.index+1):""),a.location.hash!=="#"+e.currentHash&&(e.origHash||(e.origHash=a.location.hash),e.hashTimer&&clearTimeout(e.hashTimer),e.hashTimer=setTimeout(function(){"replaceState"in a.history?(a.history[n?"pushState":"replaceState"]({},o.title,a.location.pathname+a.location.search+"#"+e.currentHash),n&&(e.hasCreatedHistory=!0)):a.location.hash=e.currentHash,e.hashTimer=null},300)))},"beforeClose.fb":function(t,e,i){!1!==i.opts.hash&&(l(e),e.currentHash&&e.hasCreatedHistory?a.history.back():e.currentHash&&("replaceState"in a.history?a.history.replaceState({},o.title,a.location.pathname+a.location.search+(e.origHash||"")):a.location.hash=e.origHash),e.currentHash=null,clearTimeout(e.hashTimer))}}),s(a).on("hashchange.fb",function(){var n,t=r();s.each(s(".fancybox-container").get().reverse(),function(t,e){var i=s(e).data("FancyBox");if(i.currentHash)return n=i,!1}),n?!n.currentHash||n.currentHash===t.gallery+"-"+t.index||1===t.index&&n.currentHash==t.gallery||(n.currentHash=null,n.close()):""!==t.gallery&&e(t)}),setTimeout(function(){s.fancybox.getInstance()||e(r())},50))})}(document,window,window.jQuery||jQuery),function(t,e){"use strict";var s=(new Date).getTime();e(t).on({"onInit.fb":function(t,n,e){n.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(t){var e=n.current,i=(new Date).getTime();n.group.length<2||!1===e.opts.wheel||"auto"===e.opts.wheel&&"image"!==e.type||(t.preventDefault(),t.stopPropagation(),e.$slide.hasClass("fancybox-animated")||(t=t.originalEvent||t,i-s<250||(s=i,n[(-t.deltaY||-t.deltaX||t.wheelDelta||-t.detail)<0?"next":"previous"]())))})}})}(document,window.jQuery||jQuery),function(o,t){"use strict";function a(){(function(){for(var t in n={unit:c.unit},g)if(g.hasOwnProperty(t))for(var e in f[t]){var i;f[t].hasOwnProperty(e)&&f[t][e].matches&&(i="Infinity"===e?1/0:parseInt(e,10),-1<t.indexOf("max")?(!n[t]||i<n[t])&&(n[t]=i):(!n[t]||i>n[t])&&(n[t]=i))}})(),i.trigger(d.mqChange,[n])}function r(t){var e=l(t.media),i=p[e],n=t.matches?d.enter:d.leave;if(i&&i.active||!i.active&&t.matches){for(var s in i[n])i[n].hasOwnProperty(s)&&i[n][s].apply(i.mq);i.active=!0}}function l(t){return t.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"").replace(/^\s+|\s+$/g,"")}var e=t.Plugin("mediaquery",{utilities:{_initialize:function(t){for(var e in t=t||{},g)g.hasOwnProperty(e)&&(c[e]=t[e]?o.merge(t[e],c[e]):c[e]);for(var i in(c=o.extend(c,t)).minWidth.sort(h.sortDesc),c.maxWidth.sort(h.sortAsc),c.minHeight.sort(h.sortDesc),c.maxHeight.sort(h.sortAsc),g)if(g.hasOwnProperty(i))for(var n in f[i]={},c[i]){var s;c[i].hasOwnProperty(n)&&((s=window.matchMedia("("+g[i]+": "+(c[i][n]===1/0?1e5:c[i][n])+c.unit+")")).addListener(a),f[i][c[i][n]]=s)}a()},state:function(){return n},bind:function(t,e,i){var n=u.matchMedia(e),s=l(n.media);for(var o in p[s]||(p[s]={mq:n,active:!0,enter:{},leave:{}},p[s].mq.addListener(r)),i)i.hasOwnProperty(o)&&p[s].hasOwnProperty(o)&&(p[s][o][t]=i[o]);r(p[s].mq)},unbind:function(t,e){if(t)if(e){var i=l(e);p[i]&&(p[i].enter[t]&&delete p[i].enter[t],p[i].leave[t]&&delete p[i].leave[t])}else for(var n in p)p.hasOwnProperty(n)&&(p[n].enter[t]&&delete p[n].enter[t],p[n].leave[t]&&delete p[n].leave[t])}},events:{mqChange:"mqchange"}}),c={minWidth:[0],maxWidth:[1/0],minHeight:[0],maxHeight:[1/0],unit:"px"},d=o.extend(e.events,{enter:"enter",leave:"leave"}),i=t.$window,u=i[0],h=e.functions,n=null,p=[],f={},g={minWidth:"min-width",maxWidth:"max-width",minHeight:"min-height",maxHeight:"max-height"}}(jQuery,Formstone),function(o){"use strict";function i(t){t.$handle.fsSwap("deactivate")}function a(t){var e;t.originalEvent||((e=t.data).open||(e.$el.trigger(p.open),e.$content.addClass(h.open).one(p.clickTouchStart,function(){i(e)}),e.label&&e.$handle.text(e.labels.open),e.isToggle||f.addClass(h.lock),e.open=!0))}function r(t){var e;t.originalEvent||(e=t.data).open&&(e.$el.trigger(p.close),e.$content.removeClass(h.open).off(p.namespace),e.label&&e.$handle.text(e.labels.closed),n(e),e.open=!1)}function l(t){var e=t.data;e.$content.addClass(h.enabled),setTimeout(function(){e.$animate.addClass(h.animated)},0),e.label&&e.$handle.text(e.labels.closed)}function c(t){var e=t.data;e.$content.removeClass(h.enabled,h.animated),e.$animate.removeClass(h.animated),s(e),n(e)}function n(t){t.isToggle||f.removeClass(h.lock)}function s(t){if(t.label)if(1<t.$handle.length)for(var e=0,i=t.$handle.length;e<i;e++)t.$handle.eq(e).text(t.originalLabel[e]);else t.$handle.text(t.originalLabel)}var t=Formstone.Plugin("navigation",{widget:!0,defaults:{customClass:"",gravity:"left",label:!0,labels:{closed:"Menu",open:"Close"},maxWidth:"980px",type:"toggle"},classes:["handle","nav","content","animated","enabled","open","toggle","push","reveal","overlay","left","right","lock"],events:{tap:"tap",open:"open",close:"close"},methods:{_setup:function(){f=o("html, body")},_construct:function(t){t.handleGuid=h.handle+t.guid,t.isToggle="toggle"===t.type,t.open=!1,t.isToggle&&(t.gravity="");var e=h.base,i=[e,t.type].join("-"),n=t.gravity?[i,t.gravity].join("-"):"",s=[t.rawGuid,t.customClass].join(" ");t.handle=this.data(d+"-handle"),t.content=this.data(d+"-content"),t.handleClasses=[h.handle,h.handle.replace(e,i),n?h.handle.replace(e,n):"",t.handleGuid,s].join(" "),t.navClasses=[h.nav.replace(e,i),n?h.nav.replace(e,n):"",s].join(" "),t.contentClasses=[h.content.replace(e,i),n?h.content.replace(e,n):"",s].join(" "),t.$nav=this.addClass(t.navClasses),t.$handle=o(t.handle).addClass(t.handleClasses),t.$content=o(t.content).addClass(t.contentClasses),t.$animate=o().add(t.$nav).add(t.$content),function(t){if(t.label)if(1<t.$handle.length){t.originalLabel=[];for(var e=0,i=t.$handle.length;e<i;e++)t.originalLabel[e]=t.$handle.eq(e).text()}else t.originalLabel=t.$handle.text()}(t),t.$handle.attr("data-swap-target",t.dotGuid).attr("data-swap-linked","."+t.handleGuid).attr("data-swap-group",h.base).on("activate.swap"+t.dotGuid,t,a).on("deactivate.swap"+t.dotGuid,t,r).on("enable.swap"+t.dotGuid,t,l).on("disable.swap"+t.dotGuid,t,c).fsSwap({maxWidth:t.maxWidth,classes:{target:t.dotGuid,enabled:u.enabled,active:u.open,raw:{target:t.rawGuid,enabled:h.enabled,active:h.open}}})},_destruct:function(t){t.$content.removeClass(t.contentClasses).off(p.namespace),t.$handle.removeAttr("data-swap-target").removeData("swap-target").removeAttr("data-swap-linked").removeData("swap-linked").removeClass(t.handleClasses).off(t.dotGuid).text(t.originalLabel).fsSwap("destroy"),s(t),n(t),this.removeClass(t.navClasses).off(p.namespace)},open:function(t){t.$handle.fsSwap("activate")},close:i,enable:function(t){t.$handle.fsSwap("enable")},disable:function(t){t.$handle.fsSwap("disable")}}}),d=t.namespace,u=t.classes,h=u.raw,p=t.events,f=(t.functions,null)}(jQuery),function(n){"use strict";function i(t,e){var i;t.enabled&&!t.active&&(n(t.group).not(t.$el)[l.namespaceClean]("deactivate"),i=t.group?n(t.group).index(t.$el):null,t.$swaps.addClass(t.classes.raw.active),e||(t.linked&&n(t.linked).not(t.$el).swap("activate",!0),this.trigger(u.activate,[i])),t.active=!0)}function s(t,e){t.enabled&&t.active&&(t.$swaps.removeClass(t.classes.raw.active),e||(t.linked&&n(t.linked).not(t.$el).swap("deactivate",!0),this.trigger(u.deactivate)),t.active=!1)}function o(t,e){t.enabled||(t.enabled=!0,t.$swaps.addClass(t.classes.raw.enabled),e||n(t.linked).not(t.$el).swap("enable"),this.trigger(u.enable),t.onEnable?(t.active=!0,t.$swaps.addClass(t.classes.raw.active)):(t.active=!0,s.call(this,t)))}function a(t,e){t.enabled&&(t.enabled=!1,t.$swaps.removeClass([t.classes.raw.enabled,t.classes.raw.active].join(" ")),e||n(t.linked).not(t.$el).swap("disable"),this.trigger(u.disable))}function r(t){h.killEvent(t);var e=t.data;e.active&&e.collapse?s.call(e.$el,e):i.call(e.$el,e)}var l=Formstone.Plugin("swap",{widget:!0,defaults:{collapse:!0,maxWidth:1/0},classes:["target","enabled","active"],events:{tap:"tap",activate:"activate",deactivate:"deactivate",enable:"enable",disable:"disable"},methods:{_construct:function(t){t.enabled=!1,t.active=!1,t.classes=n.extend(!0,{},d,t.classes),t.target=this.data(c+"-target"),t.$target=n(t.target).addClass(t.classes.raw.target),t.linked=this.data(c+"-linked"),t.mq="(max-width:"+(t.maxWidth===1/0?"100000px":t.maxWidth)+")";var e=this.data(c+"-group");t.group=!!e&&"[data-"+c+'-group="'+e+'"]',!t.collapse&&t.group&&n(t.group).eq(0).attr("data-"+c+"-active","true"),t.onEnable=this.data(c+"-active"),t.$swaps=n().add(this).add(t.$target),this.fsTouch({tap:!0}).on(u.tap+t.dotGuid,t,r),n.fsMediaquery("bind",t.rawGuid,t.mq,{enter:function(){o.call(t.$el,t)},leave:function(){a.call(t.$el,t)}})},_destruct:function(t){n.fsMediaquery("unbind",t.rawGuid),t.$swaps.removeClass([t.classes.raw.enabled,t.classes.raw.active].join(" ")).off(u.namespace),this.fsTouch("destroy")},activate:i,deactivate:s,enable:o,disable:a}}),c=l.namespace,d=l.classes,u=l.events,h=l.functions}(jQuery),function(e,i){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("jquery")):e.jQueryBridget=i(e,e.jQuery)}(window,function(t,e){"use strict";var u=Array.prototype.slice,i=t.console,h=void 0===i?function(){}:function(t){i.error(t)};function n(c,s,d){(d=d||e||t.jQuery)&&(s.prototype.option||(s.prototype.option=function(t){d.isPlainObject(t)&&(this.options=d.extend(!0,this.options,t))}),d.fn[c]=function(t){if("string"!=typeof t)return n=t,this.each(function(t,e){var i=d.data(e,c);i?(i.option(n),i._init()):(i=new s(e,n),d.data(e,c,i))}),this;var e,o,a,r,l,n,i=u.call(arguments,1);return a=i,l="$()."+c+'("'+(o=t)+'")',(e=this).each(function(t,e){var i,n,s=d.data(e,c);s?(i=s[o])&&"_"!=o.charAt(0)?(n=i.apply(s,a),r=void 0===r?n:r):h(l+" is not a valid method"):h(c+" not initialized. Cannot call methods, i.e. "+l)}),void 0!==r?r:e},o(d))}function o(t){!t||t&&t.bridget||(t.bridget=n)}return o(e||t.jQuery),n}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],s=0;s<i.length;s++){var o=i[s];n&&n[o]&&(this.off(t,o),delete n[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"function"==typeof define&&define.amd?define("get-size/get-size",e):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function x(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}var i="undefined"==typeof console?function(){}:function(t){console.error(t)},w=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],C=w.length;function S(t){var e=getComputedStyle(t);return e||i("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}var $,P=!1;function E(t){var e,i,n;if(P||(P=!0,(e=document.createElement("div")).style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box",(i=document.body||document.documentElement).appendChild(e),n=S(e),$=200==Math.round(x(n.width)),E.isBoxSizeOuter=$,i.removeChild(e)),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var s=S(t);if("none"==s.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<C;e++){t[w[e]]=0}return t}();var o={};o.width=t.offsetWidth,o.height=t.offsetHeight;for(var a=o.isBorderBox="border-box"==s.boxSizing,r=0;r<C;r++){var l=w[r],c=s[l],d=parseFloat(c);o[l]=isNaN(d)?0:d}var u=o.paddingLeft+o.paddingRight,h=o.paddingTop+o.paddingBottom,p=o.marginLeft+o.marginRight,f=o.marginTop+o.marginBottom,g=o.borderLeftWidth+o.borderRightWidth,m=o.borderTopWidth+o.borderBottomWidth,v=a&&$,y=x(s.width);!1!==y&&(o.width=y+(v?0:u+g));var b=x(s.height);return!1!==b&&(o.height=b+(v?0:h+m)),o.innerWidth=o.width-(u+g),o.innerHeight=o.height-(h+m),o.outerWidth=o.width+p,o.outerHeight=o.height+f,o}}return E}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var i=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i]+"MatchesSelector";if(t[n])return n}}();return function(t,e){return t[i](e)}}),function(e,i){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("desandro-matches-selector")):e.fizzyUIUtils=i(e,e.matchesSelector)}(window,function(c,o){var d={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},e=Array.prototype.slice;d.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?e.call(t):[t]},d.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},d.getParent=function(t,e){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,o(t,e))return t},d.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},d.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},d.filterFindElements=function(t,n){t=d.makeArray(t);var s=[];return t.forEach(function(t){if(t instanceof HTMLElement)if(n){o(t,n)&&s.push(t);for(var e=t.querySelectorAll(n),i=0;i<e.length;i++)s.push(e[i])}else s.push(t)}),s},d.debounceMethod=function(t,e,n){n=n||100;var s=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];clearTimeout(t);var e=arguments,i=this;this[o]=setTimeout(function(){s.apply(i,e),delete i[o]},n)}},d.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},d.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var u=c.console;return d.htmlInit=function(r,l){d.docReady(function(){var t=d.toDashed(l),s="data-"+t,e=document.querySelectorAll("["+s+"]"),i=document.querySelectorAll(".js-"+t),n=d.makeArray(e).concat(d.makeArray(i)),o=s+"-options",a=c.jQuery;n.forEach(function(e){var t,i=e.getAttribute(s)||e.getAttribute(o);try{t=i&&JSON.parse(i)}catch(t){return void(u&&u.error("Error parsing "+s+" on "+e.className+": "+t))}var n=new r(e,t);a&&a.data(e,l,n)})})},d}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/cell",["get-size/get-size"],function(t){return e(0,t)}):"object"==typeof module&&module.exports?module.exports=e(0,require("get-size")):(t.Flickity=t.Flickity||{},t.Flickity.Cell=e(0,t.getSize))}(window,function(t,e){function i(t,e){this.element=t,this.parent=e,this.create()}var n=i.prototype;return n.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-selected","false"),this.x=0,this.shift=0},n.destroy=function(){this.element.style.position="";var t=this.parent.originSide;this.element.removeAttribute("aria-selected"),this.element.style[t]=""},n.getSize=function(){this.size=e(this.element)},n.setPosition=function(t){this.x=t,this.updateTarget(),this.renderPosition(t)},n.updateTarget=n.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},n.renderPosition=function(t){var e=this.parent.originSide;this.element.style[e]=this.parent.getPositionValue(t)},n.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},n.remove=function(){this.element.parentNode.removeChild(this.element)},i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/slide",e):"object"==typeof module&&module.exports?module.exports=e():(t.Flickity=t.Flickity||{},t.Flickity.Slide=e())}(window,function(){"use strict";function t(t){this.parent=t,this.isOriginLeft="left"==t.originSide,this.cells=[],this.outerWidth=0,this.height=0}var e=t.prototype;return e.addCell=function(t){var e;this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1==this.cells.length&&(this.x=t.x,e=this.isOriginLeft?"marginLeft":"marginRight",this.firstMargin=t.size[e])},e.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft",e=this.getLastCell(),i=e?e.size[t]:0,n=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+n*this.parent.cellAlign},e.getLastCell=function(){return this.cells[this.cells.length-1]},e.select=function(){this.changeSelected(!0)},e.unselect=function(){this.changeSelected(!1)},e.changeSelected=function(e){var i=e?"add":"remove";this.cells.forEach(function(t){t.element.classList[i]("is-selected"),t.element.setAttribute("aria-selected",e.toString())})},e.getCellElements=function(){return this.cells.map(function(t){return t.element})},t}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/animate",["fizzy-ui-utils/utils"],function(t){return e(0,t)}):"object"==typeof module&&module.exports?module.exports=e(0,require("fizzy-ui-utils")):(t.Flickity=t.Flickity||{},t.Flickity.animatePrototype=e(0,t.fizzyUIUtils))}(window,function(t,o){var e={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var t,e=this.x;this.integratePhysics(),this.positionSlider(),this.settle(e),this.isAnimating&&(t=this,requestAnimationFrame(function(){t.animate()}))},positionSlider:function(){var t=this.x;this.options.wrapAround&&1<this.cells.length&&(t=o.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),t+=this.cursorPosition,t=this.options.rightToLeft?-t:t;var e=this.getPositionValue(t);this.slider.style.transform=this.isAnimating?"translate3d("+e+",0,0)":"translateX("+e+")";var i,n,s=this.slides[0];s&&(n=(i=-this.x-s.target)/this.slidesWidth,this.dispatchEvent("scroll",null,[n,i]))},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},settle:function(t){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*t)||this.restingFrames++,2<this.restingFrames&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},_shiftCells:function(t,e,i){for(var n=0;n<t.length;n++){var s=t[n],o=0<e?i:0;s.wrapShift(o),e-=s.size.outerWidth}},_unshiftCells:function(t){if(t&&t.length)for(var e=0;e<t.length;e++)t[e].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(t){this.velocity+=t},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){var t;this.isDraggable&&this.isPointerDown&&(t=this.dragX-this.x-this.velocity,this.applyForce(t))},applySelectedAttraction:function(){var t;this.isDraggable&&this.isPointerDown||this.isFreeScrolling||!this.slides.length||(t=(-1*this.selectedSlide.target-this.x)*this.options.selectedAttraction,this.applyForce(t))}};return e}),function(a,r){var t;"function"==typeof define&&define.amd?define("flickity/js/flickity",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./cell","./slide","./animate"],function(t,e,i,n,s,o){return r(a,t,e,i,n,s,o)}):"object"==typeof module&&module.exports?module.exports=r(a,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./slide"),require("./animate")):(t=a.Flickity,a.Flickity=r(a,a.EvEmitter,a.getSize,a.fizzyUIUtils,t.Cell,t.Slide,t.animatePrototype))}(window,function(n,t,e,r,i,a,s){var l=n.jQuery,o=n.getComputedStyle,c=n.console;function d(t,e){for(t=r.makeArray(t);t.length;)e.appendChild(t.shift())}var u=0,h={};function p(t,e){var i=r.getQueryElement(t);if(i){if(this.element=i,this.element.flickityGUID){var n=h[this.element.flickityGUID];return n.option(e),n}l&&(this.$element=l(this.element)),this.options=r.extend({},this.constructor.defaults),this.option(e),this._create()}else c&&c.error("Bad element for Flickity: "+(i||t))}p.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},p.createMethods=[];var f=p.prototype;r.extend(f,t.prototype),f._create=function(){var t=this.guid=++u;for(var e in this.element.flickityGUID=t,(h[t]=this).selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&n.addEventListener("resize",this),this.options.on){var i=this.options.on[e];this.on(e,i)}p.createMethods.forEach(function(t){this[t]()},this),this.options.watchCSS?this.watchCSS():this.activate()},f.option=function(t){r.extend(this.options,t)},f.activate=function(){var t,e;this.isActive||(this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize(),d(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),t=this.options.initialIndex,e=this.isInitActivated?this.selectedIndex:void 0!==t&&this.cells[t]?t:0,this.select(e,!1,!0),this.isInitActivated=!0,this.dispatchEvent("ready"))},f._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},f._filterFindCellElements=function(t){return r.filterFindElements(t,this.options.cellSelector)},f.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},f._makeCells=function(t){return this._filterFindCellElements(t).map(function(t){return new i(t,this)},this)},f.getLastCell=function(){return this.cells[this.cells.length-1]},f.getLastSlide=function(){return this.slides[this.slides.length-1]},f.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},f._positionCells=function(t){t=t||0,this.maxCellHeight=t&&this.maxCellHeight||0;var e,i=0;0<t&&(i=(e=this.cells[t-1]).x+e.size.outerWidth);for(var n=this.cells.length,s=t;s<n;s++){var o=this.cells[s];o.setPosition(i),i+=o.size.outerWidth,this.maxCellHeight=Math.max(o.size.outerHeight,this.maxCellHeight)}this.slideableWidth=i,this.updateSlides(),this._containSlides(),this.slidesWidth=n?this.getLastSlide().target-this.slides[0].target:0},f._sizeCells=function(t){t.forEach(function(t){t.getSize()})},f.updateSlides=function(){var n,s,o;this.slides=[],this.cells.length&&(n=new a(this),this.slides.push(n),s="left"==this.originSide?"marginRight":"marginLeft",o=this._getCanCellFit(),this.cells.forEach(function(t,e){var i;n.cells.length&&(i=n.outerWidth-n.firstMargin+(t.size.outerWidth-t.size[s]),o.call(this,e,i)||(n.updateTarget(),n=new a(this),this.slides.push(n))),n.addCell(t)},this),n.updateTarget(),this.updateSelectedSlide())},f._getCanCellFit=function(){var t=this.options.groupCells;if(!t)return function(){return!1};if("number"==typeof t){var e=parseInt(t,10);return function(t){return t%e!=0}}var i="string"==typeof t&&t.match(/^(\d+)%$/),n=i?parseInt(i[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*n}},f._init=f.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},f.getSize=function(){this.size=e(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var g={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return f.setCellAlign=function(){var t=g[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},f.setGallerySize=function(){var t;this.options.setGallerySize&&(t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight,this.viewport.style.height=t+"px")},f._getWrapShiftCells=function(){var t,e;this.options.wrapAround&&(this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells),t=this.cursorPosition,e=this.cells.length-1,this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1))},f._getGapCells=function(t,e,i){for(var n=[];0<t;){var s=this.cells[e];if(!s)break;n.push(s),e+=i,t-=s.size.outerWidth}return n},f._containSlides=function(){var t,e,i,n,s,o,a;this.options.contain&&!this.options.wrapAround&&this.cells.length&&(e=(t=this.options.rightToLeft)?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight",n=this.slideableWidth-this.getLastCell().size[i],s=n<this.size.innerWidth,o=this.cursorPosition+this.cells[0].size[e],a=n-this.size.innerWidth*(1-this.cellAlign),this.slides.forEach(function(t){s?t.target=n*this.cellAlign:(t.target=Math.max(t.target,o),t.target=Math.min(t.target,a))},this))},f.dispatchEvent=function(t,e,i){var n,s,o=e?[e].concat(i):i;this.emitEvent(t,o),l&&this.$element&&(n=t+=this.options.namespaceJQueryEvents?".flickity":"",e&&((s=l.Event(e)).type=t,n=s),this.$element.trigger(n,i))},f.select=function(t,e,i){var n;this.isActive&&(t=parseInt(t,10),this._wrapSelect(t),(this.options.wrapAround||e)&&(t=r.modulo(t,this.slides.length)),this.slides[t]&&(n=this.selectedIndex,this.selectedIndex=t,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[t]),t!=n&&this.dispatchEvent("change",null,[t]),this.dispatchEvent("cellSelect")))},f._wrapSelect=function(t){var e=this.slides.length;if(!(this.options.wrapAround&&1<e))return t;var i=r.modulo(t,e),n=Math.abs(i-this.selectedIndex),s=Math.abs(i+e-this.selectedIndex),o=Math.abs(i-e-this.selectedIndex);!this.isDragSelect&&s<n?t+=e:!this.isDragSelect&&o<n&&(t-=e),t<0?this.x-=this.slideableWidth:e<=t&&(this.x+=this.slideableWidth)},f.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},f.next=function(t,e){this.select(this.selectedIndex+1,t,e)},f.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),(this.selectedSlide=t).select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},f.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},f.selectCell=function(t,e,i){var n,s=this.queryCell(t);s&&(n=this.getCellSlideIndex(s),this.select(n,e,i))},f.getCellSlideIndex=function(t){for(var e=0;e<this.slides.length;e++){if(-1!=this.slides[e].cells.indexOf(t))return e}},f.getCell=function(t){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];if(i.element==t)return i}},f.getCells=function(t){t=r.makeArray(t);var i=[];return t.forEach(function(t){var e=this.getCell(t);e&&i.push(e)},this),i},f.getCellElements=function(){return this.cells.map(function(t){return t.element})},f.getParentCell=function(t){var e=this.getCell(t);return e||(t=r.getParent(t,".flickity-slider > *"),this.getCell(t))},f.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(i<=1+2*t)return this.getCellElements();for(var n=[],s=e-t;s<=e+t;s++){var o=this.options.wrapAround?r.modulo(s,i):s,a=this.slides[o];a&&(n=n.concat(a.getCellElements()))}return n},f.queryCell=function(t){return"number"==typeof t?this.cells[t]:("string"==typeof t&&(t=this.element.querySelector(t)),this.getCell(t))},f.uiChange=function(){this.emitEvent("uiChange")},f.childUIPointerDown=function(t){this.emitEvent("childUIPointerDown",[t])},f.onresize=function(){this.watchCSS(),this.resize()},r.debounceMethod(p,"onresize",150),f.resize=function(){var t;this.isActive&&(this.getSize(),this.options.wrapAround&&(this.x=r.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize"),t=this.selectedElements&&this.selectedElements[0],this.selectCell(t,!1,!0))},f.watchCSS=function(){this.options.watchCSS&&(-1!=o(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate())},f.onkeydown=function(t){var e,i=document.activeElement&&document.activeElement!=this.element;!this.options.accessibility||i||(e=p.keyboardHandlers[t.keyCode])&&e.call(this)},p.keyboardHandlers={37:function(){var t=this.options.rightToLeft?"next":"previous";this.uiChange(),this[t]()},39:function(){var t=this.options.rightToLeft?"previous":"next";this.uiChange(),this[t]()}},f.focus=function(){var t=n.pageYOffset;this.element.focus({preventScroll:!0}),n.pageYOffset!=t&&n.scrollTo(n.pageXOffset,t)},f.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach(function(t){t.destroy()}),this.element.removeChild(this.viewport),d(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},f.destroy=function(){this.deactivate(),n.removeEventListener("resize",this),this.emitEvent("destroy"),l&&this.$element&&l.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete h[this.guid]},r.extend(f,s),p.data=function(t){var e=(t=r.getQueryElement(t))&&t.flickityGUID;return e&&h[e]},r.htmlInit(p,"flickity"),l&&l.bridget&&l.bridget("flickity",p),p.setJQuery=function(t){l=t},p.Cell=i,p}),function(e,i){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("ev-emitter")):e.Unipointer=i(e,e.EvEmitter)}(window,function(s,t){function e(){}var i=e.prototype=Object.create(t.prototype);i.bindStartEvent=function(t){this._bindStartEvent(t,!0)},i.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},i._bindStartEvent=function(t,e){var i=(e=void 0===e||e)?"addEventListener":"removeEventListener",n="mousedown";s.PointerEvent?n="pointerdown":"ontouchstart"in s&&(n="touchstart"),t[i](n,this)},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.getTouch=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.identifier==this.pointerIdentifier)return i}},i.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},i.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},i.onpointerdown=function(t){this._pointerDown(t,t)},i._pointerDown=function(t,e){t.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},i.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var n={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return i._bindPostStartEvents=function(t){var e;t&&((e=n[t.type]).forEach(function(t){s.addEventListener(t,this)},this),this._boundPointerEvents=e)},i._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(t){s.removeEventListener(t,this)},this),delete this._boundPointerEvents)},i.onmousemove=function(t){this._pointerMove(t,t)},i.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},i.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},i._pointerMove=function(t,e){this.pointerMove(t,e)},i.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},i.onmouseup=function(t){this._pointerUp(t,t)},i.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},i.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},i._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},i.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},i._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},i._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},i.pointerDone=function(){},i.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},i.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},i._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},i.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},e.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},e}),function(e,i){"function"==typeof define&&define.amd?define("unidragger/unidragger",["unipointer/unipointer"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("unipointer")):e.Unidragger=i(e,e.Unipointer)}(window,function(o,t){function e(){}var i=e.prototype=Object.create(t.prototype);i.bindHandles=function(){this._bindHandles(!0)},i.unbindHandles=function(){this._bindHandles(!1)},i._bindHandles=function(t){for(var e=(t=void 0===t||t)?"addEventListener":"removeEventListener",i=t?this._touchActionValue:"",n=0;n<this.handles.length;n++){var s=this.handles[n];this._bindStartEvent(s,t),s[e]("click",this),o.PointerEvent&&(s.style.touchAction=i)}},i._touchActionValue="none",i.pointerDown=function(t,e){this.okayPointerDown(t)&&(this.pointerDownPointer=e,t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e]))};var s={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},a={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return i.okayPointerDown=function(t){var e=s[t.target.nodeName],i=a[t.target.type],n=!e||i;return n||this._pointerReset(),n},i.pointerDownBlur=function(){var t=document.activeElement;t&&t.blur&&t!=document.body&&t.blur()},i.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},i._dragPointerMove=function(t,e){var i={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(t,e),i},i.hasDragStarted=function(t){return 3<Math.abs(t.x)||3<Math.abs(t.y)},i.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},i._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},i._dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(t,e)},i.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},i._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},i.dragMove=function(t,e,i){t.preventDefault(),this.emitEvent("dragMove",[t,e,i])},i._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},i.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},i.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},i._staticClick=function(t,e){this.isIgnoringMouseUp&&"mouseup"==t.type||(this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},i.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},e.getPointerPoint=t.getPointerPoint,e}),function(n,s){"function"==typeof define&&define.amd?define("flickity/js/drag",["./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],function(t,e,i){return s(n,t,e,i)}):"object"==typeof module&&module.exports?module.exports=s(n,require("./flickity"),require("unidragger"),require("fizzy-ui-utils")):n.Flickity=s(n,n.Flickity,n.Unidragger,n.fizzyUIUtils)}(window,function(i,t,e,r){r.extend(t.defaults,{draggable:">1",dragThreshold:3}),t.createMethods.push("_createDrag");var n=t.prototype;r.extend(n,e.prototype),n._touchActionValue="pan-y";var s="createTouch"in document,o=!1;n._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("childUIPointerDown",this._childUIPointerDownDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable),s&&!o&&(i.addEventListener("touchmove",function(){}),o=!0)},n.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},n.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},n.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=1<this.slides.length:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},n.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},n.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},n._uiChangeDrag=function(){delete this.isFreeScrolling},n._childUIPointerDownDrag=function(t){t.preventDefault(),this.pointerDownFocus(t)},n.pointerDown=function(t,e){this.isDraggable?this.okayPointerDown(t)&&(this._pointerDownPreventDefault(t),this.pointerDownFocus(t),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=l(),i.addEventListener("scroll",this),this._pointerDownDefault(t,e)):this._pointerDownDefault(t,e)},n._pointerDownDefault=function(t,e){this.pointerDownPointer=e,this._bindPostStartEvents(t),this.dispatchEvent("pointerDown",t,[e])};var a={INPUT:!0,TEXTAREA:!0,SELECT:!0};function l(){return{x:i.pageXOffset,y:i.pageYOffset}}return n.pointerDownFocus=function(t){a[t.target.nodeName]||this.focus()},n._pointerDownPreventDefault=function(t){var e="touchstart"==t.type,i="touch"==t.pointerType,n=a[t.target.nodeName];e||i||n||t.preventDefault()},n.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},n.pointerUp=function(t,e){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},n.pointerDone=function(){i.removeEventListener("scroll",this),delete this.pointerDownScroll},n.dragStart=function(t,e){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),i.removeEventListener("scroll",this),this.dispatchEvent("dragStart",t,[e]))},n.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,i]),this._dragMove(t,e,i)},n.dragMove=function(t,e,i){var n,s,o,a;this.isDraggable&&(t.preventDefault(),this.previousDragX=this.dragX,n=this.options.rightToLeft?-1:1,this.options.wrapAround&&(i.x=i.x%this.slideableWidth),o=this.dragStartPosition+i.x*n,!this.options.wrapAround&&this.slides.length&&(o=(o=(s=Math.max(-this.slides[0].target,this.dragStartPosition))<o?.5*(o+s):o)<(a=Math.min(-this.getLastSlide().target,this.dragStartPosition))?.5*(o+a):o),this.dragX=o,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i]))},n.dragEnd=function(t,e){var i,n;this.isDraggable&&(this.options.freeScroll&&(this.isFreeScrolling=!0),i=this.dragEndRestingSelect(),this.options.freeScroll&&!this.options.wrapAround?(n=this.getRestingPosition(),this.isFreeScrolling=-n>this.slides[0].target&&-n<this.getLastSlide().target):this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect()),delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",t,[e]))},n.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),n=this._getClosestResting(t,e,-1);return i.distance<n.distance?i.index:n.index},n._getClosestResting=function(t,e,i){for(var n=this.selectedIndex,s=1/0,o=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};o(e,s)&&(n+=i,s=e,null!==(e=this.getSlideDistance(-t,n)));)e=Math.abs(e);return{distance:s,index:n-i}},n.getSlideDistance=function(t,e){var i=this.slides.length,n=this.options.wrapAround&&1<i,s=n?r.modulo(e,i):e,o=this.slides[s];if(!o)return null;var a=n?this.slideableWidth*Math.floor(e/i):0;return t-(o.target+a)},n.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||100<new Date-this.dragMoveTime)return 0;var t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return 0<t&&0<e?1:t<0&&e<0?-1:0},n.staticClick=function(t,e){var i=this.getParentCell(t.target),n=i&&i.element,s=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",t,[e,n,s])},n.onscroll=function(){var t=l(),e=this.pointerDownScroll.x-t.x,i=this.pointerDownScroll.y-t.y;(3<Math.abs(e)||3<Math.abs(i))&&this._pointerDone()},t}),function(e,i){"function"==typeof define&&define.amd?define("tap-listener/tap-listener",["unipointer/unipointer"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("unipointer")):e.TapListener=i(e,e.Unipointer)}(window,function(r,l){function t(t){this.bindTap(t)}var e=t.prototype=Object.create(l.prototype);return e.bindTap=function(t){t&&(this.unbindTap(),this.tapElement=t,this._bindStartEvent(t,!0))},e.unbindTap=function(){this.tapElement&&(this._bindStartEvent(this.tapElement,!0),delete this.tapElement)},e.pointerUp=function(t,e){var i,n,s,o,a;this.isIgnoringMouseUp&&"mouseup"==t.type||(i=l.getPointerPoint(e),n=this.tapElement.getBoundingClientRect(),s=r.pageXOffset,o=r.pageYOffset,i.x>=n.left+s&&i.x<=n.right+s&&i.y>=n.top+o&&i.y<=n.bottom+o&&this.emitEvent("tap",[t,e]),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,a=this,setTimeout(function(){delete a.isIgnoringMouseUp},400)))},e.destroy=function(){this.pointerDone(),this.unbindTap()},t}),function(t,n){"function"==typeof define&&define.amd?define("flickity/js/prev-next-button",["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(t,e,i){return n(0,t,e,i)}):"object"==typeof module&&module.exports?module.exports=n(0,require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):n(0,t.Flickity,t.TapListener,t.fizzyUIUtils)}(window,function(t,e,i,n){"use strict";var s="http://www.w3.org/2000/svg";function o(t,e){this.direction=t,this.parent=e,this._create()}(o.prototype=Object.create(i.prototype))._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickity-button flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var i=this.createSVG();e.appendChild(i),this.on("tap",this.onTap),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.bindTap(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},o.prototype.deactivate=function(){this.parent.element.removeChild(this.element),i.prototype.destroy.call(this),this.element.removeEventListener("click",this)},o.prototype.createSVG=function(){var t=document.createElementNS(s,"svg");t.setAttribute("class","flickity-button-icon"),t.setAttribute("viewBox","0 0 100 100");var e,i=document.createElementNS(s,"path"),n="string"!=typeof(e=this.parent.options.arrowShape)?"M "+e.x0+",50 L "+e.x1+","+(e.y1+50)+" L "+e.x2+","+(e.y2+50)+" L "+e.x3+",50  L "+e.x2+","+(50-e.y2)+" L "+e.x1+","+(50-e.y1)+" Z":e;return i.setAttribute("d",n),i.setAttribute("class","arrow"),this.isLeft||i.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(i),t},o.prototype.onTap=function(){var t;this.isEnabled&&(this.parent.uiChange(),t=this.isPrevious?"previous":"next",this.parent[t]())},o.prototype.handleEvent=n.handleEvent,o.prototype.onclick=function(t){var e=document.activeElement;e&&e==this.element&&this.onTap(t,t)},o.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},o.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},o.prototype.update=function(){var t,e,i=this.parent.slides;this.parent.options.wrapAround&&1<i.length?this.enable():(t=i.length?i.length-1:0,e=this.isPrevious?0:t,this[this.parent.selectedIndex==e?"disable":"enable"]())},o.prototype.destroy=function(){this.deactivate()},n.extend(e.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),e.createMethods.push("_createPrevNextButtons");var a=e.prototype;return a._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new o(-1,this),this.nextButton=new o(1,this),this.on("activate",this.activatePrevNextButtons))},a.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},a.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},e.PrevNextButton=o,e}),function(t,n){"function"==typeof define&&define.amd?define("flickity/js/page-dots",["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(t,e,i){return n(0,t,e,i)}):"object"==typeof module&&module.exports?module.exports=n(0,require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):n(0,t.Flickity,t.TapListener,t.fizzyUIUtils)}(window,function(t,e,i,n){function s(t){this.parent=t,this._create()}(s.prototype=new i)._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.on("tap",this.onTap),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},s.prototype.activate=function(){this.setDots(),this.bindTap(this.holder),this.parent.element.appendChild(this.holder)},s.prototype.deactivate=function(){this.parent.element.removeChild(this.holder),i.prototype.destroy.call(this)},s.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;0<t?this.addDots(t):t<0&&this.removeDots(-t)},s.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[],n=this.dots.length,s=n+t,o=n;o<s;o++){var a=document.createElement("li");a.className="dot",a.setAttribute("aria-label","Page dot "+(o+1)),e.appendChild(a),i.push(a)}this.holder.appendChild(e),this.dots=this.dots.concat(i)},s.prototype.removeDots=function(t){this.dots.splice(this.dots.length-t,t).forEach(function(t){this.holder.removeChild(t)},this)},s.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},s.prototype.onTap=function(t){var e,i=t.target;"LI"==i.nodeName&&(this.parent.uiChange(),e=this.dots.indexOf(i),this.parent.select(e))},s.prototype.destroy=function(){this.deactivate()},e.PageDots=s,n.extend(e.defaults,{pageDots:!0}),e.createMethods.push("_createPageDots");var o=e.prototype;return o._createPageDots=function(){this.options.pageDots&&(this.pageDots=new s(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},o.activatePageDots=function(){this.pageDots.activate()},o.updateSelectedPageDots=function(){this.pageDots.updateSelected()},o.updatePageDots=function(){this.pageDots.setDots()},o.deactivatePageDots=function(){this.pageDots.deactivate()},e.PageDots=s,e}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/player",["ev-emitter/ev-emitter","fizzy-ui-utils/utils","./flickity"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("fizzy-ui-utils"),require("./flickity")):e(t.EvEmitter,t.fizzyUIUtils,t.Flickity)}(window,function(t,e,i){function n(t){this.parent=t,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}(n.prototype=Object.create(t.prototype)).play=function(){"playing"!=this.state&&(document.hidden?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()))},n.prototype.tick=function(){var t,e;"playing"==this.state&&(t="number"==typeof(t=this.parent.options.autoPlay)?t:3e3,(e=this).clear(),this.timeout=setTimeout(function(){e.parent.next(!0),e.tick()},t))},n.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},n.prototype.clear=function(){clearTimeout(this.timeout)},n.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},n.prototype.unpause=function(){"paused"==this.state&&this.play()},n.prototype.visibilityChange=function(){this[document.hidden?"pause":"unpause"]()},n.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},e.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");var s=i.prototype;return s._createPlayer=function(){this.player=new n(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},s.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},s.playPlayer=function(){this.player.play()},s.stopPlayer=function(){this.player.stop()},s.pausePlayer=function(){this.player.pause()},s.unpausePlayer=function(){this.player.unpause()},s.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},s.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},s.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=n,i}),function(t,i){"function"==typeof define&&define.amd?define("flickity/js/add-remove-cell",["./flickity","fizzy-ui-utils/utils"],function(t,e){return i(0,t,e)}):"object"==typeof module&&module.exports?module.exports=i(0,require("./flickity"),require("fizzy-ui-utils")):i(0,t.Flickity,t.fizzyUIUtils)}(window,function(t,e,n){var i=e.prototype;return i.insert=function(t,e){var i,n,s,o,a,r,l,c=this._makeCells(t);c&&c.length&&(i=this.cells.length,e=void 0===e?i:e,s=c,o=document.createDocumentFragment(),s.forEach(function(t){o.appendChild(t.element)}),n=o,(a=e==i)?this.slider.appendChild(n):(r=this.cells[e].element,this.slider.insertBefore(n,r)),0===e?this.cells=c.concat(this.cells):a?this.cells=this.cells.concat(c):(l=this.cells.splice(e,i-e),this.cells=this.cells.concat(c).concat(l)),this._sizeCells(c),this.cellChange(e,!0))},i.append=function(t){this.insert(t,this.cells.length)},i.prepend=function(t){this.insert(t,0)},i.remove=function(t){var i,e=this.getCells(t);e&&e.length&&(i=this.cells.length-1,e.forEach(function(t){t.remove();var e=this.cells.indexOf(t);i=Math.min(e,i),n.removeFrom(this.cells,t)},this),this.cellChange(i,!0))},i.cellSizeChange=function(t){var e,i=this.getCell(t);i&&(i.getSize(),e=this.cells.indexOf(i),this.cellChange(e))},i.cellChange=function(t,e){var i=this.selectedElement;this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize();var n=this.getCell(i);n&&(this.selectedIndex=this.getCellSlideIndex(n)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[t]),this.select(this.selectedIndex),e&&this.positionSliderAtSelected()},e}),function(t,i){"function"==typeof define&&define.amd?define("flickity/js/lazyload",["./flickity","fizzy-ui-utils/utils"],function(t,e){return i(0,t,e)}):"object"==typeof module&&module.exports?module.exports=i(0,require("./flickity"),require("fizzy-ui-utils")):i(0,t.Flickity,t.fizzyUIUtils)}(window,function(t,e,o){"use strict";e.createMethods.push("_createLazyload");var i=e.prototype;function s(t,e){this.img=t,this.flickity=e,this.load()}return i._createLazyload=function(){this.on("select",this.lazyLoad)},i.lazyLoad=function(){var t,e,i,n=this.options.lazyLoad;n&&(t="number"==typeof n?n:0,e=this.getAdjacentCellElements(t),i=[],e.forEach(function(t){var e=function(t){if("IMG"==t.nodeName){var e=t.getAttribute("data-flickity-lazyload"),i=t.getAttribute("data-flickity-lazyload-src"),n=t.getAttribute("data-flickity-lazyload-srcset");if(e||i||n)return[t]}var s=t.querySelectorAll("img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]");return o.makeArray(s)}(t);i=i.concat(e)}),i.forEach(function(t){new s(t,this)},this))},s.prototype.handleEvent=o.handleEvent,s.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var t=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),e=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=t,e&&this.img.setAttribute("srcset",e),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},s.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},s.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},s.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img),n=i&&i.element;this.flickity.cellSizeChange(n),this.img.classList.add(e),this.flickity.dispatchEvent("lazyLoad",t,n)},e.LazyLoader=s,e}),function(t){"function"==typeof define&&define.amd?define("flickity/js/index",["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],t):"object"==typeof module&&module.exports&&(module.exports=t(require("./flickity"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./player"),require("./add-remove-cell"),require("./lazyload")))}((window,function(t){return t})),function(t,e){"function"==typeof define&&define.amd?define("flickity-as-nav-for/as-nav-for",["flickity/js/index","fizzy-ui-utils/utils"],e):"object"==typeof module&&module.exports?module.exports=e(require("flickity"),require("fizzy-ui-utils")):t.Flickity=e(t.Flickity,t.fizzyUIUtils)}(window,function(n,s){n.createMethods.push("_createAsNavFor");var t=n.prototype;return t._createAsNavFor=function(){this.on("activate",this.activateAsNavFor),this.on("deactivate",this.deactivateAsNavFor),this.on("destroy",this.destroyAsNavFor);var t,e=this.options.asNavFor;e&&(t=this,setTimeout(function(){t.setNavCompanion(e)}))},t.setNavCompanion=function(t){t=s.getQueryElement(t);var e,i=n.data(t);i&&i!=this&&(this.navCompanion=i,(e=this).onNavCompanionSelect=function(){e.navCompanionSelect()},i.on("select",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect(!0))},t.navCompanionSelect=function(t){var e,i,n,s,o,a,r,l;this.navCompanion&&(e=this.navCompanion.selectedCells[0],n=(i=this.navCompanion.cells.indexOf(e))+this.navCompanion.selectedCells.length-1,s=Math.floor((o=i,a=n,r=this.navCompanion.cellAlign,(a-o)*r+o)),this.selectCell(s,!1,t),this.removeNavSelectedElements(),s>=this.cells.length||(l=this.cells.slice(i,1+n),this.navSelectedElements=l.map(function(t){return t.element}),this.changeNavSelectedClass("add")))},t.changeNavSelectedClass=function(e){this.navSelectedElements.forEach(function(t){t.classList[e]("is-nav-selected")})},t.activateAsNavFor=function(){this.navCompanionSelect(!0)},t.removeNavSelectedElements=function(){this.navSelectedElements&&(this.changeNavSelectedClass("remove"),delete this.navSelectedElements)},t.onNavStaticClick=function(t,e,i,n){"number"==typeof n&&this.navCompanion.selectCell(n)},t.deactivateAsNavFor=function(){this.removeNavSelectedElements()},t.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("select",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},n}),function(e,i){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("ev-emitter")):e.imagesLoaded=i(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(e,t){var o=e.jQuery,a=e.console;function r(t,e){for(var i in e)t[i]=e[i];return t}var l=Array.prototype.slice;function c(t,e,i){if(!(this instanceof c))return new c(t,e,i);var n,s=t;"string"==typeof t&&(s=document.querySelectorAll(t)),s?(this.elements=(n=s,Array.isArray(n)?n:"object"==typeof n&&"number"==typeof n.length?l.call(n):[n]),this.options=r({},this.options),"function"==typeof e?i=e:r(this.options,e),i&&this.on("always",i),this.getImages(),o&&(this.jqDeferred=new o.Deferred),setTimeout(this.check.bind(this))):a.error("Bad element for imagesLoaded "+(s||t))}(c.prototype=Object.create(t.prototype)).options={},c.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},c.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&d[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var s=i[n];this.addImage(s)}if("string"==typeof this.options.background)for(var o=t.querySelectorAll(this.options.background),n=0;n<o.length;n++){var a=o[n];this.addElementBackgroundImages(a)}}};var d={1:!0,9:!0,11:!0};function i(t){this.img=t}function n(t,e){this.url=t,this.element=e,this.img=new Image}return c.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var s=n&&n[2];s&&this.addBackground(s,t),n=i.exec(e.backgroundImage)}},c.prototype.addImage=function(t){var e=new i(t);this.images.push(e)},c.prototype.addBackground=function(t,e){var i=new n(t,e);this.images.push(i)},c.prototype.check=function(){var n=this;function e(t,e,i){setTimeout(function(){n.progress(t,e,i)})}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(t){t.once("progress",e),t.check()}):this.complete()},c.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,t,e)},c.prototype.complete=function(){var t,e=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(t=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[t](this))},(i.prototype=Object.create(t.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},i.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},i.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},i.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(n.prototype=Object.create(i.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},n.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},n.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},(c.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((o=t).fn.imagesLoaded=function(t,e){return new c(this,t,e).jqDeferred.promise(o(this))})})(),c}),function(t,i){"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],function(t,e){return i(0,t,e)}):"object"==typeof module&&module.exports?module.exports=i(0,require("flickity"),require("imagesloaded")):t.Flickity=i(0,t.Flickity,t.imagesLoaded)}(window,function(t,e,i){"use strict";e.createMethods.push("_createImagesLoaded");var n=e.prototype;return n._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},n.imagesLoaded=function(){var n;this.options.imagesLoaded&&i((n=this).slider).on("progress",function(t,e){var i=n.getParentCell(e.img);n.cellSizeChange(i&&i.element),n.options.freeScroll||n.positionSliderAtSelected()})},e}),function(m,e){"use strict";function o(t){t.preventManipulation&&t.preventManipulation();var e=t.data,i=t.originalEvent;if(i.type.match(/(up|end)$/i))f(t);else{if(i.pointerId){var n=!1;for(var s in e.touches)e.touches[s].id===i.pointerId&&(n=!0,e.touches[s].pageX=i.clientX,e.touches[s].pageY=i.clientY);n||e.touches.push({id:i.pointerId,pageX:i.clientX,pageY:i.clientY})}else e.touches=i.touches;i.type.match(/(down|start)$/i)?a(t):i.type.match(/move$/i)&&r(t)}}function a(t){var e,i,n=t.data,s="undefined"!==m.type(n.touches)?n.touches[0]:null;n.touching||(n.startE=t.originalEvent,n.startX=s?s.pageX:t.pageX,n.startY=s?s.pageY:t.pageY,n.startT=(new Date).getTime(),n.scaleD=1,n.passed=!1),n.tap?(n.clicked=!1,n.$el.on([w.touchMove,w.pointerMove].join(" "),n,o).on([w.touchEnd,w.touchCancel,w.pointerUp,w.pointerCancel].join(" "),n,o)):(n.pan||n.scale)&&(n.$links&&n.$links.off(w.click),e=b(n.scale?w.scaleStart:w.panStart,t,n.startX,n.startY,n.scaleD,0,0,"",""),n.scale&&n.touches&&2<=n.touches.length&&(i=n.touches,n.pinch={startX:g(i[0].pageX,i[1].pageX),startY:g(i[0].pageY,i[1].pageY),startD:x(i[1].pageX-i[0].pageX,i[1].pageY-i[0].pageY)},e.pageX=n.startX=n.pinch.startX,e.pageY=n.startY=n.pinch.startY),n.touching||(n.touching=!0,n.pan&&S.on(w.mouseMove,n,r).on(w.mouseUp,n,f),S.on([w.touchMove,w.touchEnd,w.touchCancel,w.pointerMove,w.pointerUp,w.pointerCancel].join(" "),n,o),n.$el.trigger(e)))}function r(t){var e,i,n,s=t.data,o="undefined"!==m.type(s.touches)?s.touches[0]:null,a=o?o.pageX:t.pageX,r=o?o.pageY:t.pageY,l=a-s.startX,c=r-s.startY,d=0<l?"right":"left",u=0<c?"down":"up",h=Math.abs(l)>$,p=Math.abs(c)>$;s.tap?(h||p)&&s.$el.off([w.touchMove,w.touchEnd,w.touchCancel,w.pointerMove,w.pointerUp,w.pointerCancel].join(" ")):(s.pan||s.scale)&&(!s.passed&&s.axis&&(s.axisX&&p||s.axisY&&h)?f(t):(!s.passed&&(!s.axis||s.axis&&s.axisX&&h||s.axisY&&p)&&(s.passed=!0),s.passed&&(C.killEvent(t),C.killEvent(s.startE)),e=!0,i=b(s.scale?w.scale:w.pan,t,a,r,s.scaleD,l,c,d,u),s.scale&&(s.touches&&2<=s.touches.length?(n=s.touches,s.pinch.endX=g(n[0].pageX,n[1].pageX),s.pinch.endY=g(n[0].pageY,n[1].pageY),s.pinch.endD=x(n[1].pageX-n[0].pageX,n[1].pageY-n[0].pageY),s.scaleD=s.pinch.endD/s.pinch.startD,i.pageX=s.pinch.endX,i.pageY=s.pinch.endY,i.scale=s.scaleD,i.deltaX=s.pinch.endX-s.pinch.startX,i.deltaY=s.pinch.endY-s.pinch.startY):s.pan||(e=!1)),e&&s.$el.trigger(i)))}function v(t){C.killEvent(t,!0),t.data.$links.off(w.click)}function f(t){var e=t.data;if(e.tap)e.$el.off([w.touchMove,w.touchEnd,w.touchCancel,w.pointerMove,w.pointerUp,w.pointerCancel,w.mouseMove,w.mouseUp].join(" ")),e.startE.preventDefault(),y(t);else if(e.pan||e.scale){var i="undefined"!==m.type(e.touches)?e.touches[0]:null,n=i?i.pageX:t.pageX,s=i?i.pageY:t.pageY,o=n-e.startX,a=s-e.startY,r=(new Date).getTime(),l=e.scale?w.scaleEnd:w.panEnd,c=0<o?"right":"left",d=0<a?"down":"up",u=1<Math.abs(o),h=1<Math.abs(a);if(e.swipe&&Math.abs(o)>$&&r-e.startT<P&&(l=w.swipe),e.axis&&(e.axisX&&h||e.axisY&&u)||u||h){e.$links=e.$el.find("a");for(var p=0,f=e.$links.length;p<f;p++)!function(t,e){t.on(w.click,e,v);var i=m._data(t[0],"events").click;i.unshift(i.pop())}(e.$links.eq(p),e)}var g=b(l,t,n,s,e.scaleD,o,a,c,d);S.off([w.touchMove,w.touchEnd,w.touchCancel,w.mouseMove,w.mouseUp,w.pointerMove,w.pointerUp,w.pointerCancel].join(" ")),e.$el.trigger(g),e.touches=[],e.scale}e.touching=!1}function y(t){C.killEvent(t);var e,i,n,s=t.data;s.clicked||("click"!==t.type&&(s.clicked=!0),e=s.startE?s.startX:t.pageX,i=s.startE?s.startY:t.pageY,n=b(w.tap,t.originalEvent,e,i,1,0,0),s.$el.trigger(n))}function b(t,e,i,n,s,o,a,r,l){return m.Event(t,{originalEvent:e,bubbles:!0,pageX:i,pageY:n,scale:s,deltaX:o,deltaY:a,directionX:r,directionY:l})}function g(t,e){return(t+e)/2}function x(t,e){return Math.sqrt(t*t+e*e)}function i(t,e){t.css({"-ms-touch-action":e,"touch-action":e})}var t=!e.window.PointerEvent,n=e.Plugin("touch",{widget:!0,defaults:{axis:!1,pan:!1,scale:!1,swipe:!1,tap:!1},methods:{_construct:function(t){t.touches=[],t.touching=!1,this.on(w.dragStart,C.killEvent),t.tap?(t.pan=!1,t.scale=!1,t.swipe=!1,e.support.touch?this.on([w.touchStart,w.pointerDown].join(" "),t,a):this.on(w.click,t,y)):(t.pan||t.swipe||t.scale)&&(t.tap=!1,t.swipe&&(t.pan=!0),t.scale&&(t.axis=!1),t.axis?(t.axisX="x"===t.axis,t.axisY="y"===t.axis):i(this,"none"),this.on([w.touchStart,w.pointerDown].join(" "),t,o),t.pan&&!e.support.touch&&this.on(w.mouseDown,t,a))},_destruct:function(t){this.off(w.namespace),i(this,"")}},events:{pointerDown:t?"MSPointerDown":"pointerdown",pointerUp:t?"MSPointerUp":"pointerup",pointerMove:t?"MSPointerMove":"pointermove",pointerCancel:t?"MSPointerCancel":"pointercancel"}}),w=n.events,C=n.functions,S=e.$window,$=10,P=50;w.tap="tap",w.pan="pan",w.panStart="panstart",w.panEnd="panend",w.scale="scale",w.scaleStart="scalestart",w.scaleEnd="scaleend",w.swipe="swipe"}(jQuery,Formstone),$(function(){$(".main-nav").setup_navigation()});var keyCodeMap={48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};$.fn.setup_navigation=function(i){i=jQuery.extend({menuHoverClass:"show-menu"},i),$(this).attr("role","menubar").find("li").attr("role","menuitem");var t=$(this).find("> li > a");$(t).next("ul").attr("data-test","true").attr({"aria-hidden":"true",role:"menu"}).find("a").attr("tabIndex",-1),$(t).each(function(){0<$(this).next("ul").length&&$(this).parent("li").attr("aria-haspopup","true")}),$(t).hover(function(){$(this).closest("ul").attr("aria-hidden","false").find("."+i.menuHoverClass).attr("aria-hidden","true").removeClass(i.menuHoverClass).find("a").attr("tabIndex",-1),$(this).next("ul").attr("aria-hidden","false").find("a").attr("tabIndex",0)}),$(t).focus(function(){$(this).closest("ul").find("."+i.menuHoverClass).attr("aria-hidden","true").removeClass(i.menuHoverClass).find("a").attr("tabIndex",-1),$(this).next("ul").attr("aria-hidden","false").addClass(i.menuHoverClass).find("a").attr("tabIndex",0)}),$(t).keydown(function(t){37==t.keyCode?(t.preventDefault(),0==$(this).parent("li").prev("li").length?$(this).parents("ul").find("> li").last().find("a").first().focus():$(this).parent("li").prev("li").find("a").first().focus()):38==t.keyCode?(t.preventDefault(),0<$(this).parent("li").find("ul").length&&$(this).parent("li").find("ul").attr("aria-hidden","false").addClass(i.menuHoverClass).find("a").attr("tabIndex",0).last().focus()):39==t.keyCode?(t.preventDefault(),0==$(this).parent("li").next("li").length?$(this).parents("ul").find("> li").first().find("a").first().focus():$(this).parent("li").next("li").find("a").first().focus()):40==t.keyCode?(t.preventDefault(),0<$(this).parent("li").find("ul").length&&$(this).parent("li").find("ul").attr("aria-hidden","false").addClass(i.menuHoverClass).find("a").attr("tabIndex",0).first().focus()):13==t.keyCode||32==t.keyCode?(t.preventDefault(),$(this).parent("li").find("ul[aria-hidden=true]").attr("aria-hidden","false").addClass(i.menuHoverClass).find("a").attr("tabIndex",0).first().focus()):27==t.keyCode?(t.preventDefault(),$("."+i.menuHoverClass).attr("aria-hidden","true").removeClass(i.menuHoverClass).find("a").attr("tabIndex",-1)):$(this).parent("li").find("ul[aria-hidden=false] a").each(function(){if($(this).text().substring(0,1).toLowerCase()==keyCodeMap[t.keyCode])return $(this).focus(),!1})});var e=$(t).parent("li").find("ul").find("a");$(e).keydown(function(t){var e;38==t.keyCode?(t.preventDefault(),0==$(this).parent("li").prev("li").length?$(this).parents("ul").parents("li").find("a").first().focus():$(this).parent("li").prev("li").find("a").first().focus()):40==t.keyCode?(t.preventDefault(),0==$(this).parent("li").next("li").length?$(this).parents("ul").parents("li").find("a").first().focus():$(this).parent("li").next("li").find("a").first().focus()):27==t.keyCode||37==t.keyCode?(t.preventDefault(),$(this).parents("ul").first().prev("a").focus().parents("ul").first().find("."+i.menuHoverClass).attr("aria-hidden","true").removeClass(i.menuHoverClass).find("a").attr("tabIndex",-1)):32==t.keyCode?(t.preventDefault(),window.location=$(this).attr("href")):(e=!1,$(this).parent("li").nextAll("li").find("a").each(function(){if($(this).text().substring(0,1).toLowerCase()==keyCodeMap[t.keyCode])return $(this).focus(),!(e=!0)}),e||$(this).parent("li").prevAll("li").find("a").each(function(){if($(this).text().substring(0,1).toLowerCase()==keyCodeMap[t.keyCode])return $(this).focus(),!1}))}),$(this).find("a").last().keydown(function(t){9==t.keyCode&&$("."+i.menuHoverClass).attr("aria-hidden","true").removeClass(i.menuHoverClass).find("a").attr("tabIndex",-1)}),$(document).click(function(){$("."+i.menuHoverClass).attr("aria-hidden","true").removeClass(i.menuHoverClass).find("a").attr("tabIndex",-1)}),$(this).click(function(t){t.stopPropagation()})},$(document).ready(function(){$("html").removeClass("no-js"),$.shifter({maxWidth:"768px"}),$(".sec-nav").navigation({maxWidth:"979px"}),$(".testimonials").flexslider({animation:"fade",directionNav:!1}),$(".familymember__slider").flickity({cellAlign:"left",contain:!0,adaptiveHeight:!0,prevNextButtons:!1,imagesLoaded:!0,groupCells:"100%"}),$(".flexslider").flexslider({smoothHeight:!0,slideshow:!1}),$(".action-link").click(function(){return $(this).toggleClass("open"),$(this).parent().next(".action-content").slideToggle(),!1});var t,e=$(".cd-timeline-block");function i(t,e){t.each(function(){$(this).offset().top<=$(window).scrollTop()+$(window).height()*e&&$(this).find(".cd-timeline-img").hasClass("is-hidden")&&$(this).find(".cd-timeline-img, .cd-timeline-content").removeClass("is-hidden").addClass("bounce-in")})}t=.8,e.each(function(){$(this).offset().top>$(window).scrollTop()+$(window).height()*t&&$(this).find(".cd-timeline-img, .cd-timeline-content").addClass("is-hidden")}),$(window).on("scroll",function(){window.requestAnimationFrame?window.requestAnimationFrame(function(){i(e,.8)}):setTimeout(function(){i(e,.8)},100)})});
//# sourceMappingURL=main.min.js.map
