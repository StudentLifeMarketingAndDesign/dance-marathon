$(document).ready(function(){$(".directory-toggle").click(function(){$(this).toggleClass("active"),$(".division-directory").toggleClass("active");var a="false"==$(this).attr("aria-expanded")?!0:!1;$(this).attr("aria-expanded",a);var b="false"==$("#collapsible-0").attr("aria-hidden")?!0:!1;return $("#collapsible-0").attr("aria-hidden",b),!1}),$(".search-toggle").click(function(){$(this).toggleClass("active"),$(".division-search").slideToggle();var a="false"==$(this).attr("aria-expanded")?!0:!1;$(this).attr("aria-expanded",a);var b="false"==$("#collapsible-1").attr("aria-hidden")?!0:!1;return $("#collapsible-1").attr("aria-hidden",b),!1})}),function(a){var b=!0;a.flexslider=function(c,d){var e=a(c);"undefined"==typeof d.rtl&&"rtl"==a("html").attr("dir")&&(d.rtl=!0),e.vars=a.extend({},a.flexslider.defaults,d);var f,g=e.vars.namespace,h=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,i=("ontouchstart"in window||h||window.DocumentTouch&&document instanceof DocumentTouch)&&e.vars.touch,j="click touchend MSPointerUp keyup",k="",l="vertical"===e.vars.direction,m=e.vars.reverse,n=e.vars.itemWidth>0,o="fade"===e.vars.animation,p=""!==e.vars.asNavFor,q={};a.data(c,"flexslider",e),q={init:function(){e.animating=!1,e.currentSlide=parseInt(e.vars.startAt?e.vars.startAt:0,10),isNaN(e.currentSlide)&&(e.currentSlide=0),e.animatingTo=e.currentSlide,e.atEnd=0===e.currentSlide||e.currentSlide===e.last,e.containerSelector=e.vars.selector.substr(0,e.vars.selector.search(" ")),e.slides=a(e.vars.selector,e),e.container=a(e.containerSelector,e),e.count=e.slides.length,e.syncExists=a(e.vars.sync).length>0,"slide"===e.vars.animation&&(e.vars.animation="swing"),e.prop=l?"top":e.vars.rtl?"marginRight":"marginLeft",e.args={},e.manualPause=!1,e.stopped=!1,e.started=!1,e.startTimeout=null,e.transitions=!e.vars.video&&!o&&e.vars.useCSS&&function(){var a=document.createElement("div"),b=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var c in b)if(void 0!==a.style[b[c]])return e.pfx=b[c].replace("Perspective","").toLowerCase(),e.prop="-"+e.pfx+"-transform",!0;return!1}(),e.isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,e.ensureAnimationEnd="",""!==e.vars.controlsContainer&&(e.controlsContainer=a(e.vars.controlsContainer).length>0&&a(e.vars.controlsContainer)),""!==e.vars.manualControls&&(e.manualControls=a(e.vars.manualControls).length>0&&a(e.vars.manualControls)),""!==e.vars.customDirectionNav&&(e.customDirectionNav=2===a(e.vars.customDirectionNav).length&&a(e.vars.customDirectionNav)),e.vars.randomize&&(e.slides.sort(function(){return Math.round(Math.random())-.5}),e.container.empty().append(e.slides)),e.doMath(),e.setup("init"),e.vars.controlNav&&q.controlNav.setup(),e.vars.directionNav&&q.directionNav.setup(),e.vars.keyboard&&(1===a(e.containerSelector).length||e.vars.multipleKeyboard)&&a(document).bind("keyup",function(a){var b=a.keyCode;if(!e.animating&&(39===b||37===b)){var c=e.vars.rtl?37===b?e.getTarget("next"):39===b?e.getTarget("prev"):!1:39===b?e.getTarget("next"):37===b?e.getTarget("prev"):!1;e.flexAnimate(c,e.vars.pauseOnAction)}}),e.vars.mousewheel&&e.bind("mousewheel",function(a,b,c,d){a.preventDefault();var f=0>b?e.getTarget("next"):e.getTarget("prev");e.flexAnimate(f,e.vars.pauseOnAction)}),e.vars.pausePlay&&q.pausePlay.setup(),e.vars.slideshow&&e.vars.pauseInvisible&&q.pauseInvisible.init(),e.vars.slideshow&&(e.vars.pauseOnHover&&e.hover(function(){e.manualPlay||e.manualPause||e.pause()},function(){e.manualPause||e.manualPlay||e.stopped||e.play()}),e.vars.pauseInvisible&&q.pauseInvisible.isHidden()||(e.vars.initDelay>0?e.startTimeout=setTimeout(e.play,e.vars.initDelay):e.play())),p&&q.asNav.setup(),i&&e.vars.touch&&q.touch(),(!o||o&&e.vars.smoothHeight)&&a(window).bind("resize orientationchange focus",q.resize),e.find("img").attr("draggable","false"),setTimeout(function(){e.vars.start(e)},200)},asNav:{setup:function(){e.asNav=!0,e.animatingTo=Math.floor(e.currentSlide/e.move),e.currentItem=e.currentSlide,e.slides.removeClass(g+"active-slide").eq(e.currentItem).addClass(g+"active-slide"),h?(c._slider=e,e.slides.each(function(){var b=this;b._gesture=new MSGesture,b._gesture.target=b,b.addEventListener("MSPointerDown",function(a){a.preventDefault(),a.currentTarget._gesture&&a.currentTarget._gesture.addPointer(a.pointerId)},!1),b.addEventListener("MSGestureTap",function(b){b.preventDefault();var c=a(this),d=c.index();a(e.vars.asNavFor).data("flexslider").animating||c.hasClass("active")||(e.direction=e.currentItem<d?"next":"prev",e.flexAnimate(d,e.vars.pauseOnAction,!1,!0,!0))})})):e.slides.on(j,function(b){b.preventDefault();var c,d=a(this),f=d.index();c=e.vars.rtl?-1*(d.offset().right-a(e).scrollLeft()):d.offset().left-a(e).scrollLeft(),0>=c&&d.hasClass(g+"active-slide")?e.flexAnimate(e.getTarget("prev"),!0):a(e.vars.asNavFor).data("flexslider").animating||d.hasClass(g+"active-slide")||(e.direction=e.currentItem<f?"next":"prev",e.flexAnimate(f,e.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){e.manualControls?q.controlNav.setupManual():q.controlNav.setupPaging()},setupPaging:function(){var b,c,d="thumbnails"===e.vars.controlNav?"control-thumbs":"control-paging",f=1;if(e.controlNavScaffold=a('<ol class="'+g+"control-nav "+g+d+'"></ol>'),e.pagingCount>1)for(var h=0;h<e.pagingCount;h++){c=e.slides.eq(h),void 0===c.attr("data-thumb-alt")&&c.attr("data-thumb-alt","");var i=""!==c.attr("data-thumb-alt")?i=' alt="'+c.attr("data-thumb-alt")+'"':"";if(b="thumbnails"===e.vars.controlNav?'<img src="'+c.attr("data-thumb")+'"'+i+"/>":'<a href="#">'+f+"</a>","thumbnails"===e.vars.controlNav&&!0===e.vars.thumbCaptions){var l=c.attr("data-thumbcaption");""!==l&&void 0!==l&&(b+='<span class="'+g+'caption">'+l+"</span>")}e.controlNavScaffold.append("<li>"+b+"</li>"),f++}e.controlsContainer?a(e.controlsContainer).append(e.controlNavScaffold):e.append(e.controlNavScaffold),q.controlNav.set(),q.controlNav.active(),e.controlNavScaffold.delegate("a, img",j,function(b){if(b.preventDefault(),""===k||k===b.type){var c=a(this),d=e.controlNav.index(c);c.hasClass(g+"active")||(e.direction=d>e.currentSlide?"next":"prev",e.flexAnimate(d,e.vars.pauseOnAction))}""===k&&(k=b.type),q.setToClearWatchedEvent()})},setupManual:function(){e.controlNav=e.manualControls,q.controlNav.active(),e.controlNav.bind(j,function(b){if(b.preventDefault(),""===k||k===b.type){var c=a(this),d=e.controlNav.index(c);c.hasClass(g+"active")||(d>e.currentSlide?e.direction="next":e.direction="prev",e.flexAnimate(d,e.vars.pauseOnAction))}""===k&&(k=b.type),q.setToClearWatchedEvent()})},set:function(){var b="thumbnails"===e.vars.controlNav?"img":"a";e.controlNav=a("."+g+"control-nav li "+b,e.controlsContainer?e.controlsContainer:e)},active:function(){e.controlNav.removeClass(g+"active").eq(e.animatingTo).addClass(g+"active")},update:function(b,c){e.pagingCount>1&&"add"===b?e.controlNavScaffold.append(a('<li><a href="#">'+e.count+"</a></li>")):1===e.pagingCount?e.controlNavScaffold.find("li").remove():e.controlNav.eq(c).closest("li").remove(),q.controlNav.set(),e.pagingCount>1&&e.pagingCount!==e.controlNav.length?e.update(c,b):q.controlNav.active()}},directionNav:{setup:function(){var b=a('<ul class="'+g+'direction-nav"><li class="'+g+'nav-prev"><a class="'+g+'prev" href="#">'+e.vars.prevText+'</a></li><li class="'+g+'nav-next"><a class="'+g+'next" href="#">'+e.vars.nextText+"</a></li></ul>");e.customDirectionNav?e.directionNav=e.customDirectionNav:e.controlsContainer?(a(e.controlsContainer).append(b),e.directionNav=a("."+g+"direction-nav li a",e.controlsContainer)):(e.append(b),e.directionNav=a("."+g+"direction-nav li a",e)),q.directionNav.update(),e.directionNav.bind(j,function(b){b.preventDefault();var c;(""===k||k===b.type)&&(c=a(this).hasClass(g+"next")?e.getTarget("next"):e.getTarget("prev"),e.flexAnimate(c,e.vars.pauseOnAction)),""===k&&(k=b.type),q.setToClearWatchedEvent()})},update:function(){var a=g+"disabled";1===e.pagingCount?e.directionNav.addClass(a).attr("tabindex","-1"):e.vars.animationLoop?e.directionNav.removeClass(a).removeAttr("tabindex"):0===e.animatingTo?e.directionNav.removeClass(a).filter("."+g+"prev").addClass(a).attr("tabindex","-1"):e.animatingTo===e.last?e.directionNav.removeClass(a).filter("."+g+"next").addClass(a).attr("tabindex","-1"):e.directionNav.removeClass(a).removeAttr("tabindex")}},pausePlay:{setup:function(){var b=a('<div class="'+g+'pauseplay"><a href="#"></a></div>');e.controlsContainer?(e.controlsContainer.append(b),e.pausePlay=a("."+g+"pauseplay a",e.controlsContainer)):(e.append(b),e.pausePlay=a("."+g+"pauseplay a",e)),q.pausePlay.update(e.vars.slideshow?g+"pause":g+"play"),e.pausePlay.bind(j,function(b){b.preventDefault(),(""===k||k===b.type)&&(a(this).hasClass(g+"pause")?(e.manualPause=!0,e.manualPlay=!1,e.pause()):(e.manualPause=!1,e.manualPlay=!0,e.play())),""===k&&(k=b.type),q.setToClearWatchedEvent()})},update:function(a){"play"===a?e.pausePlay.removeClass(g+"pause").addClass(g+"play").html(e.vars.playText):e.pausePlay.removeClass(g+"play").addClass(g+"pause").html(e.vars.pauseText)}},touch:function(){function a(a){a.stopPropagation(),e.animating?a.preventDefault():(e.pause(),c._gesture.addPointer(a.pointerId),w=0,j=l?e.h:e.w,p=Number(new Date),i=n&&m&&e.animatingTo===e.last?0:n&&m?e.limit-(e.itemW+e.vars.itemMargin)*e.move*e.animatingTo:n&&e.currentSlide===e.last?e.limit:n?(e.itemW+e.vars.itemMargin)*e.move*e.currentSlide:m?(e.last-e.currentSlide+e.cloneOffset)*j:(e.currentSlide+e.cloneOffset)*j)}function b(a){a.stopPropagation();var b=a.target._slider;if(b){var d=-a.translationX,e=-a.translationY;return w+=l?e:d,k=(b.vars.rtl?-1:1)*w,t=l?Math.abs(w)<Math.abs(-d):Math.abs(w)<Math.abs(-e),a.detail===a.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){c._gesture.stop()}):void((!t||Number(new Date)-p>500)&&(a.preventDefault(),!o&&b.transitions&&(b.vars.animationLoop||(k=w/(0===b.currentSlide&&0>w||b.currentSlide===b.last&&w>0?Math.abs(w)/j+2:1)),b.setProps(i+k,"setTouch"))))}}function d(a){a.stopPropagation();var b=a.target._slider;if(b){if(b.animatingTo===b.currentSlide&&!t&&null!==k){var c=m?-k:k,d=c>0?b.getTarget("next"):b.getTarget("prev");b.canAdvance(d)&&(Number(new Date)-p<550&&Math.abs(c)>50||Math.abs(c)>j/2)?b.flexAnimate(d,b.vars.pauseOnAction):o||b.flexAnimate(b.currentSlide,b.vars.pauseOnAction,!0)}f=null,g=null,k=null,i=null,w=0}}var f,g,i,j,k,p,q,r,s,t=!1,u=0,v=0,w=0;h?(c.style.msTouchAction="none",c._gesture=new MSGesture,c._gesture.target=c,c.addEventListener("MSPointerDown",a,!1),c._slider=e,c.addEventListener("MSGestureChange",b,!1),c.addEventListener("MSGestureEnd",d,!1)):(q=function(a){e.animating?a.preventDefault():(window.navigator.msPointerEnabled||1===a.touches.length)&&(e.pause(),j=l?e.h:e.w,p=Number(new Date),u=a.touches[0].pageX,v=a.touches[0].pageY,i=n&&m&&e.animatingTo===e.last?0:n&&m?e.limit-(e.itemW+e.vars.itemMargin)*e.move*e.animatingTo:n&&e.currentSlide===e.last?e.limit:n?(e.itemW+e.vars.itemMargin)*e.move*e.currentSlide:m?(e.last-e.currentSlide+e.cloneOffset)*j:(e.currentSlide+e.cloneOffset)*j,f=l?v:u,g=l?u:v,c.addEventListener("touchmove",r,!1),c.addEventListener("touchend",s,!1))},r=function(a){u=a.touches[0].pageX,v=a.touches[0].pageY,k=l?f-v:(e.vars.rtl?-1:1)*(f-u),t=l?Math.abs(k)<Math.abs(u-g):Math.abs(k)<Math.abs(v-g);var b=500;(!t||Number(new Date)-p>b)&&(a.preventDefault(),!o&&e.transitions&&(e.vars.animationLoop||(k/=0===e.currentSlide&&0>k||e.currentSlide===e.last&&k>0?Math.abs(k)/j+2:1),e.setProps(i+k,"setTouch")))},s=function(a){if(c.removeEventListener("touchmove",r,!1),e.animatingTo===e.currentSlide&&!t&&null!==k){var b=m?-k:k,d=b>0?e.getTarget("next"):e.getTarget("prev");e.canAdvance(d)&&(Number(new Date)-p<550&&Math.abs(b)>50||Math.abs(b)>j/2)?e.flexAnimate(d,e.vars.pauseOnAction):o||e.flexAnimate(e.currentSlide,e.vars.pauseOnAction,!0)}c.removeEventListener("touchend",s,!1),f=null,g=null,k=null,i=null},c.addEventListener("touchstart",q,!1))},resize:function(){!e.animating&&e.is(":visible")&&(n||e.doMath(),o?q.smoothHeight():n?(e.slides.width(e.computedW),e.update(e.pagingCount),e.setProps()):l?(e.viewport.height(e.h),e.setProps(e.h,"setTotal")):(e.vars.smoothHeight&&q.smoothHeight(),e.newSlides.width(e.computedW),e.setProps(e.computedW,"setTotal")))},smoothHeight:function(a){if(!l||o){var b=o?e:e.viewport;a?b.animate({height:e.slides.eq(e.animatingTo).innerHeight()},a):b.innerHeight(e.slides.eq(e.animatingTo).innerHeight())}},sync:function(b){var c=a(e.vars.sync).data("flexslider"),d=e.animatingTo;switch(b){case"animate":c.flexAnimate(d,e.vars.pauseOnAction,!1,!0);break;case"play":c.playing||c.asNav||c.play();break;case"pause":c.pause()}},uniqueID:function(b){return b.filter("[id]").add(b.find("[id]")).each(function(){var b=a(this);b.attr("id",b.attr("id")+"_clone")}),b},pauseInvisible:{visProp:null,init:function(){var a=q.pauseInvisible.getHiddenProp();if(a){var b=a.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(b,function(){q.pauseInvisible.isHidden()?e.startTimeout?clearTimeout(e.startTimeout):e.pause():e.started?e.play():e.vars.initDelay>0?setTimeout(e.play,e.vars.initDelay):e.play()})}},isHidden:function(){var a=q.pauseInvisible.getHiddenProp();return a?document[a]:!1},getHiddenProp:function(){var a=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var b=0;b<a.length;b++)if(a[b]+"Hidden"in document)return a[b]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(f),f=setTimeout(function(){k=""},3e3)}},e.flexAnimate=function(b,c,d,f,h){if(e.vars.animationLoop||b===e.currentSlide||(e.direction=b>e.currentSlide?"next":"prev"),p&&1===e.pagingCount&&(e.direction=e.currentItem<b?"next":"prev"),!e.animating&&(e.canAdvance(b,h)||d)&&e.is(":visible")){if(p&&f){var j=a(e.vars.asNavFor).data("flexslider");if(e.atEnd=0===b||b===e.count-1,j.flexAnimate(b,!0,!1,!0,h),e.direction=e.currentItem<b?"next":"prev",j.direction=e.direction,Math.ceil((b+1)/e.visible)-1===e.currentSlide||0===b)return e.currentItem=b,e.slides.removeClass(g+"active-slide").eq(b).addClass(g+"active-slide"),!1;e.currentItem=b,e.slides.removeClass(g+"active-slide").eq(b).addClass(g+"active-slide"),b=Math.floor(b/e.visible)}if(e.animating=!0,e.animatingTo=b,c&&e.pause(),e.vars.before(e),e.syncExists&&!h&&q.sync("animate"),e.vars.controlNav&&q.controlNav.active(),n||e.slides.removeClass(g+"active-slide").eq(b).addClass(g+"active-slide"),e.atEnd=0===b||b===e.last,e.vars.directionNav&&q.directionNav.update(),b===e.last&&(e.vars.end(e),e.vars.animationLoop||e.pause()),o)i?(e.slides.eq(e.currentSlide).css({opacity:0,zIndex:1}),e.slides.eq(b).css({opacity:1,zIndex:2}),e.wrapup(t)):(e.slides.eq(e.currentSlide).css({zIndex:1}).animate({opacity:0},e.vars.animationSpeed,e.vars.easing),e.slides.eq(b).css({zIndex:2}).animate({opacity:1},e.vars.animationSpeed,e.vars.easing,e.wrapup));else{var k,r,s,t=l?e.slides.filter(":first").height():e.computedW;n?(k=e.vars.itemMargin,s=(e.itemW+k)*e.move*e.animatingTo,r=s>e.limit&&1!==e.visible?e.limit:s):r=0===e.currentSlide&&b===e.count-1&&e.vars.animationLoop&&"next"!==e.direction?m?(e.count+e.cloneOffset)*t:0:e.currentSlide===e.last&&0===b&&e.vars.animationLoop&&"prev"!==e.direction?m?0:(e.count+1)*t:m?(e.count-1-b+e.cloneOffset)*t:(b+e.cloneOffset)*t,e.setProps(r,"",e.vars.animationSpeed),e.transitions?(e.vars.animationLoop&&e.atEnd||(e.animating=!1,e.currentSlide=e.animatingTo),e.container.unbind("webkitTransitionEnd transitionend"),e.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(e.ensureAnimationEnd),e.wrapup(t)}),clearTimeout(e.ensureAnimationEnd),e.ensureAnimationEnd=setTimeout(function(){e.wrapup(t)},e.vars.animationSpeed+100)):e.container.animate(e.args,e.vars.animationSpeed,e.vars.easing,function(){e.wrapup(t)})}e.vars.smoothHeight&&q.smoothHeight(e.vars.animationSpeed)}},e.wrapup=function(a){o||n||(0===e.currentSlide&&e.animatingTo===e.last&&e.vars.animationLoop?e.setProps(a,"jumpEnd"):e.currentSlide===e.last&&0===e.animatingTo&&e.vars.animationLoop&&e.setProps(a,"jumpStart")),e.animating=!1,e.currentSlide=e.animatingTo,e.vars.after(e)},e.animateSlides=function(){!e.animating&&b&&e.flexAnimate(e.getTarget("next"))},e.pause=function(){clearInterval(e.animatedSlides),e.animatedSlides=null,e.playing=!1,e.vars.pausePlay&&q.pausePlay.update("play"),e.syncExists&&q.sync("pause")},e.play=function(){e.playing&&clearInterval(e.animatedSlides),e.animatedSlides=e.animatedSlides||setInterval(e.animateSlides,e.vars.slideshowSpeed),e.started=e.playing=!0,e.vars.pausePlay&&q.pausePlay.update("pause"),e.syncExists&&q.sync("play")},e.stop=function(){e.pause(),e.stopped=!0},e.canAdvance=function(a,b){var c=p?e.pagingCount-1:e.last;return b?!0:p&&e.currentItem===e.count-1&&0===a&&"prev"===e.direction?!0:p&&0===e.currentItem&&a===e.pagingCount-1&&"next"!==e.direction?!1:a!==e.currentSlide||p?e.vars.animationLoop?!0:e.atEnd&&0===e.currentSlide&&a===c&&"next"!==e.direction?!1:e.atEnd&&e.currentSlide===c&&0===a&&"next"===e.direction?!1:!0:!1},e.getTarget=function(a){return e.direction=a,"next"===a?e.currentSlide===e.last?0:e.currentSlide+1:0===e.currentSlide?e.last:e.currentSlide-1},e.setProps=function(a,b,c){var d=function(){var c=a?a:(e.itemW+e.vars.itemMargin)*e.move*e.animatingTo,d=function(){if(n)return"setTouch"===b?a:m&&e.animatingTo===e.last?0:m?e.limit-(e.itemW+e.vars.itemMargin)*e.move*e.animatingTo:e.animatingTo===e.last?e.limit:c;switch(b){case"setTotal":return m?(e.count-1-e.currentSlide+e.cloneOffset)*a:(e.currentSlide+e.cloneOffset)*a;case"setTouch":return m?a:a;case"jumpEnd":return m?a:e.count*a;case"jumpStart":return m?e.count*a:a;default:return a}}();return d*(e.vars.rtl?1:-1)+"px"}();e.transitions&&(d=e.isFirefox?l?"translate3d(0,"+d+",0)":"translate3d("+(parseInt(d)+"px")+",0,0)":l?"translate3d(0,"+d+",0)":"translate3d("+((e.vars.rtl?-1:1)*parseInt(d)+"px")+",0,0)",c=void 0!==c?c/1e3+"s":"0s",e.container.css("-"+e.pfx+"-transition-duration",c),e.container.css("transition-duration",c)),e.args[e.prop]=d,(e.transitions||void 0===c)&&e.container.css(e.args),e.container.css("transform",d)},e.setup=function(b){if(o)e.vars.rtl?e.slides.css({width:"100%","float":"right",marginLeft:"-100%",position:"relative"}):e.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===b&&(i?e.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+e.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(e.currentSlide).css({opacity:1,zIndex:2}):0==e.vars.fadeFirstSlide?e.slides.css({opacity:0,display:"block",zIndex:1}).eq(e.currentSlide).css({zIndex:2}).css({opacity:1}):e.slides.css({opacity:0,display:"block",zIndex:1}).eq(e.currentSlide).css({zIndex:2}).animate({opacity:1},e.vars.animationSpeed,e.vars.easing)),e.vars.smoothHeight&&q.smoothHeight();else{var c,d;"init"===b&&(e.viewport=a('<div class="'+g+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(e).append(e.container),e.cloneCount=0,e.cloneOffset=0,m&&(d=a.makeArray(e.slides).reverse(),e.slides=a(d),e.container.empty().append(e.slides))),e.vars.animationLoop&&!n&&(e.cloneCount=2,e.cloneOffset=1,"init"!==b&&e.container.find(".clone").remove(),e.container.append(q.uniqueID(e.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(q.uniqueID(e.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),e.newSlides=a(e.vars.selector,e),c=m?e.count-1-e.currentSlide+e.cloneOffset:e.currentSlide+e.cloneOffset,l&&!n?(e.container.height(200*(e.count+e.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){e.newSlides.css({display:"block"}),e.doMath(),e.viewport.height(e.h),e.setProps(c*e.h,"init")},"init"===b?100:0)):(e.container.width(200*(e.count+e.cloneCount)+"%"),e.setProps(c*e.computedW,"init"),setTimeout(function(){e.doMath(),e.vars.rtl&&e.isFirefox?e.newSlides.css({width:e.computedW,marginRight:e.computedM,"float":"right",display:"block"}):e.newSlides.css({width:e.computedW,marginRight:e.computedM,"float":"left",display:"block"}),e.vars.smoothHeight&&q.smoothHeight()},"init"===b?100:0))}n||e.slides.removeClass(g+"active-slide").eq(e.currentSlide).addClass(g+"active-slide"),e.vars.init(e)},e.doMath=function(){var a=e.slides.first(),b=e.vars.itemMargin,c=e.vars.minItems,d=e.vars.maxItems;e.w=void 0===e.viewport?e.width():e.viewport.width(),e.isFirefox&&(e.w=e.width()),e.h=a.height(),e.boxPadding=a.outerWidth()-a.width(),n?(e.itemT=e.vars.itemWidth+b,e.itemM=b,e.minW=c?c*e.itemT:e.w,e.maxW=d?d*e.itemT-b:e.w,e.itemW=e.minW>e.w?(e.w-b*(c-1))/c:e.maxW<e.w?(e.w-b*(d-1))/d:e.vars.itemWidth>e.w?e.w:e.vars.itemWidth,e.visible=Math.floor(e.w/e.itemW),e.move=e.vars.move>0&&e.vars.move<e.visible?e.vars.move:e.visible,e.pagingCount=Math.ceil((e.count-e.visible)/e.move+1),e.last=e.pagingCount-1,e.limit=1===e.pagingCount?0:e.vars.itemWidth>e.w?e.itemW*(e.count-1)+b*(e.count-1):(e.itemW+b)*e.count-e.w-b):(e.itemW=e.w,e.itemM=b,e.pagingCount=e.count,e.last=e.count-1),e.computedW=e.itemW-e.boxPadding,e.computedM=e.itemM},e.update=function(a,b){e.doMath(),n||(a<e.currentSlide?e.currentSlide+=1:a<=e.currentSlide&&0!==a&&(e.currentSlide-=1),e.animatingTo=e.currentSlide),e.vars.controlNav&&!e.manualControls&&("add"===b&&!n||e.pagingCount>e.controlNav.length?q.controlNav.update("add"):("remove"===b&&!n||e.pagingCount<e.controlNav.length)&&(n&&e.currentSlide>e.last&&(e.currentSlide-=1,e.animatingTo-=1),q.controlNav.update("remove",e.last))),e.vars.directionNav&&q.directionNav.update()},e.addSlide=function(b,c){var d=a(b);e.count+=1,e.last=e.count-1,l&&m?void 0!==c?e.slides.eq(e.count-c).after(d):e.container.prepend(d):void 0!==c?e.slides.eq(c).before(d):e.container.append(d),e.update(c,"add"),e.slides=a(e.vars.selector+":not(.clone)",e),e.setup(),e.vars.added(e)},e.removeSlide=function(b){var c=isNaN(b)?e.slides.index(a(b)):b;e.count-=1,e.last=e.count-1,isNaN(b)?a(b,e.slides).remove():l&&m?e.slides.eq(e.last).remove():e.slides.eq(b).remove(),e.doMath(),e.update(c,"remove"),e.slides=a(e.vars.selector+":not(.clone)",e),e.setup(),e.vars.removed(e)},q.init()},a(window).blur(function(a){b=!1}).focus(function(a){b=!0}),a.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,isFirefox:!1,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){},rtl:!1},a.fn.flexslider=function(b){if(void 0===b&&(b={}),"object"==typeof b)return this.each(function(){var c=a(this),d=b.selector?b.selector:".slides > li",e=c.find(d);1===e.length&&b.allowOneSlide===!1||0===e.length?(e.fadeIn(400),b.start&&b.start(c)):void 0===c.data("flexslider")&&new a.flexslider(this,b)});var c=a(this).data("flexslider");switch(b){case"play":c.play();break;case"pause":c.pause();break;case"stop":c.stop();break;case"next":c.flexAnimate(c.getTarget("next"),!0);break;case"prev":case"previous":c.flexAnimate(c.getTarget("prev"),!0);break;default:"number"==typeof b&&c.flexAnimate(b,!0)}}}(jQuery);var Formstone=this.Formstone=function(a,b,c,d){"use strict";function e(a){m.Plugins[a].initialized||(m.Plugins[a].methods._setup.call(c),m.Plugins[a].initialized=!0)}function f(a,b,c,d){var e,f={raw:{}};d=d||{};for(e in d)d.hasOwnProperty(e)&&("classes"===a?(f.raw[d[e]]=b+"-"+d[e],f[d[e]]="."+b+"-"+d[e]):(f.raw[e]=d[e],f[e]=d[e]+"."+b));for(e in c)c.hasOwnProperty(e)&&("classes"===a?(f.raw[e]=c[e].replace(/{ns}/g,b),f[e]=c[e].replace(/{ns}/g,"."+b)):(f.raw[e]=c[e].replace(/.{ns}/g,""),f[e]=c[e].replace(/{ns}/g,b)));return f}function g(){var a,b={transition:"transitionend",MozTransition:"transitionend",OTransition:"otransitionend",WebkitTransition:"webkitTransitionEnd"},d=["transition","-webkit-transition"],e={transform:"transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",webkitTransform:"-webkit-transform"},f="transitionend",g="",h="",i=c.createElement("div");for(a in b)if(b.hasOwnProperty(a)&&a in i.style){f=b[a],m.support.transition=!0;break}p.transitionEnd=f+".{ns}";for(a in d)if(d.hasOwnProperty(a)&&d[a]in i.style){g=d[a];break}m.transition=g;for(a in e)if(e.hasOwnProperty(a)&&e[a]in i.style){m.support.transform=!0,h=e[a];break}m.transform=h}function h(){m.windowWidth=m.$window.width(),m.windowHeight=m.$window.height(),q=l.startTimer(q,r,i)}function i(){for(var a in m.ResizeHandlers)m.ResizeHandlers.hasOwnProperty(a)&&m.ResizeHandlers[a].callback.call(b,m.windowWidth,m.windowHeight)}function j(a,b){return parseInt(a.priority)-parseInt(b.priority)}var k=function(){this.Version="@version",this.Plugins={},this.DontConflict=!1,this.Conflicts={fn:{}},this.ResizeHandlers=[],this.window=b,this.$window=a(b),this.document=c,this.$document=a(c),this.$body=null,this.windowWidth=0,this.windowHeight=0,this.userAgent=b.navigator.userAgent||b.navigator.vendor||b.opera,this.isFirefox=/Firefox/i.test(this.userAgent),this.isChrome=/Chrome/i.test(this.userAgent),this.isSafari=/Safari/i.test(this.userAgent)&&!this.isChrome,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent),this.isFirefoxMobile=this.isFirefox&&this.isMobile,this.transform=null,this.transition=null,this.support={file:!!(b.File&&b.FileList&&b.FileReader),history:!!(b.history&&b.history.pushState&&b.history.replaceState),matchMedia:!(!b.matchMedia&&!b.msMatchMedia),raf:!(!b.requestAnimationFrame||!b.cancelAnimationFrame),touch:!!("ontouchstart"in b||b.DocumentTouch&&c instanceof b.DocumentTouch),transition:!1,transform:!1}},l={killEvent:function(a,b){try{a.preventDefault(),a.stopPropagation(),b&&a.stopImmediatePropagation()}catch(c){}},startTimer:function(a,b,c,d){return l.clearTimer(a),d?setInterval(c,b):setTimeout(c,b)},clearTimer:function(a,b){a&&(b?clearInterval(a):clearTimeout(a),a=null)},sortAsc:function(a,b){return parseInt(b)-parseInt(a)},sortDesc:function(a,b){return parseInt(b)-parseInt(a)}},m=new k,n=a.Deferred(),o={base:"{ns}",element:"{ns}-element"},p={namespace:".{ns}",blur:"blur.{ns}",change:"change.{ns}",click:"click.{ns}",dblClick:"dblclick.{ns}",drag:"drag.{ns}",dragEnd:"dragend.{ns}",dragEnter:"dragenter.{ns}",dragLeave:"dragleave.{ns}",dragOver:"dragover.{ns}",dragStart:"dragstart.{ns}",drop:"drop.{ns}",error:"error.{ns}",focus:"focus.{ns}",focusIn:"focusin.{ns}",focusOut:"focusout.{ns}",input:"input.{ns}",keyDown:"keydown.{ns}",keyPress:"keypress.{ns}",keyUp:"keyup.{ns}",load:"load.{ns}",mouseDown:"mousedown.{ns}",mouseEnter:"mouseenter.{ns}",mouseLeave:"mouseleave.{ns}",mouseMove:"mousemove.{ns}",mouseOut:"mouseout.{ns}",mouseOver:"mouseover.{ns}",mouseUp:"mouseup.{ns}",resize:"resize.{ns}",scroll:"scroll.{ns}",select:"select.{ns}",touchCancel:"touchcancel.{ns}",touchEnd:"touchend.{ns}",touchLeave:"touchleave.{ns}",touchMove:"touchmove.{ns}",touchStart:"touchstart.{ns}"};k.prototype.NoConflict=function(){m.DontConflict=!0;for(var b in m.Plugins)m.Plugins.hasOwnProperty(b)&&(a[b]=m.Conflicts[b],a.fn[b]=m.Conflicts.fn[b])},k.prototype.Plugin=function(c,d){return m.Plugins[c]=function(c,d){function e(b){var e="object"===a.type(b);b=a.extend(!0,{},d.defaults||{},e?b:{});for(var f=this,g=0,i=f.length;i>g;g++){var j=f.eq(g);if(!h(j)){var k="__"+d.guid++,l=d.classes.raw.base+k,m=j.data(c+"-options"),n=a.extend(!0,{$el:j,guid:k,rawGuid:l,dotGuid:"."+l},b,"object"===a.type(m)?m:{});j.addClass(d.classes.raw.element).data(s,n),d.methods._construct.apply(j,[n].concat(Array.prototype.slice.call(arguments,e?1:0)))}}return f}function g(a){d.functions.iterate.apply(this,[d.methods._destruct].concat(Array.prototype.slice.call(arguments,1))),this.removeClass(d.classes.raw.element).removeData(s)}function h(a){return a.data(s)}function i(b){if(this instanceof a){var c=d.methods[b];return"object"!==a.type(b)&&b?c&&0!==b.indexOf("_")?d.functions.iterate.apply(this,[c].concat(Array.prototype.slice.call(arguments,1))):this:e.apply(this,arguments)}}function k(c){var e=d.utilities[c]||d.utilities._initialize||!1;return e?e.apply(b,Array.prototype.slice.call(arguments,"object"===a.type(c)?0:1)):void 0}function n(b){d.defaults=a.extend(!0,d.defaults,b||{})}function q(b){for(var c=this,d=0,e=c.length;e>d;d++){var f=c.eq(d),g=h(f)||{};"undefined"!==a.type(g.$el)&&b.apply(f,[g].concat(Array.prototype.slice.call(arguments,1)))}return c}var r="fs-"+c,s="fs"+c.replace(/(^|\s)([a-z])/g,function(a,b,c){return b+c.toUpperCase()});return d.initialized=!1,d.priority=d.priority||10,d.classes=f("classes",r,o,d.classes),d.events=f("events",c,p,d.events),d.functions=a.extend({getData:h,iterate:q},l,d.functions),d.methods=a.extend(!0,{_setup:a.noop,_construct:a.noop,_destruct:a.noop,_resize:!1,destroy:g},d.methods),d.utilities=a.extend(!0,{_initialize:!1,_delegate:!1,defaults:n},d.utilities),d.widget&&(m.Conflicts.fn[c]=a.fn[c],a.fn[s]=i,m.DontConflict||(a.fn[c]=a.fn[s])),m.Conflicts[c]=a[c],a[s]=d.utilities._delegate||k,m.DontConflict||(a[c]=a[s]),d.namespace=c,d.namespaceClean=s,d.guid=0,d.methods._resize&&(m.ResizeHandlers.push({namespace:c,priority:d.priority,callback:d.methods._resize}),m.ResizeHandlers.sort(j)),d}(c,d),n.then(function(){e(c)}),m.Plugins[c]};var q=null,r=20;return m.$window.on("resize.fs",h),h(),a(function(){m.$body=a("body"),n.resolve()}),p.clickTouchStart=p.click+" "+p.touchStart,g(),m}(jQuery,this,document);!function(a,b,c){"use strict";function d(a,c){if(c){a.$target=this.find(a.target),a.$check=a.target?a.$target:this,a.callback=c,a.styles=i(a.$check),a.timer=null;var d=a.$check.css(b.transition+"-duration"),e=parseFloat(d);b.support.transition&&d&&e?this.on(l.transitionEnd,a,f):a.timer=m.startTimer(a.timer,50,function(){h(a)},!0)}}function e(a){m.clearTimer(a.timer,!0),this.off(l.namespace)}function f(b){b.stopPropagation(),b.preventDefault();var c=b.data,d=b.originalEvent,e=c.target?c.$target:c.$el;c.property&&d.propertyName!==c.property||!a(d.target).is(e)||g(c)}function g(a){a.always||a.$el[k.namespaceClean]("destroy"),a.callback.apply(a.$el)}function h(a){var b=i(a.$check);j(a.styles,b)||g(a),a.styles=b}function i(b){var c,d,e,f={};if(b instanceof a&&(b=b[0]),n.getComputedStyle){c=n.getComputedStyle(b,null);for(var g=0,h=c.length;h>g;g++)d=c[g],e=c.getPropertyValue(d),f[d]=e}else if(b.currentStyle){c=b.currentStyle;for(d in c)c[d]&&(f[d]=c[d])}return f}function j(b,c){if(a.type(b)!==a.type(c))return!1;for(var d in b)if(!b.hasOwnProperty(d)||!c.hasOwnProperty(d)||b[d]!==c[d])return!1;return!0}var k=b.Plugin("transition",{widget:!0,defaults:{always:!1,property:null,target:null},methods:{_construct:d,_destruct:e,resolve:g}}),l=k.events,m=k.functions,n=b.window}(jQuery,Formstone),function(a,b){"use strict";function c(c){i||(k=a.extend({},n,c||{}),k.$html=a("html"),k.$body=a("body"),k.$shifts=a([g(l.page),g(l.header)].join(", ")),k.$nav=a(g(l.navigation)),k.$shifts.length>0&&k.$nav.length>0&&(i=!0,k.$body.on(m.click,g(l.handle),e),void 0!==b.matchMedia&&(k.mediaQuery=b.matchMedia("(max-width:"+(k.maxWidth===1/0?"100000px":k.maxWidth)+")"),k.mediaQuery.addListener(d),d())))}function d(){k.mediaQuery.matches?o.enable():o.disable()}function e(a){a.preventDefault(),a.stopPropagation(),j||(k.$body.hasClass(l.isOpen)?o.close():o.open()),"touchstart"===a.type&&(j=!0,setTimeout(f,500))}function f(){j=!1}function g(a){return"."+a}var h="shifter",i=!1,j=!1,k={},l={handle:"shifter-handle",page:"shifter-page",header:"shifter-header",navigation:"shifter-navigation",isEnabled:"shifter-enabled",isOpen:"shifter-open"},m={click:"touchstart."+h+" click."+h
},n={maxWidth:"980px"},o={close:function(){i&&(k.$html.removeClass(l.isOpen),k.$body.removeClass(l.isOpen),k.$shifts.off(g(h)),k.$nav.find("input").trigger("blur"))},enable:function(){i&&k.$body.addClass(l.isEnabled)},destroy:function(){i&&(k.$html.removeClass(l.isOpen),k.$body.removeClass([l.isEnabled,l.isOpen].join(" ")).off(m.click),void 0!==b.matchMedia&&k.mediaQuery.removeListener(d),k={},i=!1)},disable:function(){i&&(o.close(),k.$body.removeClass(l.isEnabled))},open:function(){i&&(k.$html.addClass(l.isOpen),k.$body.addClass(l.isOpen),k.$shifts.one(m.click,e))}};a[h]=function(a){return o[a]?o[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:c.apply(this,arguments)}}(jQuery,window),function(a,b,c,d){"use strict";function e(a,b){var d,e,f=[],g=0;a&&a.isDefaultPrevented()||(a.preventDefault(),b=a&&a.data?a.data.options:b||{},d=b.$target||c(a.currentTarget),e=d.attr("data-fancybox")||"",e?(f=b.selector?c(b.selector):a.data?a.data.items:[],f=f.length?f.filter('[data-fancybox="'+e+'"]'):c('[data-fancybox="'+e+'"]'),g=f.index(d),0>g&&(g=0)):f=[d],c.fancybox.open(f,b,g))}if(a.console=a.console||{info:function(a){}},c){if(c.fn.fancybox)return void console.info("fancyBox already initialized");var f={loop:!1,gutter:50,keyboard:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class="fancybox-toolbar">{{buttons}}</div><div class="fancybox-navigation">{{arrows}}</div><div class="fancybox-stage"></div><div class="fancybox-caption"></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg viewBox="0 0 40 40"><path d="M13,16 L20,23 L27,16 M20,7 L20,23 M10,24 L10,28 L30,28 L30,24" /></svg></a>',zoom:'<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><svg viewBox="0 0 40 40"><path d="M18,17 m-8,0 a8,8 0 1,0 16,0 a8,8 0 1,0 -16,0 M24,22 L31,29" /></svg></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><svg viewBox="0 0 40 40"><path d="M10,10 L30,30 M30,10 L10,30" /></svg></button>',smallBtn:'<button data-fancybox-close class="fancybox-close-small" title="{{CLOSE}}"><svg viewBox="0 0 32 32"><path d="M10,10 L22,22 M22,10 L10,22"></path></svg></button>',arrowLeft:'<a data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}" href="javascript:;"><svg viewBox="0 0 40 40"><path d="M18,12 L10,20 L18,28 M10,20 L30,20"></path></svg></a>',arrowRight:'<a data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}" href="javascript:;"><svg viewBox="0 0 40 40"><path d="M10,20 L30,20 M22,12 L30,20 L22,28"></path></svg></a>'},parentEl:"body",autoFocus:!1,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:4e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},wheel:"auto",onInit:c.noop,beforeLoad:c.noop,afterLoad:c.noop,beforeShow:c.noop,afterShow:c.noop,beforeClose:c.noop,afterClose:c.noop,onActivate:c.noop,onDeactivate:c.noop,clickContent:function(a,b){return"image"===a.type?"zoom":!1},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{idleTime:!1,clickContent:function(a,b){return"image"===a.type?"toggleControls":!1},clickSlide:function(a,b){return"image"===a.type?"toggleControls":"close"},dblclickContent:function(a,b){return"image"===a.type?"zoom":!1},dblclickSlide:function(a,b){return"image"===a.type?"zoom":!1}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"Zurück",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es später nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Maßstab"}}},g=c(a),h=c(b),i=0,j=function(a){return a&&a.hasOwnProperty&&a instanceof c},k=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||function(b){return a.setTimeout(b,1e3/60)}}(),l=function(){var a,c=b.createElement("fakeelement"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in e)if(c.style[a]!==d)return e[a];return"transitionend"}(),m=function(a){return a&&a.length&&a[0].offsetHeight},n=function(a,b){var d=c.extend(!0,{},a,b);return c.each(b,function(a,b){c.isArray(b)&&(d[a]=b)}),d},o=function(a,d,e){var f=this;f.opts=n({index:e},c.fancybox.defaults),c.isPlainObject(d)&&(f.opts=n(f.opts,d)),c.fancybox.isMobile&&(f.opts=n(f.opts,f.opts.mobile)),f.id=f.opts.id||++i,f.currIndex=parseInt(f.opts.index,10)||0,f.prevIndex=null,f.prevPos=null,f.currPos=0,f.firstRun=!0,f.group=[],f.slides={},f.addContent(a),f.group.length&&(f.$lastFocus=c(b.activeElement).trigger("blur"),f.init())};c.extend(o.prototype,{init:function(){var e,f,g,h=this,i=h.group[h.currIndex],j=i.opts,k=c.fancybox.scrollbarWidth;c.fancybox.getInstance()||j.hideScrollbar===!1||(c("body").addClass("fancybox-active"),!c.fancybox.isMobile&&b.body.scrollHeight>a.innerHeight&&(k===d&&(e=c('<div style="width:100px;height:100px;overflow:scroll;" />').appendTo("body"),k=c.fancybox.scrollbarWidth=e[0].offsetWidth-e[0].clientWidth,e.remove()),c("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar { margin-right: '+k+"px; }</style>"),c("body").addClass("compensate-for-scrollbar"))),g="",c.each(j.buttons,function(a,b){g+=j.btnTpl[b]||""}),f=c(h.translate(h,j.baseTpl.replace("{{buttons}}",g).replace("{{arrows}}",j.btnTpl.arrowLeft+j.btnTpl.arrowRight))).attr("id","fancybox-container-"+h.id).addClass("fancybox-is-hidden").addClass(j.baseClass).data("FancyBox",h).appendTo(j.parentEl),h.$refs={container:f},["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(a){h.$refs[a]=f.find(".fancybox-"+a)}),h.trigger("onInit"),h.activate(),h.jumpTo(h.currIndex)},translate:function(a,b){var c=a.opts.i18n[a.opts.lang];return b.replace(/\{\{(\w+)\}\}/g,function(a,b){var e=c[b];return e===d?a:e})},addContent:function(a){var b,e=this,f=c.makeArray(a);c.each(f,function(a,b){var f,g,h,i,j,k={},l={};c.isPlainObject(b)?(k=b,l=b.opts||b):"object"===c.type(b)&&c(b).length?(f=c(b),l=f.data()||{},l=c.extend(!0,{},l,l.options),l.$orig=f,k.src=e.opts.src||l.src||f.attr("href"),k.type||k.src||(k.type="inline",k.src=b)):k={type:"html",src:b+""},k.opts=c.extend(!0,{},e.opts,l),c.isArray(l.buttons)&&(k.opts.buttons=l.buttons),g=k.type||k.opts.type,i=k.src||"",!g&&i&&((h=i.match(/\.(mp4|mov|ogv)((\?|#).*)?$/i))?(g="video",k.opts.videoFormat||(k.opts.videoFormat="video/"+("ogv"===h[1]?"ogg":h[1]))):i.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?g="image":i.match(/\.(pdf)((\?|#).*)?$/i)?g="iframe":"#"===i.charAt(0)&&(g="inline")),g?k.type=g:e.trigger("objectNeedsType",k),k.contentType||(k.contentType=c.inArray(k.type,["html","inline","ajax"])>-1?"html":k.type),k.index=e.group.length,"auto"==k.opts.smallBtn&&(k.opts.smallBtn=c.inArray(k.type,["html","inline","ajax"])>-1),"auto"===k.opts.toolbar&&(k.opts.toolbar=!k.opts.smallBtn),k.opts.$trigger&&k.index===e.opts.index&&(k.opts.$thumb=k.opts.$trigger.find("img:first")),k.opts.$thumb&&k.opts.$thumb.length||!k.opts.$orig||(k.opts.$thumb=k.opts.$orig.find("img:first")),"function"===c.type(k.opts.caption)&&(k.opts.caption=k.opts.caption.apply(b,[e,k])),"function"===c.type(e.opts.caption)&&(k.opts.caption=e.opts.caption.apply(b,[e,k])),k.opts.caption instanceof c||(k.opts.caption=k.opts.caption===d?"":k.opts.caption+""),"ajax"===k.type&&(j=i.split(/\s+/,2),j.length>1&&(k.src=j.shift(),k.opts.filter=j.shift())),k.opts.modal&&(k.opts=c.extend(!0,k.opts,{infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),e.group.push(k)}),Object.keys(e.slides).length&&(e.updateControls(),b=e.Thumbs,b&&b.isActive&&(b.create(),b.focus()))},addEvents:function(){var d=this;d.removeEvents(),d.$refs.container.on("click.fb-close","[data-fancybox-close]",function(a){a.stopPropagation(),a.preventDefault(),d.close(a)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(a){a.stopPropagation(),a.preventDefault(),d.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(a){a.stopPropagation(),a.preventDefault(),d.next()}).on("click.fb","[data-fancybox-zoom]",function(a){d[d.isScaledDown()?"scaleToActual":"scaleToFit"]()}),g.on("orientationchange.fb resize.fb",function(a){a&&a.originalEvent&&"resize"===a.originalEvent.type?k(function(){d.update()}):(d.$refs.stage.hide(),setTimeout(function(){d.$refs.stage.show(),d.update()},c.fancybox.isMobile?600:250))}),h.on("focusin.fb",function(a){var d=c.fancybox?c.fancybox.getInstance():null;d.isClosing||!d.current||!d.current.opts.trapFocus||c(a.target).hasClass("fancybox-container")||c(a.target).is(b)||d&&"fixed"!==c(a.target).css("position")&&!d.$refs.container.has(a.target).length&&(a.stopPropagation(),d.focus())}),h.on("keydown.fb",function(a){var b=d.current,e=a.keyCode||a.which;if(b&&b.opts.keyboard&&!(a.ctrlKey||a.altKey||a.shiftKey||c(a.target).is("input")||c(a.target).is("textarea")))return 8===e||27===e?(a.preventDefault(),void d.close(a)):37===e||38===e?(a.preventDefault(),void d.previous()):39===e||40===e?(a.preventDefault(),void d.next()):void d.trigger("afterKeydown",a,e)}),d.group[d.currIndex].opts.idleTime&&(d.idleSecondsCounter=0,h.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(a){d.idleSecondsCounter=0,d.isIdle&&d.showControls(),d.isIdle=!1}),d.idleInterval=a.setInterval(function(){d.idleSecondsCounter++,d.idleSecondsCounter>=d.group[d.currIndex].opts.idleTime&&!d.isDragging&&(d.isIdle=!0,d.idleSecondsCounter=0,d.hideControls())},1e3))},removeEvents:function(){var b=this;g.off("orientationchange.fb resize.fb"),h.off("focusin.fb keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),b.idleInterval&&(a.clearInterval(b.idleInterval),b.idleInterval=null)},previous:function(a){return this.jumpTo(this.currPos-1,a)},next:function(a){return this.jumpTo(this.currPos+1,a)},jumpTo:function(a,b){var e,f,g,h,i,j,k,l=this,n=l.group.length;if(!(l.isDragging||l.isClosing||l.isAnimating&&l.firstRun)){if(a=parseInt(a,10),f=l.current?l.current.opts.loop:l.opts.loop,!f&&(0>a||a>=n))return!1;if(e=l.firstRun=!Object.keys(l.slides).length,!(2>n&&!e&&l.isDragging)){if(h=l.current,l.prevIndex=l.currIndex,l.prevPos=l.currPos,g=l.createSlide(a),n>1&&((f||g.index>0)&&l.createSlide(a-1),(f||g.index<n-1)&&l.createSlide(a+1)),l.current=g,l.currIndex=g.index,l.currPos=g.pos,l.trigger("beforeShow",e),l.updateControls(),j=c.fancybox.getTranslate(g.$slide),g.isMoved=(0!==j.left||0!==j.top)&&!g.$slide.hasClass("fancybox-animated"),g.forcedDuration=d,c.isNumeric(b)?g.forcedDuration=b:b=g.opts[e?"animationDuration":"transitionDuration"],b=parseInt(b,10),e)return g.opts.animationEffect&&b&&l.$refs.container.css("transition-duration",b+"ms"),l.$refs.container.removeClass("fancybox-is-hidden"),m(l.$refs.container),l.$refs.container.addClass("fancybox-is-open"),m(l.$refs.container),g.$slide.addClass("fancybox-slide--previous"),l.loadSlide(g),g.$slide.removeClass("fancybox-slide--previous").addClass("fancybox-slide--current"),void l.preload("image");c.each(l.slides,function(a,b){c.fancybox.stop(b.$slide)}),g.$slide.removeClass("fancybox-slide--next fancybox-slide--previous").addClass("fancybox-slide--current"),g.isMoved?(i=Math.round(g.$slide.width()),c.each(l.slides,function(a,d){var e=d.pos-g.pos;c.fancybox.animate(d.$slide,{top:0,left:e*i+e*d.opts.gutter},b,function(){d.$slide.removeAttr("style").removeClass("fancybox-slide--next fancybox-slide--previous"),d.pos===l.currPos&&(g.isMoved=!1,l.complete())})})):l.$refs.stage.children().removeAttr("style"),g.isLoaded?l.revealContent(g):l.loadSlide(g),l.preload("image"),h.pos!==g.pos&&(k="fancybox-slide--"+(h.pos>g.pos?"next":"previous"),h.$slide.removeClass("fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous"),h.isComplete=!1,b&&(g.isMoved||g.opts.transitionEffect)&&(g.isMoved?h.$slide.addClass(k):(k="fancybox-animated "+k+" fancybox-fx-"+g.opts.transitionEffect,c.fancybox.animate(h.$slide,k,b,function(){h.$slide.removeClass(k).removeAttr("style")}))))}}},createSlide:function(a){var b,d,e=this;return d=a%e.group.length,d=0>d?e.group.length+d:d,!e.slides[a]&&e.group[d]&&(b=c('<div class="fancybox-slide"></div>').appendTo(e.$refs.stage),e.slides[a]=c.extend(!0,{},e.group[d],{pos:a,$slide:b,isLoaded:!1}),e.updateSlide(e.slides[a])),e.slides[a]},scaleToActual:function(a,b,e){var f,g,h,i,j,k=this,l=k.current,m=l.$content,n=c.fancybox.getTranslate(l.$slide).width,o=c.fancybox.getTranslate(l.$slide).height,p=l.width,q=l.height;!k.isAnimating&&m&&"image"==l.type&&l.isLoaded&&!l.hasError&&(c.fancybox.stop(m),k.isAnimating=!0,a=a===d?.5*n:a,b=b===d?.5*o:b,f=c.fancybox.getTranslate(m),f.top-=c.fancybox.getTranslate(l.$slide).top,f.left-=c.fancybox.getTranslate(l.$slide).left,i=p/f.width,j=q/f.height,g=.5*n-.5*p,h=.5*o-.5*q,p>n&&(g=f.left*i-(a*i-a),g>0&&(g=0),n-p>g&&(g=n-p)),q>o&&(h=f.top*j-(b*j-b),h>0&&(h=0),o-q>h&&(h=o-q)),k.updateCursor(p,q),c.fancybox.animate(m,{top:h,left:g,scaleX:i,scaleY:j},e||330,function(){k.isAnimating=!1}),k.SlideShow&&k.SlideShow.isActive&&k.SlideShow.stop())},scaleToFit:function(a){var b,d=this,e=d.current,f=e.$content;!d.isAnimating&&f&&"image"==e.type&&e.isLoaded&&!e.hasError&&(c.fancybox.stop(f),d.isAnimating=!0,b=d.getFitPos(e),d.updateCursor(b.width,b.height),c.fancybox.animate(f,{top:b.top,left:b.left,scaleX:b.width/f.width(),scaleY:b.height/f.height()},a||330,function(){d.isAnimating=!1}))},getFitPos:function(a){var b,c,d,e,f,g=this,h=a.$content,i=a.width||a.opts.width,j=a.height||a.opts.height,k={};return a.isLoaded&&h&&h.length?(e={top:parseInt(a.$slide.css("paddingTop"),10),right:parseInt(a.$slide.css("paddingRight"),10),bottom:parseInt(a.$slide.css("paddingBottom"),10),left:parseInt(a.$slide.css("paddingLeft"),10)},b=parseInt(g.$refs.stage.width(),10)-(e.left+e.right),c=parseInt(g.$refs.stage.height(),10)-(e.top+e.bottom),i&&j||(i=b,j=c),d=Math.min(1,b/i,c/j),i=Math.floor(d*i),j=Math.floor(d*j),"image"===a.type?(k.top=Math.floor(.5*(c-j))+e.top,k.left=Math.floor(.5*(b-i))+e.left):"video"===a.contentType&&(f=a.opts.width&&a.opts.height?i/j:a.opts.ratio||16/9,j>i/f?j=i/f:i>j*f&&(i=j*f)),k.width=i,k.height=j,k):!1},update:function(){var a=this;c.each(a.slides,function(b,c){a.updateSlide(c)})},updateSlide:function(a,b){var d=this,e=a&&a.$content,f=a.width||a.opts.width,g=a.height||a.opts.height;e&&(f||g||"video"===a.contentType)&&!a.hasError&&(c.fancybox.stop(e),c.fancybox.setTranslate(e,d.getFitPos(a)),a.pos===d.currPos&&(d.isAnimating=!1,d.updateCursor())),a.$slide.trigger("refresh"),d.$refs.toolbar.toggleClass("compensate-for-scrollbar",a.$slide.get(0).scrollHeight>a.$slide.get(0).clientHeight),d.trigger("onUpdate",a)},centerSlide:function(a,b){var e,f,g=this;g.current&&(e=Math.round(a.$slide.width()),f=a.pos-g.current.pos,c.fancybox.animate(a.$slide,{top:0,left:f*e+f*a.opts.gutter,opacity:1},b===d?0:b,null,!1))},updateCursor:function(a,b){var d,e=this,f=e.current,g=e.$refs.container.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut");f&&!e.isClosing&&(d=e.isZoomable(),g.toggleClass("fancybox-is-zoomable",d),c("[data-fancybox-zoom]").prop("disabled",!d),d&&("zoom"===f.opts.clickContent||c.isFunction(f.opts.clickContent)&&"zoom"===f.opts.clickContent(f))?e.isScaledDown(a,b)?g.addClass("fancybox-can-zoomIn"):f.opts.touch?g.addClass("fancybox-can-drag"):g.addClass("fancybox-can-zoomOut"):f.opts.touch&&"video"!==f.contentType&&g.addClass("fancybox-can-drag"))},isZoomable:function(){var a,b=this,c=b.current;if(c&&!b.isClosing&&"image"===c.type&&!c.hasError){if(!c.isLoaded)return!0;if(a=b.getFitPos(c),c.width>a.width||c.height>a.height)return!0}return!1},isScaledDown:function(a,b){var e=this,f=!1,g=e.current,h=g.$content;return a!==d&&b!==d?f=a<g.width&&b<g.height:h&&(f=c.fancybox.getTranslate(h),f=f.width<g.width&&f.height<g.height),f},canPan:function(){var a,b=this,c=!1,d=b.current;return"image"===d.type&&(a=d.$content)&&!d.hasError&&(c=b.getFitPos(d),c=Math.abs(a.width()-c.width)>1||Math.abs(a.height()-c.height)>1),c},loadSlide:function(a){var b,d,e,f=this;if(!a.isLoading&&!a.isLoaded){switch(a.isLoading=!0,f.trigger("beforeLoad",a),b=a.type,d=a.$slide,d.off("refresh").trigger("onReset").addClass(a.opts.slideClass),b){case"image":f.setImage(a);break;case"iframe":f.setIframe(a);break;case"html":f.setContent(a,a.src||a.content);break;case"video":f.setContent(a,'<video class="fancybox-video" controls controlsList="nodownload"><source src="'+a.src+'" type="'+a.opts.videoFormat+"\">Your browser doesn't support HTML5 video</video");break;case"inline":c(a.src).length?f.setContent(a,c(a.src)):f.setError(a);break;case"ajax":f.showLoading(a),e=c.ajax(c.extend({},a.opts.ajax.settings,{url:a.src,success:function(b,c){"success"===c&&f.setContent(a,b)},error:function(b,c){b&&"abort"!==c&&f.setError(a)}})),d.one("onReset",function(){e.abort()});break;default:f.setError(a)}return!0}},setImage:function(b){var d,e,f,g,h,i=this,j=b.opts.srcset||b.opts.image.srcset;if(b.timouts=setTimeout(function(){var a=b.$image;!b.isLoading||a&&a[0].complete||b.hasError||i.showLoading(b)},350),j){g=a.devicePixelRatio||1,h=a.innerWidth*g,f=j.split(",").map(function(a){var b={};return a.trim().split(/\s+/).forEach(function(a,c){var d=parseInt(a.substring(0,a.length-1),10);return 0===c?b.url=a:void(d&&(b.value=d,b.postfix=a[a.length-1]))}),b}),f.sort(function(a,b){return a.value-b.value});for(var k=0;k<f.length;k++){var l=f[k];if("w"===l.postfix&&l.value>=h||"x"===l.postfix&&l.value>=g){e=l;break}}!e&&f.length&&(e=f[f.length-1]),e&&(b.src=e.url,b.width&&b.height&&"w"==e.postfix&&(b.height=b.width/b.height*e.value,b.width=e.value),b.opts.srcset=j)}b.$content=c('<div class="fancybox-content"></div>').addClass("fancybox-is-hidden").appendTo(b.$slide.addClass("fancybox-slide--image")),d=b.opts.thumb||(b.opts.$thumb&&b.opts.$thumb.length?b.opts.$thumb.attr("src"):!1),b.opts.preload!==!1&&b.opts.width&&b.opts.height&&d&&(b.width=b.opts.width,b.height=b.opts.height,b.$ghost=c("<img />").one("error",function(){c(this).remove(),b.$ghost=null}).one("load",function(){i.afterLoad(b)}).addClass("fancybox-image").appendTo(b.$content).attr("src",d)),i.setBigImage(b)},setBigImage:function(a){var b=this,d=c("<img />");a.$image=d.one("error",function(){b.setError(a)}).one("load",function(){var c;a.$ghost||(b.resolveImageSlideSize(a,this.naturalWidth,this.naturalHeight),b.afterLoad(a)),a.timouts&&(clearTimeout(a.timouts),a.timouts=null),b.isClosing||(a.opts.srcset&&(c=a.opts.sizes,c&&"auto"!==c||(c=(a.width/a.height>1&&g.width()/g.height()>1?"100":Math.round(a.width/a.height*100))+"vw"),d.attr("sizes",c).attr("srcset",a.opts.srcset)),a.$ghost&&setTimeout(function(){a.$ghost&&!b.isClosing&&a.$ghost.hide()},Math.min(300,Math.max(1e3,a.height/1600))),b.hideLoading(a))}).addClass("fancybox-image").attr("src",a.src).appendTo(a.$content),(d[0].complete||"complete"==d[0].readyState)&&d[0].naturalWidth&&d[0].naturalHeight?d.trigger("load"):d[0].error&&d.trigger("error")},resolveImageSlideSize:function(a,b,c){var d=parseInt(a.opts.width,10),e=parseInt(a.opts.height,10);a.width=b,a.height=c,d>0&&(a.width=d,a.height=Math.floor(d*c/b)),e>0&&(a.width=Math.floor(e*b/c),a.height=e)},setIframe:function(a){var b,e=this,f=a.opts.iframe,g=a.$slide;a.$content=c('<div class="fancybox-content'+(f.preload?" fancybox-is-hidden":"")+'"></div>').css(f.css).appendTo(g),g.addClass("fancybox-slide--"+a.contentType),a.$iframe=b=c(f.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(f.attr).appendTo(a.$content),f.preload?(e.showLoading(a),b.on("load.fb error.fb",function(b){this.isReady=1,a.$slide.trigger("refresh"),e.afterLoad(a)}),g.on("refresh.fb",function(){var c,e,g=a.$content,h=f.css.width,i=f.css.height;if(1===b[0].isReady){try{c=b.contents(),e=c.find("body")}catch(j){}e&&e.length&&e.children().length&&(g.css({width:"",height:""}),h===d&&(h=Math.ceil(Math.max(e[0].clientWidth,e.outerWidth(!0)))),h&&g.width(h),i===d&&(i=Math.ceil(Math.max(e[0].clientHeight,e.outerHeight(!0)))),i&&g.height(i)),g.removeClass("fancybox-is-hidden")}})):this.afterLoad(a),b.attr("src",a.src),g.one("onReset",function(){try{c(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(b){}c(this).off("refresh.fb").empty(),a.isLoaded=!1})},setContent:function(a,b){var d=this;d.isClosing||(d.hideLoading(a),a.$content&&c.fancybox.stop(a.$content),a.$slide.empty(),j(b)&&b.parent().length?(b.parent().parent(".fancybox-slide--inline").trigger("onReset"),a.$placeholder=c("<div>").hide().insertAfter(b),b.css("display","inline-block")):a.hasError||("string"===c.type(b)&&(b=c("<div>").append(c.trim(b)).contents(),3===b[0].nodeType&&(b=c("<div>").html(b))),a.opts.filter&&(b=c("<div>").html(b).find(a.opts.filter))),a.$slide.one("onReset",function(){c(this).find("video,audio").trigger("pause"),a.$placeholder&&(a.$placeholder.after(b.hide()).remove(),a.$placeholder=null),a.$smallBtn&&(a.$smallBtn.remove(),a.$smallBtn=null),a.hasError||(c(this).empty(),a.isLoaded=!1)}),c(b).appendTo(a.$slide),c(b).is("video,audio")&&(c(b).addClass("fancybox-video"),c(b).wrap("<div></div>"),a.contentType="video",a.opts.width=a.opts.width||c(b).attr("width"),a.opts.height=a.opts.height||c(b).attr("height")),a.$content=a.$slide.children().filter("div,form,main,video,audio").first().addClass("fancybox-content"),a.$slide.addClass("fancybox-slide--"+a.contentType),this.afterLoad(a))},setError:function(a){a.hasError=!0,a.$slide.trigger("onReset").removeClass("fancybox-slide--"+a.contentType).addClass("fancybox-slide--error"),a.contentType="html",this.setContent(a,this.translate(a,a.opts.errorTpl)),a.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(a){var b=this;a=a||b.current,a&&!a.$spinner&&(a.$spinner=c(b.translate(b,b.opts.spinnerTpl)).appendTo(a.$slide))},hideLoading:function(a){var b=this;a=a||b.current,a&&a.$spinner&&(a.$spinner.remove(),delete a.$spinner)},afterLoad:function(a){var b=this;b.isClosing||(a.isLoading=!1,a.isLoaded=!0,b.trigger("afterLoad",a),b.hideLoading(a),a.pos===b.currPos&&b.updateCursor(),!a.opts.smallBtn||a.$smallBtn&&a.$smallBtn.length||(a.$smallBtn=c(b.translate(a,a.opts.btnTpl.smallBtn)).prependTo(a.$content)),a.opts.protect&&a.$content&&!a.hasError&&(a.$content.on("contextmenu.fb",function(a){return 2==a.button&&a.preventDefault(),!0}),"image"===a.type&&c('<div class="fancybox-spaceball"></div>').appendTo(a.$content)),b.revealContent(a))},revealContent:function(a){var b,e,f,g,h=this,i=a.$slide,j=!1,k=!1;return b=a.opts[h.firstRun?"animationEffect":"transitionEffect"],f=a.opts[h.firstRun?"animationDuration":"transitionDuration"],f=parseInt(a.forcedDuration===d?f:a.forcedDuration,10),a.pos===h.currPos&&(a.isComplete?b=!1:h.isAnimating=!0),(a.isMoved||a.pos!==h.currPos||!f)&&(b=!1),"zoom"===b&&(a.pos===h.currPos&&f&&"image"===a.type&&!a.hasError&&(k=h.getThumbPos(a))?j=h.getFitPos(a):b="fade"),"zoom"===b?(j.scaleX=j.width/k.width,j.scaleY=j.height/k.height,g=a.opts.zoomOpacity,"auto"==g&&(g=Math.abs(a.width/a.height-k.width/k.height)>.1),g&&(k.opacity=.1,j.opacity=1),c.fancybox.setTranslate(a.$content.removeClass("fancybox-is-hidden"),k),m(a.$content),void c.fancybox.animate(a.$content,j,f,function(){h.isAnimating=!1,h.complete()})):(h.updateSlide(a),b?(c.fancybox.stop(i),e="fancybox-animated fancybox-slide--"+(a.pos>=h.prevPos?"next":"previous")+" fancybox-fx-"+b,i.removeAttr("style").removeClass("fancybox-slide--current fancybox-slide--next fancybox-slide--previous").addClass(e),a.$content.removeClass("fancybox-is-hidden"),m(i),void c.fancybox.animate(i,"fancybox-slide--current",f,function(b){i.removeClass(e).removeAttr("style"),a.pos===h.currPos&&h.complete()},!0)):(m(i),a.$content.removeClass("fancybox-is-hidden"),void(a.pos===h.currPos&&h.complete())))},getThumbPos:function(d){var e,f=this,g=!1,h=d.opts.$thumb,i=h&&h.length&&h[0].ownerDocument===b?h.offset():0,j=function(b){for(var d,e=b[0],f=e.getBoundingClientRect(),g=[];null!==e.parentElement;)("hidden"===c(e.parentElement).css("overflow")||"auto"===c(e.parentElement).css("overflow"))&&g.push(e.parentElement.getBoundingClientRect()),e=e.parentElement;return d=g.every(function(a){var b=Math.min(f.right,a.right)-Math.max(f.left,a.left),c=Math.min(f.bottom,a.bottom)-Math.max(f.top,a.top);return b>0&&c>0}),d&&f.bottom>0&&f.right>0&&f.left<c(a).width()&&f.top<c(a).height()};return i&&j(h)&&(e=f.$refs.stage.offset(),g={top:i.top-e.top+parseFloat(h.css("border-top-width")||0),left:i.left-e.left+parseFloat(h.css("border-left-width")||0),width:h.width(),height:h.height(),scaleX:1,scaleY:1}),g},complete:function(){var a=this,d=a.current,e={};!d.isMoved&&d.isLoaded&&(d.isComplete||(d.isComplete=!0,d.$slide.siblings().trigger("onReset"),a.preload("inline"),m(d.$slide),d.$slide.addClass("fancybox-slide--complete"),c.each(a.slides,function(b,d){d.pos>=a.currPos-1&&d.pos<=a.currPos+1?e[d.pos]=d:d&&(c.fancybox.stop(d.$slide),d.$slide.off().remove())}),a.slides=e),a.isAnimating=!1,a.updateCursor(),a.trigger("afterShow"),d.$slide.find("video,audio").filter(":visible:first").trigger("play"),(c(b.activeElement).is("[disabled]")||d.opts.autoFocus&&"image"!=d.type&&"iframe"!==d.type)&&a.focus())},preload:function(a){var b=this,c=b.slides[b.currPos+1],d=b.slides[b.currPos-1];c&&c.type===a&&b.loadSlide(c),d&&d.type===a&&b.loadSlide(d)},focus:function(){var a,b=this.current;this.isClosing||b&&b.isComplete&&b.$content&&(a=b.$content.find("input[autofocus]:enabled:visible:first"),a.length||(a=b.$content.find("button,:input,[tabindex],a").filter(":enabled:visible:first")),a=a&&a.length?a:b.$content,a.trigger("focus"))},activate:function(){var a=this;c(".fancybox-container").each(function(){var b=c(this).data("FancyBox");b&&b.id!==a.id&&!b.isClosing&&(b.trigger("onDeactivate"),b.removeEvents(),b.isVisible=!1)}),a.isVisible=!0,(a.current||a.isIdle)&&(a.update(),a.updateControls()),a.trigger("onActivate"),a.addEvents()},close:function(a,b){var d,e,f,g,h,i,j,n=this,o=n.current,p=function(){n.cleanUp(a)};return n.isClosing?!1:(n.isClosing=!0,n.trigger("beforeClose",a)===!1?(n.isClosing=!1,k(function(){n.update()}),!1):(n.removeEvents(),o.timouts&&clearTimeout(o.timouts),f=o.$content,d=o.opts.animationEffect,e=c.isNumeric(b)?b:d?o.opts.animationDuration:0,o.$slide.off(l).removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),o.$slide.siblings().trigger("onReset").remove(),e&&n.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing"),n.hideLoading(o),n.hideControls(),n.updateCursor(),"zoom"!==d||a!==!0&&f&&e&&"image"===o.type&&!o.hasError&&(j=n.getThumbPos(o))||(d="fade"),"zoom"===d?(c.fancybox.stop(f),g=c.fancybox.getTranslate(f),i={top:g.top,left:g.left,scaleX:g.width/j.width,scaleY:g.height/j.height,width:j.width,height:j.height},h=o.opts.zoomOpacity,"auto"==h&&(h=Math.abs(o.width/o.height-j.width/j.height)>.1),h&&(j.opacity=0),c.fancybox.setTranslate(f,i),m(f),c.fancybox.animate(f,j,e,p),!0):(d&&e?a===!0?setTimeout(p,e):c.fancybox.animate(o.$slide.removeClass("fancybox-slide--current"),"fancybox-animated fancybox-slide--previous fancybox-fx-"+d,e,p):p(),!0)))},cleanUp:function(a){var b,d=this,e=c("body");d.current.$slide.trigger("onReset"),d.$refs.container.empty().remove(),d.trigger("afterClose",a),d.$lastFocus&&d.current.opts.backFocus&&d.$lastFocus.trigger("focus"),d.current=null,b=c.fancybox.getInstance(),b?b.activate():(e.removeClass("fancybox-active compensate-for-scrollbar"),c("#fancybox-style-noscroll").remove())},trigger:function(a,b){var d,e=Array.prototype.slice.call(arguments,1),f=this,g=b&&b.opts?b:f.current;return g?e.unshift(g):g=f,e.unshift(f),c.isFunction(g.opts[a])&&(d=g.opts[a].apply(g,e)),d===!1?d:void("afterClose"!==a&&f.$refs?f.$refs.container.trigger(a+".fb",e):h.trigger(a+".fb",e))},updateControls:function(a){var b=this,c=b.current,d=c.index,e=c.opts.caption,f=b.$refs.container,g=b.$refs.caption;c.$slide.trigger("refresh"),b.$caption=e&&e.length?g.html(e):null,b.isHiddenControls||b.isIdle||b.showControls(),f.find("[data-fancybox-count]").html(b.group.length),f.find("[data-fancybox-index]").html(d+1),f.find("[data-fancybox-prev]").toggleClass("disabled",!c.opts.loop&&0>=d),f.find("[data-fancybox-next]").toggleClass("disabled",!c.opts.loop&&d>=b.group.length-1),"image"===c.type?f.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",c.opts.image.src||c.src).show():c.opts.toolbar&&f.find("[data-fancybox-download],[data-fancybox-zoom]").hide()},hideControls:function(){this.isHiddenControls=!0,this.$refs.container.removeClass("fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav")},showControls:function(){var a=this,b=a.current?a.current.opts:a.opts,c=a.$refs.container;a.isHiddenControls=!1,a.idleSecondsCounter=0,c.toggleClass("fancybox-show-toolbar",!(!b.toolbar||!b.buttons)).toggleClass("fancybox-show-infobar",!!(b.infobar&&a.group.length>1)).toggleClass("fancybox-show-nav",!!(b.arrows&&a.group.length>1)).toggleClass("fancybox-is-modal",!!b.modal),a.$caption?c.addClass("fancybox-show-caption "):c.removeClass("fancybox-show-caption")},toggleControls:function(){this.isHiddenControls?this.showControls():this.hideControls()}}),c.fancybox={version:"3.3.5",defaults:f,getInstance:function(a){var b=c('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),d=Array.prototype.slice.call(arguments,1);return b instanceof o?("string"===c.type(a)?b[a].apply(b,d):"function"===c.type(a)&&a.apply(b,d),b):!1},open:function(a,b,c){return new o(a,b,c)},close:function(a){var b=this.getInstance();b&&(b.close(),a===!0&&this.close())},destroy:function(){this.close(!0),h.add("body").off("click.fb-start","**")},isMobile:b.createTouch!==d&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:function(){var c=b.createElement("div");return a.getComputedStyle&&a.getComputedStyle(c)&&a.getComputedStyle(c).getPropertyValue("transform")&&!(b.documentMode&&b.documentMode<11)}(),getTranslate:function(a){var b;return a&&a.length?(b=a[0].getBoundingClientRect(),{top:b.top||0,left:b.left||0,width:b.width,height:b.height,opacity:parseFloat(a.css("opacity"))}):!1},setTranslate:function(a,b){
var c="",e={};if(a&&b)return(b.left!==d||b.top!==d)&&(c=(b.left===d?a.position().left:b.left)+"px, "+(b.top===d?a.position().top:b.top)+"px",c=this.use3d?"translate3d("+c+", 0px)":"translate("+c+")"),b.scaleX!==d&&b.scaleY!==d&&(c=(c.length?c+" ":"")+"scale("+b.scaleX+", "+b.scaleY+")"),c.length&&(e.transform=c),b.opacity!==d&&(e.opacity=b.opacity),b.width!==d&&(e.width=b.width),b.height!==d&&(e.height=b.height),a.css(e)},animate:function(a,b,e,f,g){var h=!1;c.isFunction(e)&&(f=e,e=null),c.isPlainObject(b)||a.removeAttr("style"),c.fancybox.stop(a),a.on(l,function(d){(!d||!d.originalEvent||a.is(d.originalEvent.target)&&"z-index"!=d.originalEvent.propertyName)&&(c.fancybox.stop(a),h&&c.fancybox.setTranslate(a,h),c.isPlainObject(b)?g===!1&&a.removeAttr("style"):g!==!0&&a.removeClass(b),c.isFunction(f)&&f(d))}),c.isNumeric(e)&&a.css("transition-duration",e+"ms"),c.isPlainObject(b)?(b.scaleX!==d&&b.scaleY!==d&&(h=c.extend({},b,{width:a.width()*b.scaleX,height:a.height()*b.scaleY,scaleX:1,scaleY:1}),delete b.width,delete b.height,a.parent().hasClass("fancybox-slide--image")&&a.parent().addClass("fancybox-is-scaling")),c.fancybox.setTranslate(a,b)):a.addClass(b),a.data("timer",setTimeout(function(){a.trigger("transitionend")},e+16))},stop:function(a){a&&a.length&&(clearTimeout(a.data("timer")),a.off("transitionend").css("transition-duration",""),a.parent().removeClass("fancybox-is-scaling"))}},c.fn.fancybox=function(a){var b;return a=a||{},b=a.selector||!1,b?c("body").off("click.fb-start",b).on("click.fb-start",b,{options:a},e):this.off("click.fb-start").on("click.fb-start",{items:this,options:a},e),this},h.on("click.fb-start","[data-fancybox]",e),h.on("click.fb-start","[data-trigger]",function(a){e(a,{$target:c('[data-fancybox="'+c(a.currentTarget).attr("data-trigger")+'"]').eq(c(a.currentTarget).attr("data-index")||0),$trigger:c(this)})})}}(window,document,window.jQuery||jQuery),function(a){"use strict";var b=function(b,c,d){return b?(d=d||"","object"===a.type(d)&&(d=a.param(d,!0)),a.each(c,function(a,c){b=b.replace("$"+a,c||"")}),d.length&&(b+=(b.indexOf("?")>0?"&":"?")+d),b):void 0},c={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(a){return"//maps.google."+a[2]+"/?ll="+(a[9]?a[9]+"&z="+Math.floor(a[10])+(a[12]?a[12].replace(/^\//,"&"):""):a[12]+"").replace(/\?/,"&")+"&output="+(a[12]&&a[12].indexOf("layer=c")>0?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(a){return"//maps.google."+a[2]+"/maps?q="+a[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}};a(document).on("objectNeedsType.fb",function(d,e,f){var g,h,i,j,k,l,m,n=f.src||"",o=!1;g=a.extend(!0,{},c,f.opts.media),a.each(g,function(c,d){if(i=n.match(d.matcher)){if(o=d.type,m=c,l={},d.paramPlace&&i[d.paramPlace]){k=i[d.paramPlace],"?"==k[0]&&(k=k.substring(1)),k=k.split("&");for(var e=0;e<k.length;++e){var g=k[e].split("=",2);2==g.length&&(l[g[0]]=decodeURIComponent(g[1].replace(/\+/g," ")))}}return j=a.extend(!0,{},d.params,f.opts[c],l),n="function"===a.type(d.url)?d.url.call(this,i,j,f):b(d.url,i,j),h="function"===a.type(d.thumb)?d.thumb.call(this,i,j,f):b(d.thumb,i),"youtube"===c?n=n.replace(/&t=((\d+)m)?(\d+)s/,function(a,b,c,d){return"&start="+((c?60*parseInt(c,10):0)+parseInt(d,10))}):"vimeo"===c&&(n=n.replace("&%23","#")),!1}}),o?(f.opts.thumb||f.opts.$thumb&&f.opts.$thumb.length||(f.opts.thumb=h),"iframe"===o&&(f.opts=a.extend(!0,f.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),a.extend(f,{type:o,src:n,origSrc:f.src,contentSource:m,contentType:"image"===o?"image":"gmap_place"==m||"gmap_search"==m?"map":"video"})):n&&(f.type=f.opts.defaultType)})}(window.jQuery||jQuery),function(a,b,c){"use strict";var d=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||function(b){return a.setTimeout(b,1e3/60)}}(),e=function(){return a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.oCancelAnimationFrame||function(b){a.clearTimeout(b)}}(),f=function(b){var c=[];b=b.originalEvent||b||a.e,b=b.touches&&b.touches.length?b.touches:b.changedTouches&&b.changedTouches.length?b.changedTouches:[b];for(var d in b)b[d].pageX?c.push({x:b[d].pageX,y:b[d].pageY}):b[d].clientX&&c.push({x:b[d].clientX,y:b[d].clientY});return c},g=function(a,b,c){return b&&a?"x"===c?a.x-b.x:"y"===c?a.y-b.y:Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2)):0},h=function(a){if(a.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio')||c.isFunction(a.get(0).onclick)||a.data("selectable"))return!0;for(var b=0,d=a[0].attributes,e=d.length;e>b;b++)if("data-fancybox-"===d[b].nodeName.substr(0,14))return!0;return!1},i=function(b){var c=a.getComputedStyle(b)["overflow-y"],d=a.getComputedStyle(b)["overflow-x"],e=("scroll"===c||"auto"===c)&&b.scrollHeight>b.clientHeight,f=("scroll"===d||"auto"===d)&&b.scrollWidth>b.clientWidth;return e||f},j=function(a){for(var b=!1;;){if(b=i(a.get(0)))break;if(a=a.parent(),!a.length||a.hasClass("fancybox-stage")||a.is("body"))break}return b},k=function(a){var b=this;b.instance=a,b.$bg=a.$refs.bg,b.$stage=a.$refs.stage,b.$container=a.$refs.container,b.destroy(),b.$container.on("touchstart.fb.touch mousedown.fb.touch",c.proxy(b,"ontouchstart"))};k.prototype.destroy=function(){this.$container.off(".fb.touch")},k.prototype.ontouchstart=function(d){var e=this,i=c(d.target),k=e.instance,l=k.current,m=l.$content,n="touchstart"==d.type;if(n&&e.$container.off("mousedown.fb.touch"),(!d.originalEvent||2!=d.originalEvent.button)&&i.length&&!h(i)&&!h(i.parent())&&(i.is("img")||!(d.originalEvent.clientX>i[0].clientWidth+i.offset().left))){if(!l||k.isAnimating||k.isClosing)return d.stopPropagation(),void d.preventDefault();if(e.realPoints=e.startPoints=f(d),e.startPoints.length){if(d.stopPropagation(),e.startEvent=d,e.canTap=!0,e.$target=i,e.$content=m,e.opts=l.opts.touch,e.isPanning=!1,e.isSwiping=!1,e.isZooming=!1,e.isScrolling=!1,e.startTime=(new Date).getTime(),e.distanceX=e.distanceY=e.distance=0,e.canvasWidth=Math.round(l.$slide[0].clientWidth),e.canvasHeight=Math.round(l.$slide[0].clientHeight),e.contentLastPos=null,e.contentStartPos=c.fancybox.getTranslate(e.$content)||{top:0,left:0},e.sliderStartPos=e.sliderLastPos||c.fancybox.getTranslate(l.$slide),e.stagePos=c.fancybox.getTranslate(k.$refs.stage),e.sliderStartPos.top-=e.stagePos.top,e.sliderStartPos.left-=e.stagePos.left,e.contentStartPos.top-=e.stagePos.top,e.contentStartPos.left-=e.stagePos.left,c(b).off(".fb.touch").on(n?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",c.proxy(e,"ontouchend")).on(n?"touchmove.fb.touch":"mousemove.fb.touch",c.proxy(e,"ontouchmove")),c.fancybox.isMobile&&b.addEventListener("scroll",e.onscroll,!0),!e.opts&&!k.canPan()||!i.is(e.$stage)&&!e.$stage.find(i).length)return void(i.is(".fancybox-image")&&d.preventDefault());c.fancybox.isMobile&&(j(i)||j(i.parent()))||d.preventDefault(),(1===e.startPoints.length||l.hasError)&&(e.instance.canPan()?(c.fancybox.stop(e.$content),e.$content.css("transition-duration",""),e.isPanning=!0):e.isSwiping=!0,e.$container.addClass("fancybox-controls--isGrabbing")),2===e.startPoints.length&&"image"===l.type&&(l.isLoaded||l.$ghost)&&(e.canTap=!1,e.isSwiping=!1,e.isPanning=!1,e.isZooming=!0,c.fancybox.stop(e.$content),e.$content.css("transition-duration",""),e.centerPointStartX=.5*(e.startPoints[0].x+e.startPoints[1].x)-c(a).scrollLeft(),e.centerPointStartY=.5*(e.startPoints[0].y+e.startPoints[1].y)-c(a).scrollTop(),e.percentageOfImageAtPinchPointX=(e.centerPointStartX-e.contentStartPos.left)/e.contentStartPos.width,e.percentageOfImageAtPinchPointY=(e.centerPointStartY-e.contentStartPos.top)/e.contentStartPos.height,e.startDistanceBetweenFingers=g(e.startPoints[0],e.startPoints[1]))}}},k.prototype.onscroll=function(a){var c=this;c.isScrolling=!0,b.removeEventListener("scroll",c.onscroll,!0)},k.prototype.ontouchmove=function(a){var b=this,d=c(a.target);return void 0!==a.originalEvent.buttons&&0===a.originalEvent.buttons?void b.ontouchend(a):b.isScrolling||!d.is(b.$stage)&&!b.$stage.find(d).length?void(b.canTap=!1):(b.newPoints=f(a),void((b.opts||b.instance.canPan())&&b.newPoints.length&&b.newPoints.length&&(b.isSwiping&&b.isSwiping===!0||a.preventDefault(),b.distanceX=g(b.newPoints[0],b.startPoints[0],"x"),b.distanceY=g(b.newPoints[0],b.startPoints[0],"y"),b.distance=g(b.newPoints[0],b.startPoints[0]),b.distance>0&&(b.isSwiping?b.onSwipe(a):b.isPanning?b.onPan():b.isZooming&&b.onZoom()))))},k.prototype.onSwipe=function(b){var f,g=this,h=g.isSwiping,i=g.sliderStartPos.left||0;if(h!==!0)"x"==h&&(g.distanceX>0&&(g.instance.group.length<2||0===g.instance.current.index&&!g.instance.current.opts.loop)?i+=Math.pow(g.distanceX,.8):g.distanceX<0&&(g.instance.group.length<2||g.instance.current.index===g.instance.group.length-1&&!g.instance.current.opts.loop)?i-=Math.pow(-g.distanceX,.8):i+=g.distanceX),g.sliderLastPos={top:"x"==h?0:g.sliderStartPos.top+g.distanceY,left:i},g.requestId&&(e(g.requestId),g.requestId=null),g.requestId=d(function(){g.sliderLastPos&&(c.each(g.instance.slides,function(a,b){var d=b.pos-g.instance.currPos;c.fancybox.setTranslate(b.$slide,{top:g.sliderLastPos.top,left:g.sliderLastPos.left+d*g.canvasWidth+d*b.opts.gutter})}),g.$container.addClass("fancybox-is-sliding"))});else if(Math.abs(g.distance)>10){if(g.canTap=!1,g.instance.group.length<2&&g.opts.vertical?g.isSwiping="y":g.instance.isDragging||g.opts.vertical===!1||"auto"===g.opts.vertical&&c(a).width()>800?g.isSwiping="x":(f=Math.abs(180*Math.atan2(g.distanceY,g.distanceX)/Math.PI),g.isSwiping=f>45&&135>f?"y":"x"),g.canTap=!1,"y"===g.isSwiping&&c.fancybox.isMobile&&(j(g.$target)||j(g.$target.parent())))return void(g.isScrolling=!0);g.instance.isDragging=g.isSwiping,g.startPoints=g.newPoints,c.each(g.instance.slides,function(a,b){c.fancybox.stop(b.$slide),b.$slide.css("transition-duration",""),b.inTransition=!1,b.pos===g.instance.current.pos&&(g.sliderStartPos.left=c.fancybox.getTranslate(b.$slide).left-c.fancybox.getTranslate(g.instance.$refs.stage).left)}),g.instance.SlideShow&&g.instance.SlideShow.isActive&&g.instance.SlideShow.stop()}},k.prototype.onPan=function(){var a=this;return g(a.newPoints[0],a.realPoints[0])<(c.fancybox.isMobile?10:5)?void(a.startPoints=a.newPoints):(a.canTap=!1,a.contentLastPos=a.limitMovement(),a.requestId&&(e(a.requestId),a.requestId=null),void(a.requestId=d(function(){c.fancybox.setTranslate(a.$content,a.contentLastPos)})))},k.prototype.limitMovement=function(){var a,b,c,d,e,f,g=this,h=g.canvasWidth,i=g.canvasHeight,j=g.distanceX,k=g.distanceY,l=g.contentStartPos,m=l.left,n=l.top,o=l.width,p=l.height;return e=o>h?m+j:m,f=n+k,a=Math.max(0,.5*h-.5*o),b=Math.max(0,.5*i-.5*p),c=Math.min(h-o,.5*h-.5*o),d=Math.min(i-p,.5*i-.5*p),j>0&&e>a&&(e=a-1+Math.pow(-a+m+j,.8)||0),0>j&&c>e&&(e=c+1-Math.pow(c-m-j,.8)||0),k>0&&f>b&&(f=b-1+Math.pow(-b+n+k,.8)||0),0>k&&d>f&&(f=d+1-Math.pow(d-n-k,.8)||0),{top:f,left:e}},k.prototype.limitPosition=function(a,b,c,d){var e=this,f=e.canvasWidth,g=e.canvasHeight;return c>f?(a=a>0?0:a,a=f-c>a?f-c:a):a=Math.max(0,f/2-c/2),d>g?(b=b>0?0:b,b=g-d>b?g-d:b):b=Math.max(0,g/2-d/2),{top:b,left:a}},k.prototype.onZoom=function(){var b=this,f=b.contentStartPos,h=f.width,i=f.height,j=f.left,k=f.top,l=g(b.newPoints[0],b.newPoints[1]),m=l/b.startDistanceBetweenFingers,n=Math.floor(h*m),o=Math.floor(i*m),p=(h-n)*b.percentageOfImageAtPinchPointX,q=(i-o)*b.percentageOfImageAtPinchPointY,r=(b.newPoints[0].x+b.newPoints[1].x)/2-c(a).scrollLeft(),s=(b.newPoints[0].y+b.newPoints[1].y)/2-c(a).scrollTop(),t=r-b.centerPointStartX,u=s-b.centerPointStartY,v=j+(p+t),w=k+(q+u),x={top:w,left:v,scaleX:m,scaleY:m};b.canTap=!1,b.newWidth=n,b.newHeight=o,b.contentLastPos=x,b.requestId&&(e(b.requestId),b.requestId=null),b.requestId=d(function(){c.fancybox.setTranslate(b.$content,b.contentLastPos)})},k.prototype.ontouchend=function(a){var d=this,g=Math.max((new Date).getTime()-d.startTime,1),h=d.isSwiping,i=d.isPanning,j=d.isZooming,k=d.isScrolling;return d.endPoints=f(a),d.$container.removeClass("fancybox-controls--isGrabbing"),c(b).off(".fb.touch"),b.removeEventListener("scroll",d.onscroll,!0),d.requestId&&(e(d.requestId),d.requestId=null),d.isSwiping=!1,d.isPanning=!1,d.isZooming=!1,d.isScrolling=!1,d.instance.isDragging=!1,d.canTap?d.onTap(a):(d.speed=366,d.velocityX=d.distanceX/g*.5,d.velocityY=d.distanceY/g*.5,d.speedX=Math.max(.5*d.speed,Math.min(1.5*d.speed,1/Math.abs(d.velocityX)*d.speed)),void(i?d.endPanning():j?d.endZooming():d.endSwiping(h,k)))},k.prototype.endSwiping=function(a,b){var d=this,e=!1,f=d.instance.group.length;d.sliderLastPos=null,"y"==a&&!b&&Math.abs(d.distanceY)>50?(c.fancybox.animate(d.instance.current.$slide,{top:d.sliderStartPos.top+d.distanceY+150*d.velocityY,opacity:0},200),e=d.instance.close(!0,200)):"x"==a&&d.distanceX>50&&f>1?e=d.instance.previous(d.speedX):"x"==a&&d.distanceX<-50&&f>1&&(e=d.instance.next(d.speedX)),e!==!1||"x"!=a&&"y"!=a||(b||2>f?d.instance.centerSlide(d.instance.current,150):d.instance.jumpTo(d.instance.current.index)),d.$container.removeClass("fancybox-is-sliding")},k.prototype.endPanning=function(){var a,b,d,e=this;e.contentLastPos&&(e.opts.momentum===!1?(a=e.contentLastPos.left,b=e.contentLastPos.top):(a=e.contentLastPos.left+e.velocityX*e.speed,b=e.contentLastPos.top+e.velocityY*e.speed),d=e.limitPosition(a,b,e.contentStartPos.width,e.contentStartPos.height),d.width=e.contentStartPos.width,d.height=e.contentStartPos.height,c.fancybox.animate(e.$content,d,330))},k.prototype.endZooming=function(){var a,b,d,e,f=this,g=f.instance.current,h=f.newWidth,i=f.newHeight;f.contentLastPos&&(a=f.contentLastPos.left,b=f.contentLastPos.top,e={top:b,left:a,width:h,height:i,scaleX:1,scaleY:1},c.fancybox.setTranslate(f.$content,e),h<f.canvasWidth&&i<f.canvasHeight?f.instance.scaleToFit(150):h>g.width||i>g.height?f.instance.scaleToActual(f.centerPointStartX,f.centerPointStartY,150):(d=f.limitPosition(a,b,h,i),c.fancybox.setTranslate(f.$content,c.fancybox.getTranslate(f.$content)),c.fancybox.animate(f.$content,d,150)))},k.prototype.onTap=function(b){var d,e=this,g=c(b.target),h=e.instance,i=h.current,j=b&&f(b)||e.startPoints,k=j[0]?j[0].x-c(a).scrollLeft()-e.stagePos.left:0,l=j[0]?j[0].y-c(a).scrollTop()-e.stagePos.top:0,m=function(a){var d=i.opts[a];if(c.isFunction(d)&&(d=d.apply(h,[i,b])),d)switch(d){case"close":h.close(e.startEvent);break;case"toggleControls":h.toggleControls(!0);break;case"next":h.next();break;case"nextOrClose":h.group.length>1?h.next():h.close(e.startEvent);break;case"zoom":"image"==i.type&&(i.isLoaded||i.$ghost)&&(h.canPan()?h.scaleToFit():h.isScaledDown()?h.scaleToActual(k,l):h.group.length<2&&h.close(e.startEvent))}};if((!b.originalEvent||2!=b.originalEvent.button)&&(g.is("img")||!(k>g[0].clientWidth+g.offset().left))){if(g.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))d="Outside";else if(g.is(".fancybox-slide"))d="Slide";else{if(!h.current.$content||!h.current.$content.find(g).addBack().filter(g).length)return;d="Content"}if(e.tapped){if(clearTimeout(e.tapped),e.tapped=null,Math.abs(k-e.tapX)>50||Math.abs(l-e.tapY)>50)return this;m("dblclick"+d)}else e.tapX=k,e.tapY=l,i.opts["dblclick"+d]&&i.opts["dblclick"+d]!==i.opts["click"+d]?e.tapped=setTimeout(function(){e.tapped=null,m("click"+d)},500):m("click"+d);return this}},c(b).on("onActivate.fb",function(a,b){b&&!b.Guestures&&(b.Guestures=new k(b))})}(window,document,window.jQuery||jQuery),function(a,b){"use strict";b.extend(!0,b.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><svg viewBox="0 0 40 40"><path d="M13,12 L27,20 L13,27 Z" /><path d="M15,10 v19 M23,10 v19" /></svg></button>'},slideShow:{autoStart:!1,speed:3e3}});var c=function(a){this.instance=a,this.init()};b.extend(c.prototype,{timer:null,isActive:!1,$button:null,init:function(){var a=this;a.$button=a.instance.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){a.toggle()}),(a.instance.group.length<2||!a.instance.group[a.instance.currIndex].opts.slideShow)&&a.$button.hide()},set:function(a){var b=this;b.instance&&b.instance.current&&(a===!0||b.instance.current.opts.loop||b.instance.currIndex<b.instance.group.length-1)?b.timer=setTimeout(function(){b.isActive&&b.instance.jumpTo((b.instance.currIndex+1)%b.instance.group.length)},b.instance.current.opts.slideShow.speed):(b.stop(),b.instance.idleSecondsCounter=0,b.instance.showControls())},clear:function(){var a=this;clearTimeout(a.timer),a.timer=null},start:function(){var a=this,b=a.instance.current;b&&(a.isActive=!0,a.$button.attr("title",b.opts.i18n[b.opts.lang].PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),a.set(!0))},stop:function(){var a=this,b=a.instance.current;a.clear(),a.$button.attr("title",b.opts.i18n[b.opts.lang].PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play"),a.isActive=!1},toggle:function(){var a=this;a.isActive?a.stop():a.start()}}),b(a).on({"onInit.fb":function(a,b){b&&!b.SlideShow&&(b.SlideShow=new c(b))},"beforeShow.fb":function(a,b,c,d){var e=b&&b.SlideShow;d?e&&c.opts.slideShow.autoStart&&e.start():e&&e.isActive&&e.clear()},"afterShow.fb":function(a,b,c){var d=b&&b.SlideShow;d&&d.isActive&&d.set()},"afterKeydown.fb":function(c,d,e,f,g){var h=d&&d.SlideShow;!h||!e.opts.slideShow||80!==g&&32!==g||b(a.activeElement).is("button,a,input")||(f.preventDefault(),h.toggle())},"beforeClose.fb onDeactivate.fb":function(a,b){var c=b&&b.SlideShow;c&&c.stop()}}),b(a).on("visibilitychange",function(){var c=b.fancybox.getInstance(),d=c&&c.SlideShow;d&&d.isActive&&(a.hidden?d.clear():d.set())})}(document,window.jQuery||jQuery),function(a,b){"use strict";var c=function(){for(var b=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],c={},d=0;d<b.length;d++){var e=b[d];if(e&&e[1]in a){for(var f=0;f<e.length;f++)c[b[0][f]]=e[f];return c}}return!1}();if(!c)return void(b&&b.fancybox&&(b.fancybox.defaults.btnTpl.fullScreen=!1));var d={request:function(b){b=b||a.documentElement,b[c.requestFullscreen](b.ALLOW_KEYBOARD_INPUT)},exit:function(){a[c.exitFullscreen]()},toggle:function(b){b=b||a.documentElement,this.isFullscreen()?this.exit():this.request(b)},isFullscreen:function(){return Boolean(a[c.fullscreenElement])},enabled:function(){return Boolean(a[c.fullscreenEnabled])}};b.extend(!0,b.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fullscreen" title="{{FULL_SCREEN}}"><svg viewBox="0 0 40 40"><path d="M9,12 v16 h22 v-16 h-22 v8" /></svg></button>'},fullScreen:{autoStart:!1}}),b(a).on({"onInit.fb":function(a,b){var c;b&&b.group[b.currIndex].opts.fullScreen?(c=b.$refs.container,c.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(a){a.stopPropagation(),a.preventDefault(),d.toggle()}),b.opts.fullScreen&&b.opts.fullScreen.autoStart===!0&&d.request(),b.FullScreen=d):b&&b.$refs.toolbar.find("[data-fancybox-fullscreen]").hide()},"afterKeydown.fb":function(a,b,c,d,e){b&&b.FullScreen&&70===e&&(d.preventDefault(),b.FullScreen.toggle())},"beforeClose.fb":function(a,b){b&&b.FullScreen&&b.$refs.container.hasClass("fancybox-is-fullscreen")&&d.exit()}}),b(a).on(c.fullscreenchange,function(){var a=d.isFullscreen(),c=b.fancybox.getInstance();c&&(c.current&&"image"===c.current.type&&c.isAnimating&&(c.current.$content.css("transition","none"),c.isAnimating=!1,c.update(!0,!0,0)),c.trigger("onFullscreenChange",a),c.$refs.container.toggleClass("fancybox-is-fullscreen",a))})}(document,window.jQuery||jQuery),function(a,b){"use strict";var c="fancybox-thumbs",d=c+"-active",e=c+"-loading";b.fancybox.defaults=b.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg viewBox="0 0 120 120"><path d="M30,30 h14 v14 h-14 Z M50,30 h14 v14 h-14 Z M70,30 h14 v14 h-14 Z M30,50 h14 v14 h-14 Z M50,50 h14 v14 h-14 Z M70,50 h14 v14 h-14 Z M30,70 h14 v14 h-14 Z M50,70 h14 v14 h-14 Z M70,70 h14 v14 h-14 Z" /></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},b.fancybox.defaults);var f=function(a){this.init(a)};b.extend(f.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(a){var b,c,d=this;d.instance=a,a.Thumbs=d,d.opts=a.group[a.currIndex].opts.thumbs,b=a.group[0],b=b.opts.thumb||(b.opts.$thumb&&b.opts.$thumb.length?b.opts.$thumb.attr("src"):!1),a.group.length>1&&(c=a.group[1],c=c.opts.thumb||(c.opts.$thumb&&c.opts.$thumb.length?c.opts.$thumb.attr("src"):!1)),d.$button=a.$refs.toolbar.find("[data-fancybox-thumbs]"),d.opts&&b&&c&&b&&c?(d.$button.show().on("click",function(){d.toggle()}),d.isActive=!0):d.$button.hide()},create:function(){var a,d=this,f=d.instance,g=d.opts.parentEl,h=[];d.$grid||(d.$grid=b('<div class="'+c+" "+c+"-"+d.opts.axis+'"></div>').appendTo(f.$refs.container.find(g).addBack().filter(g)),d.$grid.on("click","li",function(){f.jumpTo(b(this).attr("data-index"))})),d.$list||(d.$list=b("<ul>").appendTo(d.$grid)),b.each(f.group,function(b,c){a=c.opts.thumb||(c.opts.$thumb?c.opts.$thumb.attr("src"):null),a||"image"!==c.type||(a=c.src),h.push('<li data-index="'+b+'" tabindex="0" class="'+e+'"'+(a&&a.length?' style="background-image:url('+a+')" />':"")+"></li>")}),d.$list[0].innerHTML=h.join(""),"x"===d.opts.axis&&d.$list.width(parseInt(d.$grid.css("padding-right"),10)+f.group.length*d.$list.children().eq(0).outerWidth(!0))},focus:function(a){var b,c,e=this,f=e.$list,g=e.$grid;e.instance.current&&(b=f.children().removeClass(d).filter('[data-index="'+e.instance.current.index+'"]').addClass(d),c=b.position(),"y"===e.opts.axis&&(c.top<0||c.top>f.height()-b.outerHeight())?f.stop().animate({scrollTop:f.scrollTop()+c.top},a):"x"===e.opts.axis&&(c.left<g.scrollLeft()||c.left>g.scrollLeft()+(g.width()-b.outerWidth()))&&f.parent().stop().animate({scrollLeft:c.left},a))},update:function(){var a=this;a.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),a.isVisible?(a.$grid||a.create(),a.instance.trigger("onThumbsShow"),a.focus(0)):a.$grid&&a.instance.trigger("onThumbsHide"),a.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),b(a).on({"onInit.fb":function(a,b){var c;b&&!b.Thumbs&&(c=new f(b),c.isActive&&c.opts.autoStart===!0&&c.show())},"beforeShow.fb":function(a,b,c,d){var e=b&&b.Thumbs;e&&e.isVisible&&e.focus(d?0:250)},"afterKeydown.fb":function(a,b,c,d,e){var f=b&&b.Thumbs;f&&f.isActive&&71===e&&(d.preventDefault(),f.toggle())},"beforeClose.fb":function(a,b){var c=b&&b.Thumbs;c&&c.isVisible&&c.opts.hideOnClose!==!1&&c.$grid.hide()}})}(document,window.jQuery||jQuery),function(a,b){"use strict";function c(a){var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(a).replace(/[&<>"'`=\/]/g,function(a){return b[a]})}b.extend(!0,b.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class="fancybox-button fancybox-button--share" title="{{SHARE}}"><svg viewBox="0 0 40 40"><path d="M6,30 C8,18 19,16 23,16 L23,16 L23,10 L33,20 L23,29 L23,24 C19,24 8,27 6,30 Z"></svg></button>'},share:{url:function(a,b){return(a.currentHash||"inline"===b.type||"html"===b.type?!1:b.origSrc||b.src)||window.location},tpl:'<div class="fancybox-share"><h1>{{SHARE}}</h1><p><a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg><span>Facebook</span></a><a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg><span>Twitter</span></a><a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg><span>Pinterest</span></a></p><p><input class="fancybox-share__input" type="text" value="{{url_raw}}" /></p></div>'}}),b(a).on("click","[data-fancybox-share]",function(){var a,d,e=b.fancybox.getInstance(),f=e.current||null;f&&("function"===b.type(f.opts.share.url)&&(a=f.opts.share.url.apply(f,[e,f])),d=f.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===f.type?encodeURIComponent(f.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(a)).replace(/\{\{url_raw\}\}/g,c(a)).replace(/\{\{descr\}\}/g,e.$caption?encodeURIComponent(e.$caption.text()):""),b.fancybox.open({src:e.translate(e,d),type:"html",opts:{animationEffect:!1,afterLoad:function(a,b){e.$refs.container.one("beforeClose.fb",function(){a.close(null,0)}),b.$content.find(".fancybox-share__links a").click(function(){return window.open(this.href,"Share","width=550, height=450"),!1})}}}))})}(document,window.jQuery||jQuery),function(a,b,c){"use strict";function d(){var a=b.location.hash.substr(1),c=a.split("-"),d=c.length>1&&/^\+?\d+$/.test(c[c.length-1])?parseInt(c.pop(-1),10)||1:1,e=c.join("-");return{hash:a,index:1>d?1:d,gallery:e}}function e(a){var b;""!==a.gallery&&(b=c("[data-fancybox='"+c.escapeSelector(a.gallery)+"']").eq(a.index-1).trigger("click.fb-start"))}function f(a){var b,c;return a?(b=a.current?a.current.opts:a.opts,c=b.hash||(b.$orig?b.$orig.data("fancybox"):""),""===c?!1:c):!1}c.escapeSelector||(c.escapeSelector=function(a){var b=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,c=function(a,b){return b?"\x00"===a?"�":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a};return(a+"").replace(b,c)}),c(function(){c.fancybox.defaults.hash!==!1&&(c(a).on({"onInit.fb":function(a,b){var c,e;b.group[b.currIndex].opts.hash!==!1&&(c=d(),e=f(b),e&&c.gallery&&e==c.gallery&&(b.currIndex=c.index-1))},"beforeShow.fb":function(c,d,e,g){var h;e&&e.opts.hash!==!1&&(h=f(d),h&&(d.currentHash=h+(d.group.length>1?"-"+(e.index+1):""),b.location.hash!=="#"+d.currentHash&&(d.origHash||(d.origHash=b.location.hash),d.hashTimer&&clearTimeout(d.hashTimer),d.hashTimer=setTimeout(function(){"replaceState"in b.history?(b.history[g?"pushState":"replaceState"]({},a.title,b.location.pathname+b.location.search+"#"+d.currentHash),g&&(d.hasCreatedHistory=!0)):b.location.hash=d.currentHash,d.hashTimer=null},300))))},"beforeClose.fb":function(c,d,e){var g;e.opts.hash!==!1&&(g=f(d),d.currentHash&&d.hasCreatedHistory?b.history.back():d.currentHash&&("replaceState"in b.history?b.history.replaceState({},a.title,b.location.pathname+b.location.search+(d.origHash||"")):b.location.hash=d.origHash),d.currentHash=null,clearTimeout(d.hashTimer))}}),c(b).on("hashchange.fb",function(){var a,b=d();c.each(c(".fancybox-container").get().reverse(),function(b,d){var e=c(d).data("FancyBox");return e.currentHash?(a=e,!1):void 0}),a?!a.currentHash||a.currentHash===b.gallery+"-"+b.index||1===b.index&&a.currentHash==b.gallery||(a.currentHash=null,a.close()):""!==b.gallery&&e(b)}),setTimeout(function(){c.fancybox.getInstance()||e(d())},50))})}(document,window,window.jQuery||jQuery),function(a,b){"use strict";var c=(new Date).getTime();b(a).on({"onInit.fb":function(a,b,d){b.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(a){var d=b.current,e=(new Date).getTime();b.group.length<2||d.opts.wheel===!1||"auto"===d.opts.wheel&&"image"!==d.type||(a.preventDefault(),a.stopPropagation(),d.$slide.hasClass("fancybox-animated")||(a=a.originalEvent||a,250>e-c||(c=e,b[(-a.deltaY||-a.deltaX||a.wheelDelta||-a.detail)<0?"next":"previous"]())))})}})}(document,window.jQuery||jQuery),!function(a,b){"use strict";function c(b){b=b||{};for(var c in t)t.hasOwnProperty(c)&&(l[c]=b[c]?a.merge(b[c],l[c]):l[c]);l=a.extend(l,b),l.minWidth.sort(p.sortDesc),l.maxWidth.sort(p.sortAsc),l.minHeight.sort(p.sortDesc),l.maxHeight.sort(p.sortAsc);for(var d in t)if(t.hasOwnProperty(d)){s[d]={};for(var e in l[d])if(l[d].hasOwnProperty(e)){var f=window.matchMedia("("+t[d]+": "+(l[d][e]===1/0?1e5:l[d][e])+l.unit+")");f.addListener(g),s[d][l[d][e]]=f}}g()}function d(a,b,c){var d=o.matchMedia(b),e=i(d.media);r[e]||(r[e]={mq:d,active:!0,enter:{},leave:{}},r[e].mq.addListener(h));for(var f in c)c.hasOwnProperty(f)&&r[e].hasOwnProperty(f)&&(r[e][f][a]=c[f]);h(r[e].mq)}function e(a,b){if(a)if(b){var c=i(b);r[c]&&(r[c].enter[a]&&delete r[c].enter[a],r[c].leave[a]&&delete r[c].leave[a])}else for(var d in r)r.hasOwnProperty(d)&&(r[d].enter[a]&&delete r[d].enter[a],r[d].leave[a]&&delete r[d].leave[a])}function f(){q={unit:l.unit};for(var a in t)if(t.hasOwnProperty(a))for(var b in s[a])if(s[a].hasOwnProperty(b)&&s[a][b].matches){var c="Infinity"===b?1/0:parseInt(b,10);a.indexOf("max")>-1?(!q[a]||c<q[a])&&(q[a]=c):(!q[a]||c>q[a])&&(q[a]=c)}}function g(){f(),n.trigger(m.mqChange,[q])}function h(a){var b=i(a.media),c=r[b],d=a.matches?m.enter:m.leave;if(c&&c.active||!c.active&&a.matches){for(var e in c[d])c[d].hasOwnProperty(e)&&c[d][e].apply(c.mq);c.active=!0}}function i(a){return a.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"").replace(/^\s+|\s+$/g,"")}function j(){return q}var k=b.Plugin("mediaquery",{utilities:{_initialize:c,state:j,bind:d,unbind:e},events:{mqChange:"mqchange"}}),l={minWidth:[0],maxWidth:[1/0],minHeight:[0],maxHeight:[1/0],unit:"px"},m=a.extend(k.events,{enter:"enter",leave:"leave"}),n=b.$window,o=n[0],p=k.functions,q=null,r=[],s={},t={minWidth:"min-width",maxWidth:"max-width",minHeight:"min-height",maxHeight:"max-height"}}(jQuery,Formstone),function(a,b,c){"use strict";function d(){x=a("html, body")}function e(b){b.handleGuid=v.handle+b.guid,b.isToggle="toggle"===b.type,b.open=!1,b.isToggle&&(b.gravity="");var c=v.base,d=[c,b.type].join("-"),e=b.gravity?[d,b.gravity].join("-"):"",f=[b.rawGuid,b.customClass].join(" ");
b.handle=this.data(t+"-handle"),b.content=this.data(t+"-content"),b.handleClasses=[v.handle,v.handle.replace(c,d),e?v.handle.replace(c,e):"",b.handleGuid,f].join(" "),b.navClasses=[v.nav.replace(c,d),e?v.nav.replace(c,e):"",f].join(" "),b.contentClasses=[v.content.replace(c,d),e?v.content.replace(c,e):"",f].join(" "),b.$nav=this.addClass(b.navClasses),b.$handle=a(b.handle).addClass(b.handleClasses),b.$content=a(b.content).addClass(b.contentClasses),b.$animate=a().add(b.$nav).add(b.$content),q(b),b.$handle.attr("data-swap-target",b.dotGuid).attr("data-swap-linked","."+b.handleGuid).attr("data-swap-group",v.base).on("activate.swap"+b.dotGuid,b,k).on("deactivate.swap"+b.dotGuid,b,l).on("enable.swap"+b.dotGuid,b,m).on("disable.swap"+b.dotGuid,b,n).fsSwap({maxWidth:b.maxWidth,classes:{target:b.dotGuid,enabled:u.enabled,active:u.open,raw:{target:b.rawGuid,enabled:v.enabled,active:v.open}}})}function f(a){a.$content.removeClass(a.contentClasses).off(w.namespace),a.$handle.removeAttr("data-swap-target").removeData("swap-target").removeAttr("data-swap-linked").removeData("swap-linked").removeClass(a.handleClasses).off(a.dotGuid).text(a.originalLabel).fsSwap("destroy"),r(a),p(a),this.removeClass(a.navClasses).off(w.namespace)}function g(a){a.$handle.fsSwap("activate")}function h(a){a.$handle.fsSwap("deactivate")}function i(a){a.$handle.fsSwap("enable")}function j(a){a.$handle.fsSwap("disable")}function k(a){if(!a.originalEvent){var b=a.data;b.open||(b.$el.trigger(w.open),b.$content.addClass(v.open).one(w.clickTouchStart,function(){h(b)}),b.label&&b.$handle.text(b.labels.open),o(b),b.open=!0)}}function l(a){if(!a.originalEvent){var b=a.data;b.open&&(b.$el.trigger(w.close),b.$content.removeClass(v.open).off(w.namespace),b.label&&b.$handle.text(b.labels.closed),p(b),b.open=!1)}}function m(a){var b=a.data;b.$content.addClass(v.enabled),setTimeout(function(){b.$animate.addClass(v.animated)},0),b.label&&b.$handle.text(b.labels.closed)}function n(a){var b=a.data;b.$content.removeClass(v.enabled,v.animated),b.$animate.removeClass(v.animated),r(b),p(b)}function o(a){a.isToggle||x.addClass(v.lock)}function p(a){a.isToggle||x.removeClass(v.lock)}function q(a){if(a.label)if(a.$handle.length>1){a.originalLabel=[];for(var b=0,c=a.$handle.length;c>b;b++)a.originalLabel[b]=a.$handle.eq(b).text()}else a.originalLabel=a.$handle.text()}function r(a){if(a.label)if(a.$handle.length>1)for(var b=0,c=a.$handle.length;c>b;b++)a.$handle.eq(b).text(a.originalLabel[b]);else a.$handle.text(a.originalLabel)}var s=b.Plugin("navigation",{widget:!0,defaults:{customClass:"",gravity:"left",label:!0,labels:{closed:"Menu",open:"Close"},maxWidth:"980px",type:"toggle"},classes:["handle","nav","content","animated","enabled","open","toggle","push","reveal","overlay","left","right","lock"],events:{tap:"tap",open:"open",close:"close"},methods:{_setup:d,_construct:e,_destruct:f,open:g,close:h,enable:i,disable:j}}),t=s.namespace,u=s.classes,v=u.raw,w=s.events,x=(s.functions,null)}(jQuery,Formstone),function(a,b,c){"use strict";function d(b){b.enabled=!1,b.active=!1,b.classes=a.extend(!0,{},m,b.classes),b.target=this.data(l+"-target"),b.$target=a(b.target).addClass(b.classes.raw.target),b.linked=this.data(l+"-linked"),b.mq="(max-width:"+(b.maxWidth===1/0?"100000px":b.maxWidth)+")";var c=this.data(l+"-group");b.group=c?"[data-"+l+'-group="'+c+'"]':!1,!b.collapse&&b.group&&a(b.group).eq(0).attr("data-"+l+"-active","true"),b.onEnable=this.data(l+"-active"),b.$swaps=a().add(this).add(b.$target),this.fsTouch({tap:!0}).on(n.tap+b.dotGuid,b,j),a.fsMediaquery("bind",b.rawGuid,b.mq,{enter:function(){h.call(b.$el,b)},leave:function(){i.call(b.$el,b)}})}function e(b){a.fsMediaquery("unbind",b.rawGuid),b.$swaps.removeClass([b.classes.raw.enabled,b.classes.raw.active].join(" ")).off(n.namespace),this.fsTouch("destroy")}function f(b,c){if(b.enabled&&!b.active){a(b.group).not(b.$el)[k.namespaceClean]("deactivate");var d=b.group?a(b.group).index(b.$el):null;b.$swaps.addClass(b.classes.raw.active),c||(b.linked&&a(b.linked).not(b.$el).swap("activate",!0),this.trigger(n.activate,[d])),b.active=!0}}function g(b,c){b.enabled&&b.active&&(b.$swaps.removeClass(b.classes.raw.active),c||(b.linked&&a(b.linked).not(b.$el).swap("deactivate",!0),this.trigger(n.deactivate)),b.active=!1)}function h(b,c){b.enabled||(b.enabled=!0,b.$swaps.addClass(b.classes.raw.enabled),c||a(b.linked).not(b.$el).swap("enable"),this.trigger(n.enable),b.onEnable?(b.active=!0,b.$swaps.addClass(b.classes.raw.active)):(b.active=!0,g.call(this,b)))}function i(b,c){b.enabled&&(b.enabled=!1,b.$swaps.removeClass([b.classes.raw.enabled,b.classes.raw.active].join(" ")),c||a(b.linked).not(b.$el).swap("disable"),this.trigger(n.disable))}function j(a){o.killEvent(a);var b=a.data;b.active&&b.collapse?g.call(b.$el,b):f.call(b.$el,b)}var k=b.Plugin("swap",{widget:!0,defaults:{collapse:!0,maxWidth:1/0},classes:["target","enabled","active"],events:{tap:"tap",activate:"activate",deactivate:"deactivate",enable:"enable",disable:"disable"},methods:{_construct:d,_destruct:e,activate:f,deactivate:g,enable:h,disable:i}}),l=k.namespace,m=k.classes,n=k.events,o=k.functions}(jQuery,Formstone),function(a,b){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("jquery")):a.jQueryBridget=b(a,a.jQuery)}(window,function(a,b){"use strict";function c(c,f,h){function i(a,b,d){var e,f="$()."+c+'("'+b+'")';return a.each(function(a,i){var j=h.data(i,c);if(!j)return void g(c+" not initialized. Cannot call methods, i.e. "+f);var k=j[b];if(!k||"_"==b.charAt(0))return void g(f+" is not a valid method");var l=k.apply(j,d);e=void 0===e?l:e}),void 0!==e?e:a}function j(a,b){a.each(function(a,d){var e=h.data(d,c);e?(e.option(b),e._init()):(e=new f(d,b),h.data(d,c,e))})}h=h||b||a.jQuery,h&&(f.prototype.option||(f.prototype.option=function(a){h.isPlainObject(a)&&(this.options=h.extend(!0,this.options,a))}),h.fn[c]=function(a){if("string"==typeof a){var b=e.call(arguments,1);return i(this,a,b)}return j(this,a),this},d(h))}function d(a){!a||a&&a.bridget||(a.bridget=c)}var e=Array.prototype.slice,f=a.console,g="undefined"==typeof f?function(){}:function(a){f.error(a)};return d(b||a.jQuery),c}),function(a,b){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",b):"object"==typeof module&&module.exports?module.exports=b():a.EvEmitter=b()}("undefined"!=typeof window?window:this,function(){function a(){}var b=a.prototype;return b.on=function(a,b){if(a&&b){var c=this._events=this._events||{},d=c[a]=c[a]||[];return-1==d.indexOf(b)&&d.push(b),this}},b.once=function(a,b){if(a&&b){this.on(a,b);var c=this._onceEvents=this._onceEvents||{},d=c[a]=c[a]||{};return d[b]=!0,this}},b.off=function(a,b){var c=this._events&&this._events[a];if(c&&c.length){var d=c.indexOf(b);return-1!=d&&c.splice(d,1),this}},b.emitEvent=function(a,b){var c=this._events&&this._events[a];if(c&&c.length){c=c.slice(0),b=b||[];for(var d=this._onceEvents&&this._onceEvents[a],e=0;e<c.length;e++){var f=c[e],g=d&&d[f];g&&(this.off(a,f),delete d[f]),f.apply(this,b)}return this}},b.allOff=function(){delete this._events,delete this._onceEvents},a}),function(a,b){"function"==typeof define&&define.amd?define("get-size/get-size",b):"object"==typeof module&&module.exports?module.exports=b():a.getSize=b()}(window,function(){"use strict";function a(a){var b=parseFloat(a),c=-1==a.indexOf("%")&&!isNaN(b);return c&&b}function b(){}function c(){for(var a={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},b=0;j>b;b++){var c=i[b];a[c]=0}return a}function d(a){var b=getComputedStyle(a);return b||h("Style returned "+b+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),b}function e(){if(!k){k=!0;var b=document.createElement("div");b.style.width="200px",b.style.padding="1px 2px 3px 4px",b.style.borderStyle="solid",b.style.borderWidth="1px 2px 3px 4px",b.style.boxSizing="border-box";var c=document.body||document.documentElement;c.appendChild(b);var e=d(b);g=200==Math.round(a(e.width)),f.isBoxSizeOuter=g,c.removeChild(b)}}function f(b){if(e(),"string"==typeof b&&(b=document.querySelector(b)),b&&"object"==typeof b&&b.nodeType){var f=d(b);if("none"==f.display)return c();var h={};h.width=b.offsetWidth,h.height=b.offsetHeight;for(var k=h.isBorderBox="border-box"==f.boxSizing,l=0;j>l;l++){var m=i[l],n=f[m],o=parseFloat(n);h[m]=isNaN(o)?0:o}var p=h.paddingLeft+h.paddingRight,q=h.paddingTop+h.paddingBottom,r=h.marginLeft+h.marginRight,s=h.marginTop+h.marginBottom,t=h.borderLeftWidth+h.borderRightWidth,u=h.borderTopWidth+h.borderBottomWidth,v=k&&g,w=a(f.width);w!==!1&&(h.width=w+(v?0:p+t));var x=a(f.height);return x!==!1&&(h.height=x+(v?0:q+u)),h.innerWidth=h.width-(p+t),h.innerHeight=h.height-(q+u),h.outerWidth=h.width+r,h.outerHeight=h.height+s,h}}var g,h="undefined"==typeof console?b:function(a){console.error(a)},i=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],j=i.length,k=!1;return f}),function(a,b){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",b):"object"==typeof module&&module.exports?module.exports=b():a.matchesSelector=b()}(window,function(){"use strict";var a=function(){var a=window.Element.prototype;if(a.matches)return"matches";if(a.matchesSelector)return"matchesSelector";for(var b=["webkit","moz","ms","o"],c=0;c<b.length;c++){var d=b[c],e=d+"MatchesSelector";if(a[e])return e}}();return function(b,c){return b[a](c)}}),function(a,b){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("desandro-matches-selector")):a.fizzyUIUtils=b(a,a.matchesSelector)}(window,function(a,b){var c={};c.extend=function(a,b){for(var c in b)a[c]=b[c];return a},c.modulo=function(a,b){return(a%b+b)%b};var d=Array.prototype.slice;c.makeArray=function(a){if(Array.isArray(a))return a;if(null===a||void 0===a)return[];var b="object"==typeof a&&"number"==typeof a.length;return b?d.call(a):[a]},c.removeFrom=function(a,b){var c=a.indexOf(b);-1!=c&&a.splice(c,1)},c.getParent=function(a,c){for(;a.parentNode&&a!=document.body;)if(a=a.parentNode,b(a,c))return a},c.getQueryElement=function(a){return"string"==typeof a?document.querySelector(a):a},c.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},c.filterFindElements=function(a,d){a=c.makeArray(a);var e=[];return a.forEach(function(a){if(a instanceof HTMLElement){if(!d)return void e.push(a);b(a,d)&&e.push(a);for(var c=a.querySelectorAll(d),f=0;f<c.length;f++)e.push(c[f])}}),e},c.debounceMethod=function(a,b,c){c=c||100;var d=a.prototype[b],e=b+"Timeout";a.prototype[b]=function(){var a=this[e];clearTimeout(a);var b=arguments,f=this;this[e]=setTimeout(function(){d.apply(f,b),delete f[e]},c)}},c.docReady=function(a){var b=document.readyState;"complete"==b||"interactive"==b?setTimeout(a):document.addEventListener("DOMContentLoaded",a)},c.toDashed=function(a){return a.replace(/(.)([A-Z])/g,function(a,b,c){return b+"-"+c}).toLowerCase()};var e=a.console;return c.htmlInit=function(b,d){c.docReady(function(){var f=c.toDashed(d),g="data-"+f,h=document.querySelectorAll("["+g+"]"),i=document.querySelectorAll(".js-"+f),j=c.makeArray(h).concat(c.makeArray(i)),k=g+"-options",l=a.jQuery;j.forEach(function(a){var c,f=a.getAttribute(g)||a.getAttribute(k);try{c=f&&JSON.parse(f)}catch(h){return void(e&&e.error("Error parsing "+g+" on "+a.className+": "+h))}var i=new b(a,c);l&&l.data(a,d,i)})})},c}),function(a,b){"function"==typeof define&&define.amd?define("flickity/js/cell",["get-size/get-size"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("get-size")):(a.Flickity=a.Flickity||{},a.Flickity.Cell=b(a,a.getSize))}(window,function(a,b){function c(a,b){this.element=a,this.parent=b,this.create()}var d=c.prototype;return d.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-selected","false"),this.x=0,this.shift=0},d.destroy=function(){this.element.style.position="";var a=this.parent.originSide;this.element.removeAttribute("aria-selected"),this.element.style[a]=""},d.getSize=function(){this.size=b(this.element)},d.setPosition=function(a){this.x=a,this.updateTarget(),this.renderPosition(a)},d.updateTarget=d.setDefaultTarget=function(){var a="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[a]+this.size.width*this.parent.cellAlign},d.renderPosition=function(a){var b=this.parent.originSide;this.element.style[b]=this.parent.getPositionValue(a)},d.wrapShift=function(a){this.shift=a,this.renderPosition(this.x+this.parent.slideableWidth*a)},d.remove=function(){this.element.parentNode.removeChild(this.element)},c}),function(a,b){"function"==typeof define&&define.amd?define("flickity/js/slide",b):"object"==typeof module&&module.exports?module.exports=b():(a.Flickity=a.Flickity||{},a.Flickity.Slide=b())}(window,function(){"use strict";function a(a){this.parent=a,this.isOriginLeft="left"==a.originSide,this.cells=[],this.outerWidth=0,this.height=0}var b=a.prototype;return b.addCell=function(a){if(this.cells.push(a),this.outerWidth+=a.size.outerWidth,this.height=Math.max(a.size.outerHeight,this.height),1==this.cells.length){this.x=a.x;var b=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=a.size[b]}},b.updateTarget=function(){var a=this.isOriginLeft?"marginRight":"marginLeft",b=this.getLastCell(),c=b?b.size[a]:0,d=this.outerWidth-(this.firstMargin+c);this.target=this.x+this.firstMargin+d*this.parent.cellAlign},b.getLastCell=function(){return this.cells[this.cells.length-1]},b.select=function(){this.changeSelected(!0)},b.unselect=function(){this.changeSelected(!1)},b.changeSelected=function(a){var b=a?"add":"remove";this.cells.forEach(function(c){c.element.classList[b]("is-selected"),c.element.setAttribute("aria-selected",a.toString())})},b.getCellElements=function(){return this.cells.map(function(a){return a.element})},a}),function(a,b){"function"==typeof define&&define.amd?define("flickity/js/animate",["fizzy-ui-utils/utils"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("fizzy-ui-utils")):(a.Flickity=a.Flickity||{},a.Flickity.animatePrototype=b(a,a.fizzyUIUtils))}(window,function(a,b){var c={};return c.startAnimation=function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},c.animate=function(){this.applyDragForce(),this.applySelectedAttraction();var a=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(a),this.isAnimating){var b=this;requestAnimationFrame(function(){b.animate()})}},c.positionSlider=function(){var a=this.x;this.options.wrapAround&&this.cells.length>1&&(a=b.modulo(a,this.slideableWidth),a-=this.slideableWidth,this.shiftWrapCells(a)),a+=this.cursorPosition,a=this.options.rightToLeft?-a:a;var c=this.getPositionValue(a);this.slider.style.transform=this.isAnimating?"translate3d("+c+",0,0)":"translateX("+c+")";var d=this.slides[0];if(d){var e=-this.x-d.target,f=e/this.slidesWidth;this.dispatchEvent("scroll",null,[f,e])}},c.positionSliderAtSelected=function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},c.getPositionValue=function(a){return this.options.percentPosition?.01*Math.round(a/this.size.innerWidth*1e4)+"%":Math.round(a)+"px"},c.settle=function(a){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*a)||this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},c.shiftWrapCells=function(a){var b=this.cursorPosition+a;this._shiftCells(this.beforeShiftCells,b,-1);var c=this.size.innerWidth-(a+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,c,1)},c._shiftCells=function(a,b,c){for(var d=0;d<a.length;d++){var e=a[d],f=b>0?c:0;e.wrapShift(f),b-=e.size.outerWidth}},c._unshiftCells=function(a){if(a&&a.length)for(var b=0;b<a.length;b++)a[b].wrapShift(0)},c.integratePhysics=function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},c.applyForce=function(a){this.velocity+=a},c.getFrictionFactor=function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},c.getRestingPosition=function(){return this.x+this.velocity/(1-this.getFrictionFactor())},c.applyDragForce=function(){if(this.isDraggable&&this.isPointerDown){var a=this.dragX-this.x,b=a-this.velocity;this.applyForce(b)}},c.applySelectedAttraction=function(){var a=this.isDraggable&&this.isPointerDown;if(!a&&!this.isFreeScrolling&&this.slides.length){var b=-1*this.selectedSlide.target-this.x,c=b*this.options.selectedAttraction;this.applyForce(c)}},c}),function(a,b){if("function"==typeof define&&define.amd)define("flickity/js/flickity",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./cell","./slide","./animate"],function(c,d,e,f,g,h){return b(a,c,d,e,f,g,h)});else if("object"==typeof module&&module.exports)module.exports=b(a,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./slide"),require("./animate"));else{var c=a.Flickity;a.Flickity=b(a,a.EvEmitter,a.getSize,a.fizzyUIUtils,c.Cell,c.Slide,c.animatePrototype)}}(window,function(a,b,c,d,e,f,g){function h(a,b){for(a=d.makeArray(a);a.length;)b.appendChild(a.shift())}function i(a,b){var c=d.getQueryElement(a);if(!c)return void(l&&l.error("Bad element for Flickity: "+(c||a)));if(this.element=c,this.element.flickityGUID){var e=n[this.element.flickityGUID];return e.option(b),e}j&&(this.$element=j(this.element)),this.options=d.extend({},this.constructor.defaults),this.option(b),this._create()}var j=a.jQuery,k=a.getComputedStyle,l=a.console,m=0,n={};i.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},i.createMethods=[];var o=i.prototype;d.extend(o,b.prototype),o._create=function(){var b=this.guid=++m;this.element.flickityGUID=b,n[b]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&a.addEventListener("resize",this);for(var c in this.options.on){var d=this.options.on[c];this.on(c,d)}i.createMethods.forEach(function(a){this[a]()},this),this.options.watchCSS?this.watchCSS():this.activate()},o.option=function(a){d.extend(this.options,a)},o.activate=function(){if(!this.isActive){this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize();var a=this._filterFindCellElements(this.element.children);h(a,this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate");var b,c=this.options.initialIndex;b=this.isInitActivated?this.selectedIndex:void 0!==c&&this.cells[c]?c:0,this.select(b,!1,!0),this.isInitActivated=!0,this.dispatchEvent("ready")}},o._createSlider=function(){var a=document.createElement("div");a.className="flickity-slider",a.style[this.originSide]=0,this.slider=a},o._filterFindCellElements=function(a){return d.filterFindElements(a,this.options.cellSelector)},o.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},o._makeCells=function(a){var b=this._filterFindCellElements(a),c=b.map(function(a){return new e(a,this)},this);return c},o.getLastCell=function(){return this.cells[this.cells.length-1]},o.getLastSlide=function(){return this.slides[this.slides.length-1]},o.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},o._positionCells=function(a){a=a||0,this.maxCellHeight=a?this.maxCellHeight||0:0;var b=0;if(a>0){var c=this.cells[a-1];b=c.x+c.size.outerWidth}for(var d=this.cells.length,e=a;d>e;e++){var f=this.cells[e];f.setPosition(b),b+=f.size.outerWidth,this.maxCellHeight=Math.max(f.size.outerHeight,this.maxCellHeight)}this.slideableWidth=b,this.updateSlides(),this._containSlides(),this.slidesWidth=d?this.getLastSlide().target-this.slides[0].target:0},o._sizeCells=function(a){a.forEach(function(a){a.getSize()})},o.updateSlides=function(){if(this.slides=[],this.cells.length){var a=new f(this);this.slides.push(a);var b="left"==this.originSide,c=b?"marginRight":"marginLeft",d=this._getCanCellFit();this.cells.forEach(function(b,e){if(!a.cells.length)return void a.addCell(b);var g=a.outerWidth-a.firstMargin+(b.size.outerWidth-b.size[c]);d.call(this,e,g)?a.addCell(b):(a.updateTarget(),a=new f(this),this.slides.push(a),a.addCell(b))},this),a.updateTarget(),this.updateSelectedSlide()}},o._getCanCellFit=function(){var a=this.options.groupCells;if(!a)return function(){return!1};if("number"==typeof a){var b=parseInt(a,10);return function(a){return a%b!==0}}var c="string"==typeof a&&a.match(/^(\d+)%$/),d=c?parseInt(c[1],10)/100:1;return function(a,b){return b<=(this.size.innerWidth+1)*d}},o._init=o.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},o.getSize=function(){this.size=c(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var p={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return o.setCellAlign=function(){var a=p[this.options.cellAlign];this.cellAlign=a?a[this.originSide]:this.options.cellAlign},o.setGallerySize=function(){if(this.options.setGallerySize){var a=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=a+"px"}},o._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var a=this.cursorPosition,b=this.cells.length-1;this.beforeShiftCells=this._getGapCells(a,b,-1),a=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(a,0,1)}},o._getGapCells=function(a,b,c){for(var d=[];a>0;){var e=this.cells[b];if(!e)break;d.push(e),b+=c,a-=e.size.outerWidth}return d},o._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var a=this.options.rightToLeft,b=a?"marginRight":"marginLeft",c=a?"marginLeft":"marginRight",d=this.slideableWidth-this.getLastCell().size[c],e=d<this.size.innerWidth,f=this.cursorPosition+this.cells[0].size[b],g=d-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach(function(a){e?a.target=d*this.cellAlign:(a.target=Math.max(a.target,f),a.target=Math.min(a.target,g))},this)}},o.dispatchEvent=function(a,b,c){var d=b?[b].concat(c):c;if(this.emitEvent(a,d),j&&this.$element){a+=this.options.namespaceJQueryEvents?".flickity":"";var e=a;if(b){var f=j.Event(b);f.type=a,e=f}this.$element.trigger(e,c)}},o.select=function(a,b,c){if(this.isActive&&(a=parseInt(a,10),this._wrapSelect(a),(this.options.wrapAround||b)&&(a=d.modulo(a,this.slides.length)),this.slides[a])){var e=this.selectedIndex;this.selectedIndex=a,this.updateSelectedSlide(),c?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[a]),a!=e&&this.dispatchEvent("change",null,[a]),this.dispatchEvent("cellSelect")}},o._wrapSelect=function(a){var b=this.slides.length,c=this.options.wrapAround&&b>1;if(!c)return a;var e=d.modulo(a,b),f=Math.abs(e-this.selectedIndex),g=Math.abs(e+b-this.selectedIndex),h=Math.abs(e-b-this.selectedIndex);!this.isDragSelect&&f>g?a+=b:!this.isDragSelect&&f>h&&(a-=b),0>a?this.x-=this.slideableWidth:a>=b&&(this.x+=this.slideableWidth)},o.previous=function(a,b){this.select(this.selectedIndex-1,a,b)},o.next=function(a,b){this.select(this.selectedIndex+1,a,b)},o.updateSelectedSlide=function(){var a=this.slides[this.selectedIndex];a&&(this.unselectSelectedSlide(),this.selectedSlide=a,a.select(),this.selectedCells=a.cells,this.selectedElements=a.getCellElements(),this.selectedCell=a.cells[0],this.selectedElement=this.selectedElements[0])},o.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},o.selectCell=function(a,b,c){var d=this.queryCell(a);if(d){var e=this.getCellSlideIndex(d);this.select(e,b,c)}},o.getCellSlideIndex=function(a){for(var b=0;b<this.slides.length;b++){var c=this.slides[b],d=c.cells.indexOf(a);if(-1!=d)return b}},o.getCell=function(a){for(var b=0;b<this.cells.length;b++){var c=this.cells[b];if(c.element==a)return c}},o.getCells=function(a){a=d.makeArray(a);var b=[];return a.forEach(function(a){var c=this.getCell(a);c&&b.push(c)},this),b},o.getCellElements=function(){return this.cells.map(function(a){return a.element})},o.getParentCell=function(a){var b=this.getCell(a);return b?b:(a=d.getParent(a,".flickity-slider > *"),this.getCell(a))},o.getAdjacentCellElements=function(a,b){if(!a)return this.selectedSlide.getCellElements();b=void 0===b?this.selectedIndex:b;var c=this.slides.length;if(1+2*a>=c)return this.getCellElements();for(var e=[],f=b-a;b+a>=f;f++){var g=this.options.wrapAround?d.modulo(f,c):f,h=this.slides[g];h&&(e=e.concat(h.getCellElements()))}return e},o.queryCell=function(a){return"number"==typeof a?this.cells[a]:("string"==typeof a&&(a=this.element.querySelector(a)),this.getCell(a))},o.uiChange=function(){this.emitEvent("uiChange")},o.childUIPointerDown=function(a){this.emitEvent("childUIPointerDown",[a])},o.onresize=function(){this.watchCSS(),this.resize()},d.debounceMethod(i,"onresize",150),o.resize=function(){if(this.isActive){this.getSize(),this.options.wrapAround&&(this.x=d.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var a=this.selectedElements&&this.selectedElements[0];this.selectCell(a,!1,!0)}},o.watchCSS=function(){var a=this.options.watchCSS;if(a){var b=k(this.element,":after").content;-1!=b.indexOf("flickity")?this.activate():this.deactivate()}},o.onkeydown=function(a){var b=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!b){var c=i.keyboardHandlers[a.keyCode];c&&c.call(this)}},i.keyboardHandlers={37:function(){var a=this.options.rightToLeft?"next":"previous";this.uiChange(),this[a]()},39:function(){var a=this.options.rightToLeft?"previous":"next";this.uiChange(),this[a]()}},o.focus=function(){var b=a.pageYOffset;this.element.focus({preventScroll:!0}),a.pageYOffset!=b&&a.scrollTo(a.pageXOffset,b)},o.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach(function(a){a.destroy()}),this.element.removeChild(this.viewport),h(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},o.destroy=function(){this.deactivate(),a.removeEventListener("resize",this),this.emitEvent("destroy"),j&&this.$element&&j.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete n[this.guid]},d.extend(o,g),i.data=function(a){a=d.getQueryElement(a);var b=a&&a.flickityGUID;return b&&n[b]},d.htmlInit(i,"flickity"),j&&j.bridget&&j.bridget("flickity",i),i.setJQuery=function(a){j=a},i.Cell=e,i}),function(a,b){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("ev-emitter")):a.Unipointer=b(a,a.EvEmitter)}(window,function(a,b){function c(){}function d(){}var e=d.prototype=Object.create(b.prototype);e.bindStartEvent=function(a){this._bindStartEvent(a,!0)},e.unbindStartEvent=function(a){this._bindStartEvent(a,!1)},e._bindStartEvent=function(b,c){c=void 0===c?!0:c;var d=c?"addEventListener":"removeEventListener",e="mousedown";a.PointerEvent?e="pointerdown":"ontouchstart"in a&&(e="touchstart"),b[d](e,this)},e.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},e.getTouch=function(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.identifier==this.pointerIdentifier)return c}},e.onmousedown=function(a){var b=a.button;b&&0!==b&&1!==b||this._pointerDown(a,a)},e.ontouchstart=function(a){this._pointerDown(a,a.changedTouches[0])},e.onpointerdown=function(a){this._pointerDown(a,a)},e._pointerDown=function(a,b){a.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==b.pointerId?b.pointerId:b.identifier,this.pointerDown(a,b))},e.pointerDown=function(a,b){this._bindPostStartEvents(a),this.emitEvent("pointerDown",[a,b])};var f={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return e._bindPostStartEvents=function(b){if(b){var c=f[b.type];c.forEach(function(b){a.addEventListener(b,this)},this),this._boundPointerEvents=c}},e._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(b){a.removeEventListener(b,this)},this),delete this._boundPointerEvents)},e.onmousemove=function(a){this._pointerMove(a,a)},e.onpointermove=function(a){a.pointerId==this.pointerIdentifier&&this._pointerMove(a,a)},e.ontouchmove=function(a){var b=this.getTouch(a.changedTouches);b&&this._pointerMove(a,b)},e._pointerMove=function(a,b){this.pointerMove(a,b)},e.pointerMove=function(a,b){this.emitEvent("pointerMove",[a,b])},e.onmouseup=function(a){this._pointerUp(a,a)},e.onpointerup=function(a){a.pointerId==this.pointerIdentifier&&this._pointerUp(a,a)},e.ontouchend=function(a){var b=this.getTouch(a.changedTouches);b&&this._pointerUp(a,b)},e._pointerUp=function(a,b){this._pointerDone(),this.pointerUp(a,b)},e.pointerUp=function(a,b){this.emitEvent("pointerUp",[a,b])},e._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},e._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},e.pointerDone=c,e.onpointercancel=function(a){a.pointerId==this.pointerIdentifier&&this._pointerCancel(a,a)},e.ontouchcancel=function(a){var b=this.getTouch(a.changedTouches);b&&this._pointerCancel(a,b)},e._pointerCancel=function(a,b){this._pointerDone(),this.pointerCancel(a,b)},e.pointerCancel=function(a,b){this.emitEvent("pointerCancel",[a,b])},d.getPointerPoint=function(a){return{x:a.pageX,y:a.pageY}},d}),function(a,b){"function"==typeof define&&define.amd?define("unidragger/unidragger",["unipointer/unipointer"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("unipointer")):a.Unidragger=b(a,a.Unipointer)}(window,function(a,b){function c(){}var d=c.prototype=Object.create(b.prototype);d.bindHandles=function(){this._bindHandles(!0)},d.unbindHandles=function(){this._bindHandles(!1)},d._bindHandles=function(b){b=void 0===b?!0:b;for(var c=b?"addEventListener":"removeEventListener",d=b?this._touchActionValue:"",e=0;e<this.handles.length;e++){var f=this.handles[e];this._bindStartEvent(f,b),f[c]("click",this),a.PointerEvent&&(f.style.touchAction=d)}},d._touchActionValue="none",d.pointerDown=function(a,b){var c=this.okayPointerDown(a);c&&(this.pointerDownPointer=b,a.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(a),this.emitEvent("pointerDown",[a,b]))};var e={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},f={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return d.okayPointerDown=function(a){var b=e[a.target.nodeName],c=f[a.target.type],d=!b||c;
return d||this._pointerReset(),d},d.pointerDownBlur=function(){var a=document.activeElement,b=a&&a.blur&&a!=document.body;b&&a.blur()},d.pointerMove=function(a,b){var c=this._dragPointerMove(a,b);this.emitEvent("pointerMove",[a,b,c]),this._dragMove(a,b,c)},d._dragPointerMove=function(a,b){var c={x:b.pageX-this.pointerDownPointer.pageX,y:b.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(c)&&this._dragStart(a,b),c},d.hasDragStarted=function(a){return Math.abs(a.x)>3||Math.abs(a.y)>3},d.pointerUp=function(a,b){this.emitEvent("pointerUp",[a,b]),this._dragPointerUp(a,b)},d._dragPointerUp=function(a,b){this.isDragging?this._dragEnd(a,b):this._staticClick(a,b)},d._dragStart=function(a,b){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(a,b)},d.dragStart=function(a,b){this.emitEvent("dragStart",[a,b])},d._dragMove=function(a,b,c){this.isDragging&&this.dragMove(a,b,c)},d.dragMove=function(a,b,c){a.preventDefault(),this.emitEvent("dragMove",[a,b,c])},d._dragEnd=function(a,b){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(a,b)},d.dragEnd=function(a,b){this.emitEvent("dragEnd",[a,b])},d.onclick=function(a){this.isPreventingClicks&&a.preventDefault()},d._staticClick=function(a,b){this.isIgnoringMouseUp&&"mouseup"==a.type||(this.staticClick(a,b),"mouseup"!=a.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},d.staticClick=function(a,b){this.emitEvent("staticClick",[a,b])},c.getPointerPoint=b.getPointerPoint,c}),function(a,b){"function"==typeof define&&define.amd?define("flickity/js/drag",["./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],function(c,d,e){return b(a,c,d,e)}):"object"==typeof module&&module.exports?module.exports=b(a,require("./flickity"),require("unidragger"),require("fizzy-ui-utils")):a.Flickity=b(a,a.Flickity,a.Unidragger,a.fizzyUIUtils)}(window,function(a,b,c,d){function e(){return{x:a.pageXOffset,y:a.pageYOffset}}d.extend(b.defaults,{draggable:">1",dragThreshold:3}),b.createMethods.push("_createDrag");var f=b.prototype;d.extend(f,c.prototype),f._touchActionValue="pan-y";var g="createTouch"in document,h=!1;f._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("childUIPointerDown",this._childUIPointerDownDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable),g&&!h&&(a.addEventListener("touchmove",function(){}),h=!0)},f.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},f.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},f.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=this.slides.length>1:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},f.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},f.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},f._uiChangeDrag=function(){delete this.isFreeScrolling},f._childUIPointerDownDrag=function(a){a.preventDefault(),this.pointerDownFocus(a)},f.pointerDown=function(b,c){if(!this.isDraggable)return void this._pointerDownDefault(b,c);var d=this.okayPointerDown(b);d&&(this._pointerDownPreventDefault(b),this.pointerDownFocus(b),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=e(),a.addEventListener("scroll",this),this._pointerDownDefault(b,c))},f._pointerDownDefault=function(a,b){this.pointerDownPointer=b,this._bindPostStartEvents(a),this.dispatchEvent("pointerDown",a,[b])};var i={INPUT:!0,TEXTAREA:!0,SELECT:!0};return f.pointerDownFocus=function(a){var b=i[a.target.nodeName];b||this.focus()},f._pointerDownPreventDefault=function(a){var b="touchstart"==a.type,c="touch"==a.pointerType,d=i[a.target.nodeName];b||c||d||a.preventDefault()},f.hasDragStarted=function(a){return Math.abs(a.x)>this.options.dragThreshold},f.pointerUp=function(a,b){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",a,[b]),this._dragPointerUp(a,b)},f.pointerDone=function(){a.removeEventListener("scroll",this),delete this.pointerDownScroll},f.dragStart=function(b,c){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),a.removeEventListener("scroll",this),this.dispatchEvent("dragStart",b,[c]))},f.pointerMove=function(a,b){var c=this._dragPointerMove(a,b);this.dispatchEvent("pointerMove",a,[b,c]),this._dragMove(a,b,c)},f.dragMove=function(a,b,c){if(this.isDraggable){a.preventDefault(),this.previousDragX=this.dragX;var d=this.options.rightToLeft?-1:1;this.options.wrapAround&&(c.x=c.x%this.slideableWidth);var e=this.dragStartPosition+c.x*d;if(!this.options.wrapAround&&this.slides.length){var f=Math.max(-this.slides[0].target,this.dragStartPosition);e=e>f?.5*(e+f):e;var g=Math.min(-this.getLastSlide().target,this.dragStartPosition);e=g>e?.5*(e+g):e}this.dragX=e,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",a,[b,c])}},f.dragEnd=function(a,b){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var c=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var d=this.getRestingPosition();this.isFreeScrolling=-d>this.slides[0].target&&-d<this.getLastSlide().target}else this.options.freeScroll||c!=this.selectedIndex||(c+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(c),delete this.isDragSelect,this.dispatchEvent("dragEnd",a,[b])}},f.dragEndRestingSelect=function(){var a=this.getRestingPosition(),b=Math.abs(this.getSlideDistance(-a,this.selectedIndex)),c=this._getClosestResting(a,b,1),d=this._getClosestResting(a,b,-1),e=c.distance<d.distance?c.index:d.index;return e},f._getClosestResting=function(a,b,c){for(var d=this.selectedIndex,e=1/0,f=this.options.contain&&!this.options.wrapAround?function(a,b){return b>=a}:function(a,b){return b>a};f(b,e)&&(d+=c,e=b,b=this.getSlideDistance(-a,d),null!==b);)b=Math.abs(b);return{distance:e,index:d-c}},f.getSlideDistance=function(a,b){var c=this.slides.length,e=this.options.wrapAround&&c>1,f=e?d.modulo(b,c):b,g=this.slides[f];if(!g)return null;var h=e?this.slideableWidth*Math.floor(b/c):0;return a-(g.target+h)},f.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var a=this.getSlideDistance(-this.dragX,this.selectedIndex),b=this.previousDragX-this.dragX;return a>0&&b>0?1:0>a&&0>b?-1:0},f.staticClick=function(a,b){var c=this.getParentCell(a.target),d=c&&c.element,e=c&&this.cells.indexOf(c);this.dispatchEvent("staticClick",a,[b,d,e])},f.onscroll=function(){var a=e(),b=this.pointerDownScroll.x-a.x,c=this.pointerDownScroll.y-a.y;(Math.abs(b)>3||Math.abs(c)>3)&&this._pointerDone()},b}),function(a,b){"function"==typeof define&&define.amd?define("tap-listener/tap-listener",["unipointer/unipointer"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("unipointer")):a.TapListener=b(a,a.Unipointer)}(window,function(a,b){function c(a){this.bindTap(a)}var d=c.prototype=Object.create(b.prototype);return d.bindTap=function(a){a&&(this.unbindTap(),this.tapElement=a,this._bindStartEvent(a,!0))},d.unbindTap=function(){this.tapElement&&(this._bindStartEvent(this.tapElement,!0),delete this.tapElement)},d.pointerUp=function(c,d){if(!this.isIgnoringMouseUp||"mouseup"!=c.type){var e=b.getPointerPoint(d),f=this.tapElement.getBoundingClientRect(),g=a.pageXOffset,h=a.pageYOffset,i=e.x>=f.left+g&&e.x<=f.right+g&&e.y>=f.top+h&&e.y<=f.bottom+h;if(i&&this.emitEvent("tap",[c,d]),"mouseup"!=c.type){this.isIgnoringMouseUp=!0;var j=this;setTimeout(function(){delete j.isIgnoringMouseUp},400)}}},d.destroy=function(){this.pointerDone(),this.unbindTap()},c}),function(a,b){"function"==typeof define&&define.amd?define("flickity/js/prev-next-button",["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(c,d,e){return b(a,c,d,e)}):"object"==typeof module&&module.exports?module.exports=b(a,require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):b(a,a.Flickity,a.TapListener,a.fizzyUIUtils)}(window,function(a,b,c,d){"use strict";function e(a,b){this.direction=a,this.parent=b,this._create()}function f(a){return"string"==typeof a?a:"M "+a.x0+",50 L "+a.x1+","+(a.y1+50)+" L "+a.x2+","+(a.y2+50)+" L "+a.x3+",50  L "+a.x2+","+(50-a.y2)+" L "+a.x1+","+(50-a.y1)+" Z"}var g="http://www.w3.org/2000/svg";e.prototype=Object.create(c.prototype),e.prototype._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var a=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==a;var b=this.element=document.createElement("button");b.className="flickity-button flickity-prev-next-button",b.className+=this.isPrevious?" previous":" next",b.setAttribute("type","button"),this.disable(),b.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var c=this.createSVG();b.appendChild(c),this.on("tap",this.onTap),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},e.prototype.activate=function(){this.bindTap(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},e.prototype.deactivate=function(){this.parent.element.removeChild(this.element),c.prototype.destroy.call(this),this.element.removeEventListener("click",this)},e.prototype.createSVG=function(){var a=document.createElementNS(g,"svg");a.setAttribute("class","flickity-button-icon"),a.setAttribute("viewBox","0 0 100 100");var b=document.createElementNS(g,"path"),c=f(this.parent.options.arrowShape);return b.setAttribute("d",c),b.setAttribute("class","arrow"),this.isLeft||b.setAttribute("transform","translate(100, 100) rotate(180) "),a.appendChild(b),a},e.prototype.onTap=function(){if(this.isEnabled){this.parent.uiChange();var a=this.isPrevious?"previous":"next";this.parent[a]()}},e.prototype.handleEvent=d.handleEvent,e.prototype.onclick=function(a){var b=document.activeElement;b&&b==this.element&&this.onTap(a,a)},e.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},e.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},e.prototype.update=function(){var a=this.parent.slides;if(this.parent.options.wrapAround&&a.length>1)return void this.enable();var b=a.length?a.length-1:0,c=this.isPrevious?0:b,d=this.parent.selectedIndex==c?"disable":"enable";this[d]()},e.prototype.destroy=function(){this.deactivate()},d.extend(b.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),b.createMethods.push("_createPrevNextButtons");var h=b.prototype;return h._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new e(-1,this),this.nextButton=new e(1,this),this.on("activate",this.activatePrevNextButtons))},h.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},h.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},b.PrevNextButton=e,b}),function(a,b){"function"==typeof define&&define.amd?define("flickity/js/page-dots",["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(c,d,e){return b(a,c,d,e)}):"object"==typeof module&&module.exports?module.exports=b(a,require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):b(a,a.Flickity,a.TapListener,a.fizzyUIUtils)}(window,function(a,b,c,d){function e(a){this.parent=a,this._create()}e.prototype=new c,e.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.on("tap",this.onTap),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},e.prototype.activate=function(){this.setDots(),this.bindTap(this.holder),this.parent.element.appendChild(this.holder)},e.prototype.deactivate=function(){this.parent.element.removeChild(this.holder),c.prototype.destroy.call(this)},e.prototype.setDots=function(){var a=this.parent.slides.length-this.dots.length;a>0?this.addDots(a):0>a&&this.removeDots(-a)},e.prototype.addDots=function(a){for(var b=document.createDocumentFragment(),c=[],d=this.dots.length,e=d+a,f=d;e>f;f++){var g=document.createElement("li");g.className="dot",g.setAttribute("aria-label","Page dot "+(f+1)),b.appendChild(g),c.push(g)}this.holder.appendChild(b),this.dots=this.dots.concat(c)},e.prototype.removeDots=function(a){var b=this.dots.splice(this.dots.length-a,a);b.forEach(function(a){this.holder.removeChild(a)},this)},e.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},e.prototype.onTap=function(a){var b=a.target;if("LI"==b.nodeName){this.parent.uiChange();var c=this.dots.indexOf(b);this.parent.select(c)}},e.prototype.destroy=function(){this.deactivate()},b.PageDots=e,d.extend(b.defaults,{pageDots:!0}),b.createMethods.push("_createPageDots");var f=b.prototype;return f._createPageDots=function(){this.options.pageDots&&(this.pageDots=new e(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},f.activatePageDots=function(){this.pageDots.activate()},f.updateSelectedPageDots=function(){this.pageDots.updateSelected()},f.updatePageDots=function(){this.pageDots.setDots()},f.deactivatePageDots=function(){this.pageDots.deactivate()},b.PageDots=e,b}),function(a,b){"function"==typeof define&&define.amd?define("flickity/js/player",["ev-emitter/ev-emitter","fizzy-ui-utils/utils","./flickity"],function(a,c,d){return b(a,c,d)}):"object"==typeof module&&module.exports?module.exports=b(require("ev-emitter"),require("fizzy-ui-utils"),require("./flickity")):b(a.EvEmitter,a.fizzyUIUtils,a.Flickity)}(window,function(a,b,c){function d(a){this.parent=a,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}d.prototype=Object.create(a.prototype),d.prototype.play=function(){if("playing"!=this.state){var a=document.hidden;if(a)return void document.addEventListener("visibilitychange",this.onVisibilityPlay);this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()}},d.prototype.tick=function(){if("playing"==this.state){var a=this.parent.options.autoPlay;a="number"==typeof a?a:3e3;var b=this;this.clear(),this.timeout=setTimeout(function(){b.parent.next(!0),b.tick()},a)}},d.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},d.prototype.clear=function(){clearTimeout(this.timeout)},d.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},d.prototype.unpause=function(){"paused"==this.state&&this.play()},d.prototype.visibilityChange=function(){var a=document.hidden;this[a?"pause":"unpause"]()},d.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},b.extend(c.defaults,{pauseAutoPlayOnHover:!0}),c.createMethods.push("_createPlayer");var e=c.prototype;return e._createPlayer=function(){this.player=new d(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},e.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},e.playPlayer=function(){this.player.play()},e.stopPlayer=function(){this.player.stop()},e.pausePlayer=function(){this.player.pause()},e.unpausePlayer=function(){this.player.unpause()},e.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},e.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},e.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},c.Player=d,c}),function(a,b){"function"==typeof define&&define.amd?define("flickity/js/add-remove-cell",["./flickity","fizzy-ui-utils/utils"],function(c,d){return b(a,c,d)}):"object"==typeof module&&module.exports?module.exports=b(a,require("./flickity"),require("fizzy-ui-utils")):b(a,a.Flickity,a.fizzyUIUtils)}(window,function(a,b,c){function d(a){var b=document.createDocumentFragment();return a.forEach(function(a){b.appendChild(a.element)}),b}var e=b.prototype;return e.insert=function(a,b){var c=this._makeCells(a);if(c&&c.length){var e=this.cells.length;b=void 0===b?e:b;var f=d(c),g=b==e;if(g)this.slider.appendChild(f);else{var h=this.cells[b].element;this.slider.insertBefore(f,h)}if(0===b)this.cells=c.concat(this.cells);else if(g)this.cells=this.cells.concat(c);else{var i=this.cells.splice(b,e-b);this.cells=this.cells.concat(c).concat(i)}this._sizeCells(c),this.cellChange(b,!0)}},e.append=function(a){this.insert(a,this.cells.length)},e.prepend=function(a){this.insert(a,0)},e.remove=function(a){var b=this.getCells(a);if(b&&b.length){var d=this.cells.length-1;b.forEach(function(a){a.remove();var b=this.cells.indexOf(a);d=Math.min(b,d),c.removeFrom(this.cells,a)},this),this.cellChange(d,!0)}},e.cellSizeChange=function(a){var b=this.getCell(a);if(b){b.getSize();var c=this.cells.indexOf(b);this.cellChange(c)}},e.cellChange=function(a,b){var c=this.selectedElement;this._positionCells(a),this._getWrapShiftCells(),this.setGallerySize();var d=this.getCell(c);d&&(this.selectedIndex=this.getCellSlideIndex(d)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[a]),this.select(this.selectedIndex),b&&this.positionSliderAtSelected()},b}),function(a,b){"function"==typeof define&&define.amd?define("flickity/js/lazyload",["./flickity","fizzy-ui-utils/utils"],function(c,d){return b(a,c,d)}):"object"==typeof module&&module.exports?module.exports=b(a,require("./flickity"),require("fizzy-ui-utils")):b(a,a.Flickity,a.fizzyUIUtils)}(window,function(a,b,c){"use strict";function d(a){if("IMG"==a.nodeName){var b=a.getAttribute("data-flickity-lazyload"),d=a.getAttribute("data-flickity-lazyload-src"),e=a.getAttribute("data-flickity-lazyload-srcset");if(b||d||e)return[a]}var f="img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]",g=a.querySelectorAll(f);return c.makeArray(g)}function e(a,b){this.img=a,this.flickity=b,this.load()}b.createMethods.push("_createLazyload");var f=b.prototype;return f._createLazyload=function(){this.on("select",this.lazyLoad)},f.lazyLoad=function(){var a=this.options.lazyLoad;if(a){var b="number"==typeof a?a:0,c=this.getAdjacentCellElements(b),f=[];c.forEach(function(a){var b=d(a);f=f.concat(b)}),f.forEach(function(a){new e(a,this)},this)}},e.prototype.handleEvent=c.handleEvent,e.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var a=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),b=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=a,b&&this.img.setAttribute("srcset",b),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},e.prototype.onload=function(a){this.complete(a,"flickity-lazyloaded")},e.prototype.onerror=function(a){this.complete(a,"flickity-lazyerror")},e.prototype.complete=function(a,b){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var c=this.flickity.getParentCell(this.img),d=c&&c.element;this.flickity.cellSizeChange(d),this.img.classList.add(b),this.flickity.dispatchEvent("lazyLoad",a,d)},b.LazyLoader=e,b}),function(a,b){"function"==typeof define&&define.amd?define("flickity/js/index",["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],b):"object"==typeof module&&module.exports&&(module.exports=b(require("./flickity"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./player"),require("./add-remove-cell"),require("./lazyload")))}(window,function(a){return a}),function(a,b){"function"==typeof define&&define.amd?define("flickity-as-nav-for/as-nav-for",["flickity/js/index","fizzy-ui-utils/utils"],b):"object"==typeof module&&module.exports?module.exports=b(require("flickity"),require("fizzy-ui-utils")):a.Flickity=b(a.Flickity,a.fizzyUIUtils)}(window,function(a,b){function c(a,b,c){return(b-a)*c+a}a.createMethods.push("_createAsNavFor");var d=a.prototype;return d._createAsNavFor=function(){this.on("activate",this.activateAsNavFor),this.on("deactivate",this.deactivateAsNavFor),this.on("destroy",this.destroyAsNavFor);var a=this.options.asNavFor;if(a){var b=this;setTimeout(function(){b.setNavCompanion(a)})}},d.setNavCompanion=function(c){c=b.getQueryElement(c);var d=a.data(c);if(d&&d!=this){this.navCompanion=d;var e=this;this.onNavCompanionSelect=function(){e.navCompanionSelect()},d.on("select",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect(!0)}},d.navCompanionSelect=function(a){if(this.navCompanion){var b=this.navCompanion.selectedCells[0],d=this.navCompanion.cells.indexOf(b),e=d+this.navCompanion.selectedCells.length-1,f=Math.floor(c(d,e,this.navCompanion.cellAlign));if(this.selectCell(f,!1,a),this.removeNavSelectedElements(),!(f>=this.cells.length)){var g=this.cells.slice(d,e+1);this.navSelectedElements=g.map(function(a){return a.element}),this.changeNavSelectedClass("add")}}},d.changeNavSelectedClass=function(a){this.navSelectedElements.forEach(function(b){b.classList[a]("is-nav-selected")})},d.activateAsNavFor=function(){this.navCompanionSelect(!0)},d.removeNavSelectedElements=function(){this.navSelectedElements&&(this.changeNavSelectedClass("remove"),delete this.navSelectedElements)},d.onNavStaticClick=function(a,b,c,d){"number"==typeof d&&this.navCompanion.selectCell(d)},d.deactivateAsNavFor=function(){this.removeNavSelectedElements()},d.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("select",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},a}),function(a,b){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("ev-emitter")):a.imagesLoaded=b(a,a.EvEmitter)}("undefined"!=typeof window?window:this,function(a,b){function c(a,b){for(var c in b)a[c]=b[c];return a}function d(a){if(Array.isArray(a))return a;var b="object"==typeof a&&"number"==typeof a.length;return b?j.call(a):[a]}function e(a,b,f){if(!(this instanceof e))return new e(a,b,f);var g=a;return"string"==typeof a&&(g=document.querySelectorAll(a)),g?(this.elements=d(g),this.options=c({},this.options),"function"==typeof b?f=b:c(this.options,b),f&&this.on("always",f),this.getImages(),h&&(this.jqDeferred=new h.Deferred),void setTimeout(this.check.bind(this))):void i.error("Bad element for imagesLoaded "+(g||a))}function f(a){this.img=a}function g(a,b){this.url=a,this.element=b,this.img=new Image}var h=a.jQuery,i=a.console,j=Array.prototype.slice;e.prototype=Object.create(b.prototype),e.prototype.options={},e.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},e.prototype.addElementImages=function(a){"IMG"==a.nodeName&&this.addImage(a),this.options.background===!0&&this.addElementBackgroundImages(a);var b=a.nodeType;if(b&&k[b]){for(var c=a.querySelectorAll("img"),d=0;d<c.length;d++){var e=c[d];this.addImage(e)}if("string"==typeof this.options.background){var f=a.querySelectorAll(this.options.background);for(d=0;d<f.length;d++){var g=f[d];this.addElementBackgroundImages(g)}}}};var k={1:!0,9:!0,11:!0};return e.prototype.addElementBackgroundImages=function(a){var b=getComputedStyle(a);if(b)for(var c=/url\((['"])?(.*?)\1\)/gi,d=c.exec(b.backgroundImage);null!==d;){var e=d&&d[2];e&&this.addBackground(e,a),d=c.exec(b.backgroundImage)}},e.prototype.addImage=function(a){var b=new f(a);this.images.push(b)},e.prototype.addBackground=function(a,b){var c=new g(a,b);this.images.push(c)},e.prototype.check=function(){function a(a,c,d){setTimeout(function(){b.progress(a,c,d)})}var b=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(b){b.once("progress",a),b.check()}):void this.complete()},e.prototype.progress=function(a,b,c){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded,this.emitEvent("progress",[this,a,b]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,a),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&i&&i.log("progress: "+c,a,b)},e.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(a,[this]),this.emitEvent("always",[this]),this.jqDeferred){var b=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[b](this)}},f.prototype=Object.create(b.prototype),f.prototype.check=function(){var a=this.getIsImageComplete();return a?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},f.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},f.prototype.confirm=function(a,b){this.isLoaded=a,this.emitEvent("progress",[this,this.img,b])},f.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},f.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},f.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},f.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},g.prototype=Object.create(f.prototype),g.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var a=this.getIsImageComplete();a&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},g.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},g.prototype.confirm=function(a,b){this.isLoaded=a,this.emitEvent("progress",[this,this.element,b])},e.makeJQueryPlugin=function(b){b=b||a.jQuery,b&&(h=b,h.fn.imagesLoaded=function(a,b){var c=new e(this,a,b);return c.jqDeferred.promise(h(this))})},e.makeJQueryPlugin(),e}),function(a,b){"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],function(c,d){return b(a,c,d)}):"object"==typeof module&&module.exports?module.exports=b(a,require("flickity"),require("imagesloaded")):a.Flickity=b(a,a.Flickity,a.imagesLoaded)}(window,function(a,b,c){"use strict";b.createMethods.push("_createImagesLoaded");var d=b.prototype;return d._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},d.imagesLoaded=function(){function a(a,c){var d=b.getParentCell(c.img);b.cellSizeChange(d&&d.element),b.options.freeScroll||b.positionSliderAtSelected()}if(this.options.imagesLoaded){var b=this;c(this.slider).on("progress",a)}},b}),function(a,b,c){"use strict";function d(a){a.touches=[],a.touching=!1,this.on(s.dragStart,t.killEvent),a.tap?(a.pan=!1,a.scale=!1,a.swipe=!1,b.support.touch?this.on([s.touchStart,s.pointerDown].join(" "),a,g):this.on(s.click,a,l)):(a.pan||a.swipe||a.scale)&&(a.tap=!1,a.swipe&&(a.pan=!0),a.scale&&(a.axis=!1),a.axis?(a.axisX="x"===a.axis,a.axisY="y"===a.axis):p(this,"none"),this.on([s.touchStart,s.pointerDown].join(" "),a,f),a.pan&&!b.support.touch&&this.on(s.mouseDown,a,g))}function e(a){this.off(s.namespace),p(this,"")}function f(a){a.preventManipulation&&a.preventManipulation();var b=a.data,c=a.originalEvent;if(c.type.match(/(up|end)$/i))return void k(a);if(c.pointerId){var d=!1;for(var e in b.touches)b.touches[e].id===c.pointerId&&(d=!0,b.touches[e].pageX=c.clientX,b.touches[e].pageY=c.clientY);d||b.touches.push({id:c.pointerId,pageX:c.clientX,pageY:c.clientY})}else b.touches=c.touches;c.type.match(/(down|start)$/i)?g(a):c.type.match(/move$/i)&&h(a)}function g(b){var c=b.data,d="undefined"!==a.type(c.touches)?c.touches[0]:null;if(c.touching||(c.startE=b.originalEvent,c.startX=d?d.pageX:b.pageX,c.startY=d?d.pageY:b.pageY,c.startT=(new Date).getTime(),c.scaleD=1,c.passed=!1),c.tap)c.clicked=!1,c.$el.on([s.touchMove,s.pointerMove].join(" "),c,f).on([s.touchEnd,s.touchCancel,s.pointerUp,s.pointerCancel].join(" "),c,f);else if(c.pan||c.scale){c.$links&&c.$links.off(s.click);var e=m(c.scale?s.scaleStart:s.panStart,b,c.startX,c.startY,c.scaleD,0,0,"","");if(c.scale&&c.touches&&c.touches.length>=2){var g=c.touches;c.pinch={startX:n(g[0].pageX,g[1].pageX),startY:n(g[0].pageY,g[1].pageY),startD:o(g[1].pageX-g[0].pageX,g[1].pageY-g[0].pageY)},e.pageX=c.startX=c.pinch.startX,e.pageY=c.startY=c.pinch.startY}c.touching||(c.touching=!0,c.pan&&u.on(s.mouseMove,c,h).on(s.mouseUp,c,k),u.on([s.touchMove,s.touchEnd,s.touchCancel,s.pointerMove,s.pointerUp,s.pointerCancel].join(" "),c,f),c.$el.trigger(e))}}function h(b){var c=b.data,d="undefined"!==a.type(c.touches)?c.touches[0]:null,e=d?d.pageX:b.pageX,f=d?d.pageY:b.pageY,g=e-c.startX,h=f-c.startY,i=g>0?"right":"left",j=h>0?"down":"up",l=Math.abs(g)>v,p=Math.abs(h)>v;if(c.tap)(l||p)&&c.$el.off([s.touchMove,s.touchEnd,s.touchCancel,s.pointerMove,s.pointerUp,s.pointerCancel].join(" "));else if(c.pan||c.scale)if(!c.passed&&c.axis&&(c.axisX&&p||c.axisY&&l))k(b);else{!c.passed&&(!c.axis||c.axis&&c.axisX&&l||c.axisY&&p)&&(c.passed=!0),c.passed&&(t.killEvent(b),t.killEvent(c.startE));var q=!0,r=m(c.scale?s.scale:s.pan,b,e,f,c.scaleD,g,h,i,j);if(c.scale)if(c.touches&&c.touches.length>=2){var u=c.touches;c.pinch.endX=n(u[0].pageX,u[1].pageX),c.pinch.endY=n(u[0].pageY,u[1].pageY),c.pinch.endD=o(u[1].pageX-u[0].pageX,u[1].pageY-u[0].pageY),c.scaleD=c.pinch.endD/c.pinch.startD,r.pageX=c.pinch.endX,r.pageY=c.pinch.endY,r.scale=c.scaleD,r.deltaX=c.pinch.endX-c.pinch.startX,r.deltaY=c.pinch.endY-c.pinch.startY}else c.pan||(q=!1);q&&c.$el.trigger(r)}}function i(b,c){b.on(s.click,c,j);var d=a._data(b[0],"events").click;d.unshift(d.pop())}function j(a){t.killEvent(a,!0),a.data.$links.off(s.click)}function k(b){var c=b.data;if(c.tap)c.$el.off([s.touchMove,s.touchEnd,s.touchCancel,s.pointerMove,s.pointerUp,s.pointerCancel,s.mouseMove,s.mouseUp].join(" ")),c.startE.preventDefault(),l(b);else if(c.pan||c.scale){var d="undefined"!==a.type(c.touches)?c.touches[0]:null,e=d?d.pageX:b.pageX,f=d?d.pageY:b.pageY,g=e-c.startX,h=f-c.startY,j=(new Date).getTime(),k=c.scale?s.scaleEnd:s.panEnd,n=g>0?"right":"left",o=h>0?"down":"up",p=Math.abs(g)>1,q=Math.abs(h)>1;if(c.swipe&&Math.abs(g)>v&&j-c.startT<w&&(k=s.swipe),c.axis&&(c.axisX&&q||c.axisY&&p)||p||q){c.$links=c.$el.find("a");for(var r=0,t=c.$links.length;t>r;r++)i(c.$links.eq(r),c)}var x=m(k,b,e,f,c.scaleD,g,h,n,o);u.off([s.touchMove,s.touchEnd,s.touchCancel,s.mouseMove,s.mouseUp,s.pointerMove,s.pointerUp,s.pointerCancel].join(" ")),c.$el.trigger(x),
c.touches=[],c.scale}c.touching=!1}function l(a){t.killEvent(a);var b=a.data;if(!b.clicked){"click"!==a.type&&(b.clicked=!0);var c=b.startE?b.startX:a.pageX,d=b.startE?b.startY:a.pageY,e=m(s.tap,a.originalEvent,c,d,1,0,0);b.$el.trigger(e)}}function m(b,c,d,e,f,g,h,i,j){return a.Event(b,{originalEvent:c,bubbles:!0,pageX:d,pageY:e,scale:f,deltaX:g,deltaY:h,directionX:i,directionY:j})}function n(a,b){return(a+b)/2}function o(a,b){return Math.sqrt(a*a+b*b)}function p(a,b){a.css({"-ms-touch-action":b,"touch-action":b})}var q=!b.window.PointerEvent,r=b.Plugin("touch",{widget:!0,defaults:{axis:!1,pan:!1,scale:!1,swipe:!1,tap:!1},methods:{_construct:d,_destruct:e},events:{pointerDown:q?"MSPointerDown":"pointerdown",pointerUp:q?"MSPointerUp":"pointerup",pointerMove:q?"MSPointerMove":"pointermove",pointerCancel:q?"MSPointerCancel":"pointercancel"}}),s=r.events,t=r.functions,u=b.$window,v=10,w=50;s.tap="tap",s.pan="pan",s.panStart="panstart",s.panEnd="panend",s.scale="scale",s.scaleStart="scalestart",s.scaleEnd="scaleend",s.swipe="swipe"}(jQuery,Formstone),$(document).ready(function(){function a(a,b){a.each(function(){$(this).offset().top>$(window).scrollTop()+$(window).height()*b&&$(this).find(".cd-timeline-img, .cd-timeline-content").addClass("is-hidden")})}function b(a,b){a.each(function(){$(this).offset().top<=$(window).scrollTop()+$(window).height()*b&&$(this).find(".cd-timeline-img").hasClass("is-hidden")&&$(this).find(".cd-timeline-img, .cd-timeline-content").removeClass("is-hidden").addClass("bounce-in")})}$("html").removeClass("no-js"),$.shifter({maxWidth:"768px"}),$(".sec-nav").navigation({maxWidth:"979px"}),$(".testimonials").flexslider({animation:"fade",directionNav:!1}),$(".familymember__slider").flickity({cellAlign:"left",contain:!0,adaptiveHeight:!0,prevNextButtons:!1,imagesLoaded:!0,groupCells:"100%"}),$(".flexslider").flexslider({smoothHeight:!0,slideshow:!1}),$(".action-link").click(function(){return $(this).toggleClass("open"),$(this).parent().next(".action-content").slideToggle(),!1});var c=$(".cd-timeline-block"),d=.8;a(c,d),$(window).on("scroll",function(){window.requestAnimationFrame?window.requestAnimationFrame(function(){b(c,d)}):setTimeout(function(){b(c,d)},100)})});